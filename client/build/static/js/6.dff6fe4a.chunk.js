/*! For license information please see 6.dff6fe4a.chunk.js.LICENSE.txt */
(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[6],{136:function(t,e,n){"use strict";var r=n(0),i=n.n(r).a.createContext(null);i.displayName="CardContext",e.a=i},141:function(t,e,n){"use strict";var r=n(4),i=n(10),o=n(13),a=n.n(o),u=n(0),s=n.n(u),l=n(14),c=["bsPrefix","className","as"],f=["xl","lg","md","sm","xs"],d=s.a.forwardRef((function(t,e){var n=t.bsPrefix,o=t.className,u=t.as,d=void 0===u?"div":u,h=Object(i.a)(t,c),p=Object(l.a)(n,"col"),g=[],v=[];return f.forEach((function(t){var e,n,r,i=h[t];if(delete h[t],"object"===typeof i&&null!=i){var o=i.span;e=void 0===o||o,n=i.offset,r=i.order}else e=i;var a="xs"!==t?"-"+t:"";e&&g.push(!0===e?""+p+a:""+p+a+"-"+e),null!=r&&v.push("order"+a+"-"+r),null!=n&&v.push("offset"+a+"-"+n)})),g.length||g.push(p),s.a.createElement(d,Object(r.a)({},h,{ref:e,className:a.a.apply(void 0,[o].concat(g,v))}))}));d.displayName="Col",e.a=d},158:function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var u in r)n.call(r,u)&&r[u]&&t.push(u)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},159:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canUseDOM=e.slidesOnLeft=e.slidesOnRight=e.siblingDirection=e.getTotalSlides=e.getPostClones=e.getPreClones=e.getTrackLeft=e.getTrackAnimateCSS=e.getTrackCSS=e.checkSpecKeys=e.getSlideCount=e.checkNavigable=e.getNavigableIndexes=e.swipeEnd=e.swipeMove=e.swipeStart=e.keyHandler=e.changeSlide=e.slideHandler=e.initializedState=e.extractObject=e.canGoNext=e.getSwipeDirection=e.getHeight=e.getWidth=e.lazySlidesOnRight=e.lazySlidesOnLeft=e.lazyEndIndex=e.lazyStartIndex=e.getRequiredLazySlides=e.getOnDemandLazySlides=void 0;var r=o(n(0)),i=o(n(27));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t){for(var e=[],n=c(t),r=f(t),i=n;i<r;i++)t.lazyLoadedList.indexOf(i)<0&&e.push(i);return e};e.getOnDemandLazySlides=l;e.getRequiredLazySlides=function(t){for(var e=[],n=c(t),r=f(t),i=n;i<r;i++)e.push(i);return e};var c=function(t){return t.currentSlide-d(t)};e.lazyStartIndex=c;var f=function(t){return t.currentSlide+h(t)};e.lazyEndIndex=f;var d=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0};e.lazySlidesOnLeft=d;var h=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow};e.lazySlidesOnRight=h;var p=function(t){return t&&t.offsetWidth||0};e.getWidth=p;var g=function(t){return t&&t.offsetHeight||0};e.getHeight=g;var v=function(t){var e,n,r,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=t.startX-t.curX,n=t.startY-t.curY,r=Math.atan2(n,e),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===o?i>=35&&i<=135?"up":"down":"vertical"};e.getSwipeDirection=v;var m=function(t){var e=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(e=!1),e};e.canGoNext=m;e.extractObject=function(t,e){var n={};return e.forEach((function(e){return n[e]=t[e]})),n};e.initializedState=function(t){var e,n=r.default.Children.count(t.children),o=Math.ceil(p(i.default.findDOMNode(t.listRef))),a=Math.ceil(p(i.default.findDOMNode(t.trackRef)));if(t.vertical)e=o;else{var u=t.centerMode&&2*parseInt(t.centerPadding);"string"===typeof t.centerPadding&&"%"===t.centerPadding.slice(-1)&&(u*=o/100),e=Math.ceil((o-u)/t.slidesToShow)}var s=i.default.findDOMNode(t.listRef)&&g(i.default.findDOMNode(t.listRef).querySelector('[data-index="0"]')),c=s*t.slidesToShow,f=void 0===t.currentSlide?t.initialSlide:t.currentSlide;t.rtl&&void 0===t.currentSlide&&(f=n-1-t.initialSlide);var d=t.lazyLoadedList||[],h=l({currentSlide:f,lazyLoadedList:d});d.concat(h);var v={slideCount:n,slideWidth:e,listWidth:o,trackWidth:a,currentSlide:f,slideHeight:s,listHeight:c,lazyLoadedList:d};return null===t.autoplaying&&t.autoplay&&(v.autoplaying="playing"),v};e.slideHandler=function(t){var e=t.waitForAnimate,n=t.animating,r=t.fade,i=t.infinite,o=t.index,a=t.slideCount,s=t.lazyLoadedList,c=t.lazyLoad,f=t.currentSlide,d=t.centerMode,h=t.slidesToScroll,p=t.slidesToShow,g=t.useCSS;if(e&&n)return{};var v,y,b,x=o,k={},_={};if(r){if(!i&&(o<0||o>=a))return{};o<0?x=o+a:o>=a&&(x=o-a),c&&s.indexOf(x)<0&&s.push(x),k={animating:!0,currentSlide:x,lazyLoadedList:s},_={animating:!1}}else v=x,x<0?(v=x+a,i?a%h!==0&&(v=a-a%h):v=0):!m(t)&&x>f?x=v=f:d&&x>=a?(x=i?a:a-1,v=i?0:a-1):x>=a&&(v=x-a,i?a%h!==0&&(v=0):v=a-p),y=S(u({},t,{slideIndex:x})),b=S(u({},t,{slideIndex:v})),i||(y===b&&(x=v),y=b),c&&s.concat(l(u({},t,{currentSlide:x}))),g?(k={animating:!0,currentSlide:v,trackStyle:M(u({},t,{left:y})),lazyLoadedList:s},_={animating:!1,currentSlide:v,trackStyle:w(u({},t,{left:b})),swipeLeft:null}):k={currentSlide:v,trackStyle:w(u({},t,{left:b})),lazyLoadedList:s};return{state:k,nextState:_}};e.changeSlide=function(t,e){var n,r,i,o,a=t.slidesToScroll,s=t.slidesToShow,l=t.slideCount,c=t.currentSlide,f=t.lazyLoad,d=t.infinite;if(n=l%a!==0?0:(l-c)%a,"previous"===e.message)o=c-(i=0===n?a:s-n),f&&!d&&(o=-1===(r=c-i)?l-1:r);else if("next"===e.message)o=c+(i=0===n?a:n),f&&!d&&(o=(c+a)%l+n);else if("dots"===e.message){if((o=e.index*e.slidesToScroll)===e.currentSlide)return null}else if("children"===e.message){if((o=e.index)===e.currentSlide)return null;if(d){var h=E(u({},t,{targetSlide:o}));o>e.currentSlide&&"left"===h?o-=l:o<e.currentSlide&&"right"===h&&(o+=l)}}else if("index"===e.message&&(o=Number(e.index))===e.currentSlide)return null;return o};e.keyHandler=function(t,e,n){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!e?"":37===t.keyCode?n?"next":"previous":39===t.keyCode?n?"previous":"next":""};e.swipeStart=function(t,e,n){return"IMG"===t.target.tagName&&t.preventDefault(),!e||!n&&-1!==t.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}};e.swipeMove=function(t,e){var n=e.scrolling,r=e.animating,i=e.vertical,o=e.swipeToSlide,a=e.verticalSwiping,s=e.rtl,l=e.currentSlide,c=e.edgeFriction,f=e.edgeDragged,d=e.onEdge,h=e.swiped,p=e.swiping,g=e.slideCount,y=e.slidesToScroll,b=e.infinite,x=e.touchObject,k=e.swipeEvent,M=e.listHeight,_=e.listWidth;if(!n){if(r)return t.preventDefault();i&&o&&a&&t.preventDefault();var A,C={},E=S(e);x.curX=t.touches?t.touches[0].pageX:t.clientX,x.curY=t.touches?t.touches[0].pageY:t.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var O=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!a&&!p&&O>10)return{scrolling:!0};a&&(x.swipeLength=O);var N=(s?-1:1)*(x.curX>x.startX?1:-1);a&&(N=x.curY>x.startY?1:-1);var T=Math.ceil(g/y),P=v(e.touchObject,a),L=x.swipeLength;return b||(0===l&&"right"===P||l+1>=T&&"left"===P||!m(e)&&"left"===P)&&(L=x.swipeLength*c,!1===f&&d&&(d(P),C.edgeDragged=!0)),!h&&k&&(k(P),C.swiped=!0),A=i?E+L*(M/_)*N:s?E-L*N:E+L*N,a&&(A=E+L*N),C=u({},C,{touchObject:x,swipeLeft:A,trackStyle:w(u({},e,{left:A}))}),Math.abs(x.curX-x.startX)<.8*Math.abs(x.curY-x.startY)?C:(x.swipeLength>10&&(C.swiping=!0,t.preventDefault()),C)}};e.swipeEnd=function(t,e){var n=e.dragging,r=e.swipe,i=e.touchObject,o=e.listWidth,a=e.touchThreshold,s=e.verticalSwiping,l=e.listHeight,c=e.currentSlide,f=e.swipeToSlide,d=e.scrolling,h=e.onSwipe;if(!n)return r&&t.preventDefault(),{};var p=s?l/a:o/a,g=v(i,s),m={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d)return m;if(!i.swipeLength)return m;if(i.swipeLength>p){var y,k;switch(t.preventDefault(),h&&h(g),g){case"left":case"up":k=c+x(e),y=f?b(e,k):k,m.currentDirection=0;break;case"right":case"down":k=c-x(e),y=f?b(e,k):k,m.currentDirection=1;break;default:y=c}m.triggerSlideHandler=y}else{var w=S(e);m.trackStyle=M(u({},e,{left:w}))}return m};var y=function(t){for(var e=t.infinite?2*t.slideCount:t.slideCount,n=t.infinite?-1*t.slidesToShow:0,r=t.infinite?-1*t.slidesToShow:0,i=[];n<e;)i.push(n),n=r+t.slidesToScroll,r+=Math.min(t.slidesToScroll,t.slidesToShow);return i};e.getNavigableIndexes=y;var b=function(t,e){var n=y(t),r=0;if(e>n[n.length-1])e=n[n.length-1];else for(var i in n){if(e<n[i]){e=r;break}r=n[i]}return e};e.checkNavigable=b;var x=function(t){var e=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var n,r=i.default.findDOMNode(t.listRef).querySelectorAll(".slick-slide");if(Array.from(r).every((function(r){if(t.vertical){if(r.offsetTop+g(r)/2>-1*t.swipeLeft)return n=r,!1}else if(r.offsetLeft-e+p(r)/2>-1*t.swipeLeft)return n=r,!1;return!0})),!n)return 0;var o=!0===t.rtl?t.slideCount-t.currentSlide:t.currentSlide;return Math.abs(n.dataset.index-o)||1}return t.slidesToScroll};e.getSlideCount=x;var k=function(t,e){return e.reduce((function(e,n){return e&&t.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",t)};e.checkSpecKeys=k;var w=function(t){var e,n;k(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=t.slideCount+2*t.slidesToShow;t.vertical?n=r*t.slideHeight:e=C(t)*t.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};t.useTransform?i=u({},i,{WebkitTransform:t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",transform:t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",msTransform:t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)"}):t.vertical?i.top=t.left:i.left=t.left;return t.fade&&(i={opacity:1}),e&&(i.width=e),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?i.marginTop=t.left+"px":i.marginLeft=t.left+"px"),i};e.getTrackCSS=w;var M=function(t){k(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var e=w(t);return t.useTransform?(e.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,e.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?e.transition="top "+t.speed+"ms "+t.cssEase:e.transition="left "+t.speed+"ms "+t.cssEase,e};e.getTrackAnimateCSS=M;var S=function(t){if(t.unslick)return 0;k(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var e,n,r=t.slideIndex,o=t.trackRef,a=t.infinite,u=t.centerMode,s=t.slideCount,l=t.slidesToShow,c=t.slidesToScroll,f=t.slideWidth,d=t.listWidth,h=t.variableWidth,p=t.slideHeight,g=t.fade,v=t.vertical;if(g||1===t.slideCount)return 0;var m=0;if(a?(m=-_(t),s%c!==0&&r+c>s&&(m=-(r>s?l-(r-s):s%c)),u&&(m+=parseInt(l/2))):(s%c!==0&&r+c>s&&(m=l-s%c),u&&(m=parseInt(l/2))),e=v?r*p*-1+m*p:r*f*-1+m*f,!0===h){var y,b=i.default.findDOMNode(o);if(y=r+_(t),e=(n=b&&b.childNodes[y])?-1*n.offsetLeft:0,!0===u){y=a?r+_(t):r,n=b&&b.children[y],e=0;for(var x=0;x<y;x++)e-=b&&b.children[x]&&b.children[x].offsetWidth;e-=parseInt(t.centerPadding),e+=n&&(d-n.offsetWidth)/2}}return e};e.getTrackLeft=S;var _=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)};e.getPreClones=_;var A=function(t){return t.unslick||!t.infinite?0:t.slideCount};e.getPostClones=A;var C=function(t){return 1===t.slideCount?1:_(t)+t.slideCount+A(t)};e.getTotalSlides=C;var E=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+O(t)?"left":"right":t.targetSlide<t.currentSlide-N(t)?"right":"left"};e.siblingDirection=E;var O=function(t){var e=t.slidesToShow,n=t.centerMode,r=t.rtl,i=t.centerPadding;if(n){var o=(e-1)/2+1;return parseInt(i)>0&&(o+=1),r&&e%2===0&&(o+=1),o}return r?0:e-1};e.slidesOnRight=O;var N=function(t){var e=t.slidesToShow,n=t.centerMode,r=t.rtl,i=t.centerPadding;if(n){var o=(e-1)/2+1;return parseInt(i)>0&&(o+=1),r||e%2!==0||(o+=1),o}return r?e-1:0};e.slidesOnLeft=N;e.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},173:function(t,e,n){"use strict";var r=n(4),i=n(10),o=n(13),a=n.n(o),u=n(0),s=n.n(u),l=n(14),c=n(41),f=function(t){return s.a.forwardRef((function(e,n){return s.a.createElement("div",Object(r.a)({},e,{ref:n,className:a()(e.className,t)}))}))},d=n(136),h=["bsPrefix","className","variant","as"],p=s.a.forwardRef((function(t,e){var n=t.bsPrefix,o=t.className,u=t.variant,c=t.as,f=void 0===c?"img":c,d=Object(i.a)(t,h),p=Object(l.a)(n,"card-img");return s.a.createElement(f,Object(r.a)({ref:e,className:a()(u?p+"-"+u:p,o)},d))}));p.displayName="CardImg",p.defaultProps={variant:null};var g=p,v=["bsPrefix","className","bg","text","border","body","children","as"],m=f("h5"),y=f("h6"),b=Object(c.a)("card-body"),x=Object(c.a)("card-title",{Component:m}),k=Object(c.a)("card-subtitle",{Component:y}),w=Object(c.a)("card-link",{Component:"a"}),M=Object(c.a)("card-text",{Component:"p"}),S=Object(c.a)("card-header"),_=Object(c.a)("card-footer"),A=Object(c.a)("card-img-overlay"),C=s.a.forwardRef((function(t,e){var n=t.bsPrefix,o=t.className,c=t.bg,f=t.text,h=t.border,p=t.body,g=t.children,m=t.as,y=void 0===m?"div":m,x=Object(i.a)(t,v),k=Object(l.a)(n,"card"),w=Object(u.useMemo)((function(){return{cardHeaderBsPrefix:k+"-header"}}),[k]);return s.a.createElement(d.a.Provider,{value:w},s.a.createElement(y,Object(r.a)({ref:e},x,{className:a()(o,k,c&&"bg-"+c,f&&"text-"+f,h&&"border-"+h)}),p?s.a.createElement(b,null,g):g))}));C.displayName="Card",C.defaultProps={body:!1},C.Img=g,C.Title=x,C.Subtitle=k,C.Body=b,C.Link=w,C.Text=M,C.Header=S,C.Footer=_,C.ImgOverlay=A;e.a=C},175:function(t,e,n){"use strict";var r=n(4),i=n(10),o=n(13),a=n.n(o),u=n(0),s=n.n(u),l=n(14),c=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],f=s.a.forwardRef((function(t,e){var n=t.bsPrefix,o=t.className,u=t.striped,f=t.bordered,d=t.borderless,h=t.hover,p=t.size,g=t.variant,v=t.responsive,m=Object(i.a)(t,c),y=Object(l.a)(n,"table"),b=a()(o,y,g&&y+"-"+g,p&&y+"-"+p,u&&y+"-striped",f&&y+"-bordered",d&&y+"-borderless",h&&y+"-hover"),x=s.a.createElement("table",Object(r.a)({},m,{className:b,ref:e}));if(v){var k=y+"-responsive";return"string"===typeof v&&(k=k+"-"+v),s.a.createElement("div",{className:k},x)}return x}));e.a=f},176:function(t,e,n){"use strict";var r=n(4),i=n(10),o=n(13),a=n.n(o),u=n(0),s=n.n(u),l=n(18),c=(n(49),n(56)),f=n(31),d=["active","className","eventKey","onSelect","onClick","as"],h=s.a.forwardRef((function(t,e){var n=t.active,o=t.className,h=t.eventKey,p=t.onSelect,g=t.onClick,v=t.as,m=Object(i.a)(t,d),y=Object(f.b)(h,m.href),b=Object(u.useContext)(f.a),x=Object(u.useContext)(c.a),k=n;if(x){m.role||"tablist"!==x.role||(m.role="tab");var w=x.getControllerId(y),M=x.getControlledId(y);m["data-rb-event-key"]=y,m.id=w||m.id,m["aria-controls"]=M||m["aria-controls"],k=null==n&&null!=y?x.activeKey===y:n}"tab"===m.role&&(m.disabled&&(m.tabIndex=-1,m["aria-disabled"]=!0),m["aria-selected"]=k);var S=Object(l.a)((function(t){g&&g(t),null!=y&&(p&&p(y,t),b&&b(y,t))}));return s.a.createElement(v,Object(r.a)({},m,{ref:e,onClick:S,className:a()(o,k&&"active")}))}));h.defaultProps={disabled:!1},e.a=h},200:function(t,e,n){"use strict";var r=n(4),i=n(10),o=Function.prototype.bind.call(Function.prototype.call,[].slice);var a=n(0),u=n.n(a),s=n(57),l=n(32),c=n(56),f=n(31),d=u.a.createContext(null),h=["as","onSelect","activeKey","role","onKeyDown"],p=function(){},g=u.a.forwardRef((function(t,e){var n,g,v=t.as,m=void 0===v?"ul":v,y=t.onSelect,b=t.activeKey,x=t.role,k=t.onKeyDown,w=Object(i.a)(t,h),M=Object(s.a)(),S=Object(a.useRef)(!1),_=Object(a.useContext)(f.a),A=Object(a.useContext)(d);A&&(x=x||"tablist",b=A.activeKey,n=A.getControlledId,g=A.getControllerId);var C=Object(a.useRef)(null),E=function(t){var e=C.current;if(!e)return null;var n,r=(n="[data-rb-event-key]:not(.disabled)",o(e.querySelectorAll(n))),i=e.querySelector(".active");if(!i)return null;var a=r.indexOf(i);if(-1===a)return null;var u=a+t;return u>=r.length&&(u=0),u<0&&(u=r.length-1),r[u]},O=function(t,e){null!=t&&(y&&y(t,e),_&&_(t,e))};Object(a.useEffect)((function(){if(C.current&&S.current){var t=C.current.querySelector("[data-rb-event-key].active");t&&t.focus()}S.current=!1}));var N=Object(l.a)(e,C);return u.a.createElement(f.a.Provider,{value:O},u.a.createElement(c.a.Provider,{value:{role:x,activeKey:Object(f.b)(b),getControlledId:n||p,getControllerId:g||p}},u.a.createElement(m,Object(r.a)({},w,{onKeyDown:function(t){var e;switch(k&&k(t),t.key){case"ArrowLeft":case"ArrowUp":e=E(-1);break;case"ArrowRight":case"ArrowDown":e=E(1);break;default:return}e&&(t.preventDefault(),O(e.dataset.rbEventKey,t),S.current=!0,M())},ref:N,role:x}))))}));e.a=g},204:function(t,e,n){var r,i;!function(){var o={version:"3.5.17"},a=[].slice,u=function(t){return a.call(t)},s=this.document;function l(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(s)try{u(s.documentElement.childNodes)[0].nodeType}catch(Ju){u=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),s)try{s.createElement("DIV").style.setProperty("opacity",0,"")}catch(Qu){var f=this.Element.prototype,d=f.setAttribute,h=f.setAttributeNS,p=this.CSSStyleDeclaration.prototype,g=p.setProperty;f.setAttribute=function(t,e){d.call(this,t,e+"")},f.setAttributeNS=function(t,e,n){h.call(this,t,e,n+"")},p.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function m(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function b(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}o.ascending=v,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},o.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},o.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},o.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)y(n=+t[o])&&(r+=n);else for(;++o<i;)y(n=+e.call(t,t[o],o))&&(r+=n);return r},o.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)y(n=m(t[o]))?r+=n:--a;else for(;++o<i;)y(n=m(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},o.median=function(t,e){var n,r=[],i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)y(n=m(t[a]))&&r.push(n);else for(;++a<i;)y(n=m(e.call(t,t[a],a)))&&r.push(n);if(r.length)return o.quantile(r.sort(v),.5)},o.variance=function(t,e){var n,r,i=t.length,o=0,a=0,u=-1,s=0;if(1===arguments.length)for(;++u<i;)y(n=m(t[u]))&&(a+=(r=n-o)*(n-(o+=r/++s)));else for(;++u<i;)y(n=m(e.call(t,t[u],u)))&&(a+=(r=n-o)*(n-(o+=r/++s)));if(s>1)return a/(s-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var x=b(v);function k(t){return t.length}o.bisectLeft=x.left,o.bisect=o.bisectRight=x.right,o.bisector=function(t){return b(1===t.length?function(e,n){return v(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=o.min(t,k),r=new Array(n);++e<n;)for(var i,a=-1,u=r[e]=new Array(i);++a<i;)u[a]=t[a][e];return r},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var w=Math.abs;function M(t){for(var e=1;t*e%1;)e*=10;return e}function S(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function _(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=M(w(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},o.map=function(t,e){var n=new _;if(t instanceof _)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};function A(t){return"__proto__"===(t+="")||"\0"===t[0]?"\0"+t:t}function C(t){return"\0"===(t+="")[0]?t.slice(1):t}function E(t){return A(t)in this._}function O(t){return(t=A(t))in this._&&delete this._[t]}function N(){var t=[];for(var e in this._)t.push(C(e));return t}function T(){var t=0;for(var e in this._)++t;return t}function P(){for(var t in this._)return!1;return!0}function L(){this._=Object.create(null)}function j(t){return t}function D(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function z(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=W.length;n<r;++n){var i=W[n]+e;if(i in t)return i}}S(_,{has:E,get:function(t){return this._[A(t)]},set:function(t,e){return this._[A(t)]=e},remove:O,keys:N,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:C(e),value:this._[e]});return t},size:T,empty:P,forEach:function(t){for(var e in this._)t.call(this,C(e),this._[e])}}),o.nest=function(){var t,e,n={},r=[],i=[];function a(i,o,u){if(u>=r.length)return e?e.call(n,o):t?o.sort(t):o;for(var s,l,c,f,d=-1,h=o.length,p=r[u++],g=new _;++d<h;)(f=g.get(s=p(l=o[d])))?f.push(l):g.set(s,[l]);return i?(l=i(),c=function(t,e){l.set(t,a(i,e,u))}):(l={},c=function(t,e){l[t]=a(i,e,u)}),g.forEach(c),l}return n.map=function(t,e){return a(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var o=[],a=i[n++];return e.forEach((function(e,r){o.push({key:e,values:t(r,n)})})),a?o.sort((function(t,e){return a(t.key,e.key)})):o}(a(o.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new L;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},S(L,{has:E,add:function(t){return this._[A(t+="")]=!0,t},remove:O,values:N,size:T,empty:P,forEach:function(t){for(var e in this._)t.call(this,C(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=D(t,e,e[n]);return t};var W=["webkit","ms","moz","Moz","o","O"];function F(){}function I(){}function R(t){var e=[],n=new _;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function H(){o.event.preventDefault()}function B(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function q(t){for(var e=new I,n=0,r=arguments.length;++n<r;)e[arguments[n]]=R(e);return e.of=function(n,r){return function(i){try{var a=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(n,r)}finally{o.event=a}}},e}o.dispatch=function(){for(var t=new I,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=R(t);return t},I.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},o.event=null,o.requote=function(t){return t.replace(V,"\\$&")};var V=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Y={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function X(t){return Y(t,K),t}var G=function(t,e){return e.querySelector(t)},U=function(t,e){return e.querySelectorAll(t)},Z=function(t,e){var n=t.matches||t[z(t,"matchesSelector")];return(Z=function(t,e){return n.call(t,e)})(t,e)};"function"===typeof Sizzle&&(G=function(t,e){return Sizzle(t,e)[0]||null},U=Sizzle,Z=Sizzle.matchesSelector),o.selection=function(){return o.select(s.documentElement)};var K=o.selection.prototype=[];function $(t){return"function"===typeof t?t:function(){return G(t,this)}}function J(t){return"function"===typeof t?t:function(){return U(t,this)}}K.select=function(t){var e,n,r,i,o=[];t=$(t);for(var a=-1,u=this.length;++a<u;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var s=-1,l=r.length;++s<l;)(i=r[s])?(e.push(n=t.call(i,i.__data__,s,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return X(o)},K.selectAll=function(t){var e,n,r=[];t=J(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=u(t.call(n,n.__data__,s,i))),e.parentNode=n);return X(r)};var Q="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function et(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"===typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function nt(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function it(t){return(t+"").trim().split(/^|\s+/)}function ot(t,e){var n=(t=it(t).map(at)).length;return"function"===typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function at(t){var e=rt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",nt(i+" "+t))):n.setAttribute("class",nt(i.replace(e," ")))}}function ut(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"===typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function st(t,e){return null==e?function(){delete this[t]}:"function"===typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function lt(t){return"function"===typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Q&&e.documentElement.namespaceURI===Q?e.createElement(t):e.createElementNS(n,t)}}function ct(){var t=this.parentNode;t&&t.removeChild(this)}function ft(t){return{__data__:t}}function dt(t){return function(){return Z(this,t)}}function ht(t){return arguments.length||(t=v),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function pt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,u=o.length;a<u;a++)(i=o[a])&&e(i,a,n);return t}function gt(t){return Y(t,vt),t}o.ns={prefix:tt,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tt.hasOwnProperty(n)?{space:tt[n],local:t}:t}},K.attr=function(t,e){if(arguments.length<2){if("string"===typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},K.classed=function(t,e){if(arguments.length<2){if("string"===typeof t){var n=this.node(),r=(t=it(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!rt(t[i]).test(e))return!1;return!0}for(e in t)this.each(ot(e,t[e]));return this}return this.each(ot(t,e))},K.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!==typeof t){for(n in r<2&&(e=""),t)this.each(ut(n,t[n],e));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(ut(t,e,n))},K.property=function(t,e){if(arguments.length<2){if("string"===typeof t)return this.node()[t];for(e in t)this.each(st(e,t[e]));return this}return this.each(st(t,e))},K.text=function(t){return arguments.length?this.each("function"===typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},K.html=function(t){return arguments.length?this.each("function"===typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},K.append=function(t){return t=lt(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},K.insert=function(t,e){return t=lt(t),e=$(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},K.remove=function(){return this.each(ct)},K.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function a(t,n){var r,i,o,a=t.length,c=n.length,f=Math.min(a,c),d=new Array(c),h=new Array(c),p=new Array(a);if(e){var g,v=new _,m=new Array(a);for(r=-1;++r<a;)(i=t[r])&&(v.has(g=e.call(i,i.__data__,r))?p[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<c;)(i=v.get(g=e.call(n,o=n[r],r)))?!0!==i&&(d[r]=i,i.__data__=o):h[r]=ft(o),v.set(g,!0);for(r=-1;++r<a;)r in m&&!0!==v.get(m[r])&&(p[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],o=n[r],i?(i.__data__=o,d[r]=i):h[r]=ft(o);for(;r<c;++r)h[r]=ft(n[r]);for(;r<a;++r)p[r]=t[r]}h.update=d,h.parentNode=d.parentNode=p.parentNode=t.parentNode,u.push(h),s.push(d),l.push(p)}var u=gt([]),s=X([]),l=X([]);if("function"===typeof t)for(;++i<o;)a(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],t);return s.enter=function(){return u},s.exit=function(){return l},s},K.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},K.filter=function(t){var e,n,r,i=[];"function"!==typeof t&&(t=dt(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var u=0,s=n.length;u<s;u++)(r=n[u])&&t.call(r,r.__data__,u,o)&&e.push(r)}return X(i)},K.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},K.sort=function(t){t=ht.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},K.each=function(t){return pt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},K.call=function(t){var e=u(arguments);return t.apply(e[0]=this,e),this},K.empty=function(){return!this.node()},K.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},K.size=function(){var t=0;return pt(this,(function(){++t})),t};var vt=[];function mt(t){var e,n;return function(r,i,o){var a,u=t[o].update,s=u.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=u[e])&&++e<s;);return a}}function yt(t,e,n){var r="__on"+t,i=t.indexOf("."),a=xt;i>0&&(t=t.slice(0,i));var s=bt.get(t);function l(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return s&&(t=s,a=kt),i?e?function(){var i=a(e,u(arguments));l.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:l:e?F:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}o.selection.enter=gt,o.selection.enter.prototype=vt,vt.append=K.append,vt.empty=K.empty,vt.node=K.node,vt.call=K.call,vt.size=K.size,vt.select=function(t){for(var e,n,r,i,o,a=[],u=-1,s=this.length;++u<s;){r=(i=this[u]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,u)),n.__data__=o.__data__):e.push(null)}return X(a)},vt.insert=function(t,e){return arguments.length<2&&(e=mt(this)),K.insert.call(this,t,e)},o.select=function(t){var e;return"string"===typeof t?(e=[G(t,s)]).parentNode=s.documentElement:(e=[t]).parentNode=l(t),X([e])},o.selectAll=function(t){var e;return"string"===typeof t?(e=u(U(t,s))).parentNode=s.documentElement:(e=u(t)).parentNode=null,X([e])},K.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!==typeof t){for(n in r<2&&(e=!1),t)this.each(yt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(yt(t,e,n))};var bt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function xt(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function kt(t,e){var n=xt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}s&&bt.forEach((function(t){"on"+t in s&&bt.remove(t)}));var wt,Mt=0;function St(t){var e=".dragsuppress-"+ ++Mt,n="click"+e,r=o.select(c(t)).on("touchmove"+e,H).on("dragstart"+e,H).on("selectstart"+e,H);if(null==wt&&(wt=!("onselectstart"in t)&&z(t.style,"userSelect")),wt){var i=l(t).style,a=i[wt];i[wt]="none"}return function(t){if(r.on(e,null),wt&&(i[wt]=a),t){var o=function(){r.on(n,null)};r.on(n,(function(){H(),o()}),!0),setTimeout(o,0)}}}o.mouse=function(t){return At(t,B())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function At(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(_t<0){var i=c(t);if(i.scrollX||i.scrollY){var a=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_t=!(a.f||a.e),n.remove()}}return _t?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var u=t.getBoundingClientRect();return[e.clientX-u.left-t.clientLeft,e.clientY-u.top-t.clientTop]}function Ct(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=B().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return At(t,r)},o.behavior.drag=function(){var t=q(i,"drag","dragstart","dragend"),e=null,n=a(F,o.mouse,c,"mousemove","mouseup"),r=a(Ct,o.touch,j,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(n,r,i,a,u){return function(){var s,l=this,c=o.event.target.correspondingElement||o.event.target,f=l.parentNode,d=t.of(l,arguments),h=0,p=n(),g=".drag"+(null==p?"":"-"+p),v=o.select(i(c)).on(a+g,b).on(u+g,x),m=St(c),y=r(f,p);function b(){var t,e,n=r(f,p);n&&(t=n[0]-y[0],e=n[1]-y[1],h|=t|e,y=n,d({type:"drag",x:n[0]+s[0],y:n[1]+s[1],dx:t,dy:e}))}function x(){r(f,p)&&(v.on(a+g,null).on(u+g,null),m(h),d({type:"dragend"}))}s=e?[(s=e.apply(l,arguments)).x-y[0],s.y-y[1]]:[0,0],d({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=B().touches),e?u(e).map((function(e){var n=At(t,e);return n.identifier=e.identifier,n})):[]};var Et=1e-6,Ot=1e-12,Nt=Math.PI,Tt=2*Nt,Pt=Tt-Et,Lt=Nt/2,jt=Nt/180,Dt=180/Nt;function zt(t){return t>0?1:t<0?-1:0}function Wt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Ft(t){return t>1?0:t<-1?Nt:Math.acos(t)}function It(t){return t>1?Lt:t<-1?-Lt:Math.asin(t)}function Rt(t){return((t=Math.exp(t))+1/t)/2}function Ht(t){return(t=Math.sin(t/2))*t}var Bt=Math.SQRT2;o.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],l=e[2],c=u-i,f=s-o,d=c*c+f*f;if(d<Ot)r=Math.log(l/a)/Bt,n=function(t){return[i+t*c,o+t*f,a*Math.exp(Bt*t*r)]};else{var h=Math.sqrt(d),p=(l*l-a*a+4*d)/(2*a*2*h),g=(l*l-a*a-4*d)/(2*l*2*h),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Bt,n=function(t){var e,n=t*r,u=Rt(v),s=a/(2*h)*(u*(e=Bt*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+s*c,o+s*f,a*u/Rt(Bt*n+v)]}}return n.duration=1e3*r,n},o.behavior.zoom=function(){var t,e,n,r,i,a,u,l,f,d={x:0,y:0,k:1},h=[960,500],p=Yt,g=250,v=0,m="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",x="touchstart.zoom",k=q(w,"zoomstart","zoom","zoomend");function w(t){t.on(m,T).on(Vt+".zoom",L).on("dblclick.zoom",j).on(x,P)}function M(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function S(t){d.k=Math.max(p[0],Math.min(p[1],t))}function _(t,e){e=function(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function A(t,n,r,i){t.__chart__={x:d.x,y:d.y,k:d.k},S(Math.pow(2,i)),_(e=n,r),t=o.select(t),g>0&&(t=t.transition().duration(g)),t.call(w.event)}function C(){u&&u.domain(a.range().map((function(t){return(t-d.x)/d.k})).map(a.invert)),f&&f.domain(l.range().map((function(t){return(t-d.y)/d.k})).map(l.invert))}function E(t){v++||t({type:"zoomstart"})}function O(t){C(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function N(t){--v||(t({type:"zoomend"}),e=null)}function T(){var t=this,e=k.of(t,arguments),n=0,r=o.select(c(t)).on(y,u).on(b,s),i=M(o.mouse(t)),a=St(t);function u(){n=1,_(o.mouse(t),i),O(e)}function s(){r.on(y,null).on(b,null),a(n),N(e)}ku.call(t),E(e)}function P(){var t,e=this,n=k.of(e,arguments),r={},a=0,u=".zoom-"+o.event.changedTouches[0].identifier,s="touchmove"+u,l="touchend"+u,c=[],f=o.select(e),h=St(e);function p(){var n=o.touches(e);return t=d.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=M(t))})),n}function g(){var t=o.event.target;o.select(t).on(s,v).on(l,y),c.push(t);for(var n=o.event.changedTouches,u=0,f=n.length;u<f;++u)r[n[u].identifier]=null;var h=p(),g=Date.now();if(1===h.length){if(g-i<500){var m=h[0];A(e,m,r[m.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),H()}i=g}else if(h.length>1){m=h[0];var b=h[1],x=m[0]-b[0],k=m[1]-b[1];a=x*x+k*k}}function v(){var u,s,l,c,f=o.touches(e);ku.call(e);for(var d=0,h=f.length;d<h;++d,c=null)if(l=f[d],c=r[l.identifier]){if(s)break;u=l,s=c}if(c){var p=(p=l[0]-u[0])*p+(p=l[1]-u[1])*p,g=a&&Math.sqrt(p/a);u=[(u[0]+l[0])/2,(u[1]+l[1])/2],s=[(s[0]+c[0])/2,(s[1]+c[1])/2],S(g*t)}i=null,_(u,s),O(n)}function y(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var a in r)return void p()}o.selectAll(c).on(u,null),f.on(m,T).on(x,P),h(),N(n)}g(),E(n),f.on(m,null).on(x,g)}function L(){var i=k.of(this,arguments);r?clearTimeout(r):(ku.call(this),t=M(e=n||o.mouse(this)),E(i)),r=setTimeout((function(){r=null,N(i)}),50),H(),S(Math.pow(2,.002*qt())*d.k),_(e,t),O(i)}function j(){var t=o.mouse(this),e=Math.log(d.k)/Math.LN2;A(this,t,M(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Vt||(Vt="onwheel"in s?(qt=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in s?(qt=function(){return o.event.wheelDelta},"mousewheel"):(qt=function(){return-o.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each((function(){var t=k.of(this,arguments),n=d;Su?o.select(this).transition().each("start.zoom",(function(){d=this.__chart__||{x:0,y:0,k:1},E(t)})).tween("zoom:zoom",(function(){var r=h[0],i=h[1],a=e?e[0]:r/2,u=e?e[1]:i/2,s=o.interpolateZoom([(a-d.x)/d.k,(u-d.y)/d.k,r/d.k],[(a-n.x)/n.k,(u-n.y)/n.k,r/n.k]);return function(e){var n=s(e),i=r/n[2];this.__chart__=d={x:a-n[0]*i,y:u-n[1]*i,k:i},O(t)}})).each("interrupt.zoom",(function(){N(t)})).each("end.zoom",(function(){N(t)})):(this.__chart__=d,E(t),O(t),N(t))}))},w.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},C(),w):[d.x,d.y]},w.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},S(+t),C(),w):d.k},w.scaleExtent=function(t){return arguments.length?(p=null==t?Yt:[+t[0],+t[1]],w):p},w.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],w):n},w.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],w):h},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(u=t,a=t.copy(),d={x:0,y:0,k:1},w):u},w.y=function(t){return arguments.length?(f=t,l=t.copy(),d={x:0,y:0,k:1},w):f},o.rebind(w,k,"on")};var qt,Vt,Yt=[0,1/0];function Xt(){}function Gt(t,e,n){return this instanceof Gt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Gt?new Gt(t.h,t.s,t.l):de(""+t,he,Gt):new Gt(t,e,n)}o.color=Xt,Xt.prototype.toString=function(){return this.rgb()+""},o.hsl=Gt;var Ut=Gt.prototype=new Xt;function Zt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new ue(o(t+120),o(t),o(t-120))}function Kt(t,e,n){return this instanceof Kt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Kt?new Kt(t.h,t.c,t.l):re(t instanceof Qt?t.l:(t=pe((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Kt(t,e,n)}Ut.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Gt(this.h,this.s,this.l/t)},Ut.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Gt(this.h,this.s,t*this.l)},Ut.rgb=function(){return Zt(this.h,this.s,this.l)},o.hcl=Kt;var $t=Kt.prototype=new Xt;function Jt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Qt(n,Math.cos(t*=jt)*e,Math.sin(t)*e)}function Qt(t,e,n){return this instanceof Qt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Qt?new Qt(t.l,t.a,t.b):t instanceof Kt?Jt(t.h,t.c,t.l):pe((t=ue(t)).r,t.g,t.b):new Qt(t,e,n)}$t.brighter=function(t){return new Kt(this.h,this.c,Math.min(100,this.l+te*(arguments.length?t:1)))},$t.darker=function(t){return new Kt(this.h,this.c,Math.max(0,this.l-te*(arguments.length?t:1)))},$t.rgb=function(){return Jt(this.h,this.c,this.l).rgb()},o.lab=Qt;var te=18,ee=Qt.prototype=new Xt;function ne(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new ue(ae(3.2404542*(i=.95047*ie(i))-1.5371385*(r=1*ie(r))-.4985314*(o=1.08883*ie(o))),ae(-.969266*i+1.8760108*r+.041556*o),ae(.0556434*i-.2040259*r+1.0572252*o))}function re(t,e,n){return t>0?new Kt(Math.atan2(n,e)*Dt,Math.sqrt(e*e+n*n),t):new Kt(NaN,NaN,t)}function ie(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function oe(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ae(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ue(t,e,n){return this instanceof ue?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ue?new ue(t.r,t.g,t.b):de(""+t,ue,Zt):new ue(t,e,n)}function se(t){return new ue(t>>16,t>>8&255,255&t)}function le(t){return se(t)+""}ee.brighter=function(t){return new Qt(Math.min(100,this.l+te*(arguments.length?t:1)),this.a,this.b)},ee.darker=function(t){return new Qt(Math.max(0,this.l-te*(arguments.length?t:1)),this.a,this.b)},ee.rgb=function(){return ne(this.l,this.a,this.b)},o.rgb=ue;var ce=ue.prototype=new Xt;function fe(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function de(t,e,n){var r,i,o,a=0,u=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(ve(i[0]),ve(i[1]),ve(i[2]))}return(o=me.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,u=240&o,u|=u>>4,s=15&o,s|=s<<4):7===t.length&&(a=(16711680&o)>>16,u=(65280&o)>>8,s=255&o)),e(a,u,s))}function he(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),u=a-o,s=(a+o)/2;return u?(i=s<.5?u/(a+o):u/(2-a-o),r=t==a?(e-n)/u+(e<n?6:0):e==a?(n-t)/u+2:(t-e)/u+4,r*=60):(r=NaN,i=s>0&&s<1?0:r),new Gt(r,i,s)}function pe(t,e,n){var r=oe((.4124564*(t=ge(t))+.3575761*(e=ge(e))+.1804375*(n=ge(n)))/.95047),i=oe((.2126729*t+.7151522*e+.072175*n)/1);return Qt(116*i-16,500*(r-i),200*(i-oe((.0193339*t+.119192*e+.9503041*n)/1.08883)))}function ge(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ve(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ce.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ue(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ue(i,i,i)},ce.darker=function(t){return new ue((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ce.hsl=function(){return he(this.r,this.g,this.b)},ce.toString=function(){return"#"+fe(this.r)+fe(this.g)+fe(this.b)};var me=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ye(t){return"function"===typeof t?t:function(){return t}}function be(t){return function(e,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=null),xe(e,n,t,r)}}function xe(t,e,n,r){var i={},a=o.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;function f(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&e<300||304===e){try{t=n.call(i,l)}catch(Ju){return void a.error.call(i,Ju)}a.load.call(i,t)}else a.error.call(i,l)}return this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=f:l.onreadystatechange=function(){l.readyState>3&&f()},l.onprogress=function(t){var e=o.event;o.event=t;try{a.progress.call(i,l)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach((function(t){i[t]=function(){return i.send.apply(i,[t].concat(u(arguments)))}})),i.send=function(n,r,o){if(2===arguments.length&&"function"===typeof r&&(o=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var u in s)l.setRequestHeader(u,s[u]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=o&&i.on("error",o).on("load",(function(t){o(null,t)})),a.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},o.rebind(i,a,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}me.forEach((function(t,e){me.set(t,se(e))})),o.functor=ye,o.xhr=be(j),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=xe(t,e,null==n?o:a(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:a(t)):n},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function u(e){return e.map(s).join(t)}function s(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,o={},a={},u=[],s=t.length,l=0,c=0;function f(){if(l>=s)return a;if(i)return i=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return l=n+2,13===(u=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++l):10===u&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<s;){var u,c=1;if(10===(u=t.charCodeAt(l++)))i=!0;else if(13===u)i=!0,10===t.charCodeAt(l)&&(++l,++c);else if(u!==r)continue;return t.slice(e,l-c)}return t.slice(e)}for(;(n=f())!==a;){for(var d=[];n!==o&&n!==a;)d.push(n),n=f();e&&null==(d=e(d,c++))||u.push(d)}return u},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new L,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(s).join(t)].concat(e.map((function(e){return r.map((function(t){return s(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(u).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var ke,we,Me,Se,_e=this[z(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ae(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,n:null};return we?we.n=o:ke=o,we=o,Me||(Se=clearTimeout(Se),Me=1,_e(Ce)),o}function Ce(){var t=Ee(),e=Oe()-t;e>24?(isFinite(e)&&(clearTimeout(Se),Se=setTimeout(Ce,e)),Me=0):(Me=1,_e(Ce))}function Ee(){for(var t=Date.now(),e=ke;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Oe(){for(var t,e=ke,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ke=e.n;return we=t,n}function Ne(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(){Ae.apply(this,arguments)},o.timer.flush=function(){Ee(),Oe()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Te=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*w(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function Pe(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(t,e){for(var i=t.length,o=[],a=0,u=r[0],s=0;i>0&&u>0&&(s+u+1>e&&(u=Math.max(1,e-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>e));)u=r[a=(a+1)%r.length];return o.reverse().join(n)}:j;return function(t){var n=Le.exec(t),r=n[1]||" ",u=n[2]||">",s=n[3]||"-",l=n[4]||"",c=n[5],f=+n[6],d=n[7],h=n[8],p=n[9],g=1,v="",m="",y=!1,b=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===u)&&(c=r="0",u="="),p){case"n":d=!0,p="g";break;case"%":g=100,m="%",p="f";break;case"p":g=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+p.toLowerCase());case"c":b=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===l&&(v=i[0],m=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=je.get(p)||De;var x=c&&d;return function(t){var n=m;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(g<0){var l=o.formatPrefix(t,h);t=l.scale(t),n=l.symbol+m}else t*=g;var k,w,M=(t=p(t,h)).lastIndexOf(".");if(M<0){var S=b?t.lastIndexOf("e"):-1;S<0?(k=t,w=""):(k=t.substring(0,S),w=t.substring(S))}else k=t.substring(0,M),w=e+t.substring(M+1);!c&&d&&(k=a(k,1/0));var _=v.length+k.length+w.length+(x?0:i.length),A=_<f?new Array(_=f-_+1).join(r):"";return x&&(k=a(A+k,A.length?f-w.length:1/0)),i+=v,t=k+w,("<"===u?i+t+A:">"===u?A+i+t:"^"===u?A.substring(0,_>>=1)+i+t+A.substring(_):i+(x?t:A+t))+n}}}o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,Ne(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Te[8+n/3]};var Le=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,je=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Ne(t,e))).toFixed(Math.max(0,Math.min(20,Ne(t*(1+1e-15),e))))}});function De(t){return t+""}var ze=o.time={},We=Date;function Fe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Fe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ie.setUTCDate.apply(this._,arguments)},setDay:function(){Ie.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ie.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ie.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ie.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ie.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ie.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ie.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ie.setTime.apply(this._,arguments)}};var Ie=Date.prototype;function Re(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new We(n-1)),1),n}function o(t,n){return e(t=new We(+t),n),t}function a(t,r,o){var a=i(t),u=[];if(o>1)for(;a<r;)n(a)%o||u.push(new Date(+a)),e(a,1);else for(;a<r;)u.push(new Date(+a)),e(a,1);return u}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=He(t);return u.floor=u,u.round=He(r),u.ceil=He(i),u.offset=He(o),u.range=function(t,e,n){try{We=Fe;var r=new Fe;return r._=t,a(r,e,n)}finally{We=Date}},t}function He(t){return function(e,n){try{We=Fe;var r=new Fe;return r._=e,t(r,n)._}finally{We=Date}}}function Be(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,u=t.shortDays,s=t.months,l=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,o,a=[],u=-1,s=0;++u<e;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=qe[r=t.charAt(++u)])&&(r=t.charAt(++u)),(o=k[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&We!==Fe,i=new(r?Fe:We);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function f(t,e,n,r){for(var i,o,a,u=0,s=e.length,l=n.length;u<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(u++))){if(a=e.charAt(u++),!(o=w[a in qe?e.charAt(u++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(We=Fe);return n._=t,e(n)}finally{We=Date}}return n.parse=function(t){try{We=Fe;var n=e.parse(t);return n&&n._}finally{We=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=fn;var d=o.map(),h=Ge(a),p=Ue(a),g=Ge(u),v=Ue(u),m=Ge(s),y=Ue(s),b=Ge(l),x=Ue(l);i.forEach((function(t,e){d.set(t.toLowerCase(),e)}));var k={a:function(t){return u[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:c(e),d:function(t,e){return Xe(t.getDate(),e,2)},e:function(t,e){return Xe(t.getDate(),e,2)},H:function(t,e){return Xe(t.getHours(),e,2)},I:function(t,e){return Xe(t.getHours()%12||12,e,2)},j:function(t,e){return Xe(1+ze.dayOfYear(t),e,3)},L:function(t,e){return Xe(t.getMilliseconds(),e,3)},m:function(t,e){return Xe(t.getMonth()+1,e,2)},M:function(t,e){return Xe(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return Xe(t.getSeconds(),e,2)},U:function(t,e){return Xe(ze.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Xe(ze.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return Xe(t.getFullYear()%100,e,2)},Y:function(t,e){return Xe(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},w={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){h.lastIndex=0;var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return f(t,k.c.toString(),e,n)},d:nn,e:nn,H:on,I:on,j:rn,L:sn,m:en,M:an,p:function(t,e,n){var r=d.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:un,U:Ke,w:Ze,W:$e,x:function(t,e,n){return f(t,k.x.toString(),e,n)},X:function(t,e,n){return f(t,k.X.toString(),e,n)},y:Qe,Y:Je,Z:tn,"%":cn};return c}ze.year=Re((function(t){return(t=ze.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),ze.years=ze.year.range,ze.years.utc=ze.year.utc.range,ze.day=Re((function(t){var e=new We(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),ze.days=ze.day.range,ze.days.utc=ze.day.utc.range,ze.dayOfYear=function(t){var e=ze.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=ze[t]=Re((function(t){return(t=ze.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));ze[t+"s"]=n.range,ze[t+"s"].utc=n.utc.range,ze[t+"OfYear"]=function(t){var n=ze.year(t).getDay();return Math.floor((ze.dayOfYear(t)+(n+e)%7)/7)}})),ze.week=ze.sunday,ze.weeks=ze.sunday.range,ze.weeks.utc=ze.sunday.utc.range,ze.weekOfYear=ze.sundayOfYear;var qe={"-":"",_:" ",0:"0"},Ve=/^\s*\d+/,Ye=/^%/;function Xe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ge(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Ue(t){for(var e=new _,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ze(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ke(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function $e(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Je(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qe(t,e,n){Ve.lastIndex=0;var r,i=Ve.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function tn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function en(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nn(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rn(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function on(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function an(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function un(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sn(t,e,n){Ve.lastIndex=0;var r=Ve.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=w(e)/60|0,i=w(e)%60;return n+Xe(r,"0",2)+Xe(i,"0",2)}function cn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}o.locale=function(t){return{numberFormat:Pe(t),timeFormat:Be(t)}};var dn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hn(){}o.format=dn.numberFormat,o.geo={},hn.prototype={s:0,t:0,add:function(t){gn(t,this.t,pn),gn(pn.s,this.s,this),this.s?this.t+=pn.t:this.s=pn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pn=new hn;function gn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function vn(t,e){t&&yn.hasOwnProperty(t.type)&&yn[t.type](t,e)}o.geo.stream=function(t,e){t&&mn.hasOwnProperty(t.type)?mn[t.type](t,e):vn(t,e)};var mn={Feature:function(t,e){vn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)vn(n[r].geometry,e)}},yn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){bn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)bn(n[r],e,0)},Polygon:function(t,e){xn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)vn(n[r],e)}};function bn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function xn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)bn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return kn=0,o.geo.stream(t,jn),kn};var kn,wn,Mn,Sn,_n,An,Cn,En,On,Nn,Tn,Pn,Ln=new hn,jn={sphere:function(){kn+=4*Nt},point:F,lineStart:F,lineEnd:F,polygonStart:function(){Ln.reset(),jn.lineStart=Dn},polygonEnd:function(){var t=2*Ln;kn+=t<0?4*Nt+t:t,jn.lineStart=jn.lineEnd=jn.point=F}};function Dn(){var t,e,n,r,i;function o(t,e){e=e*jt/2+Nt/4;var o=(t*=jt)-n,a=o>=0?1:-1,u=a*o,s=Math.cos(e),l=Math.sin(e),c=i*l,f=r*s+c*Math.cos(u),d=c*a*Math.sin(u);Ln.add(Math.atan2(d,f)),n=t,r=s,i=l}jn.point=function(a,u){jn.point=o,n=(t=a)*jt,r=Math.cos(u=(e=u)*jt/2+Nt/4),i=Math.sin(u)},jn.lineEnd=function(){o(t,e)}}function zn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Wn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Fn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function In(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Rn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Hn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Bn(t){return[Math.atan2(t[1],t[0]),It(t[2])]}function qn(t,e){return w(t[0]-e[0])<Et&&w(t[1]-e[1])<Et}o.geo.bounds=function(){var t,e,n,r,i,a,u,s,l,c,f,d={point:h,lineStart:g,lineEnd:v,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=b,l=0,jn.polygonStart()},polygonEnd:function(){jn.polygonEnd(),d.point=h,d.lineStart=g,d.lineEnd=v,Ln<0?(t=-(n=180),e=-(r=90)):l>Et?r=90:l<-Et&&(e=-90),f[0]=t,f[1]=n}};function h(i,o){c.push(f=[t=i,n=i]),o<e&&(e=o),o>r&&(r=o)}function p(o,a){var u=zn([o*jt,a*jt]);if(s){var l=Fn(s,u),c=Fn([l[1],-l[0],0],l);Hn(c),c=Bn(c);var f=o-i,d=f>0?1:-1,p=c[0]*Dt*d,g=w(f)>180;if(g^(d*i<p&&p<d*o))(v=c[1]*Dt)>r&&(r=v);else if(g^(d*i<(p=(p+360)%360-180)&&p<d*o)){var v;(v=-c[1]*Dt)<e&&(e=v)}else a<e&&(e=a),a>r&&(r=a);g?o<i?x(t,o)>x(t,n)&&(n=o):x(o,n)>x(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>i?x(t,o)>x(t,n)&&(n=o):x(o,n)>x(t,n)&&(t=o)}else h(o,a);s=u,i=o}function g(){d.point=p}function v(){f[0]=t,f[1]=n,d.point=h,s=null}function m(t,e){if(s){var n=t-i;l+=w(n)>180?n+(n>0?360:-360):n}else a=t,u=e;jn.point(t,e),p(t,e)}function y(){jn.lineStart()}function b(){m(a,u),jn.lineEnd(),w(l)>Et&&(t=-(n=180)),f[0]=t,f[1]=n,s=null}function x(t,e){return(e-=t)<0?e+360:e}function k(t,e){return t[0]-e[0]}function M(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),c=[],o.geo.stream(i,d),l=c.length){c.sort(k);for(var a=1,u=[g=c[0]];a<l;++a)M((h=c[a])[0],g)||M(h[1],g)?(x(g[0],h[1])>x(g[0],g[1])&&(g[1]=h[1]),x(h[0],g[1])>x(g[0],g[1])&&(g[0]=h[0])):u.push(g=h);for(var s,l,h,p=-1/0,g=(a=0,u[l=u.length-1]);a<=l;g=h,++a)h=u[a],(s=x(g[1],h[0]))>p&&(p=s,t=h[0],n=g[1])}return c=f=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){wn=Mn=Sn=_n=An=Cn=En=On=Nn=Tn=Pn=0,o.geo.stream(t,Vn);var e=Nn,n=Tn,r=Pn,i=e*e+n*n+r*r;return i<Ot&&(e=Cn,n=En,r=On,Mn<Et&&(e=Sn,n=_n,r=An),(i=e*e+n*n+r*r)<Ot)?[NaN,NaN]:[Math.atan2(n,e)*Dt,It(r/Math.sqrt(i))*Dt]};var Vn={sphere:F,point:Yn,lineStart:Gn,lineEnd:Un,polygonStart:function(){Vn.lineStart=Zn},polygonEnd:function(){Vn.lineStart=Gn}};function Yn(t,e){t*=jt;var n=Math.cos(e*=jt);Xn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Xn(t,e,n){++wn,Sn+=(t-Sn)/wn,_n+=(e-_n)/wn,An+=(n-An)/wn}function Gn(){var t,e,n;function r(r,i){r*=jt;var o=Math.cos(i*=jt),a=o*Math.cos(r),u=o*Math.sin(r),s=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*s-n*u)*l+(l=n*a-t*s)*l+(l=t*u-e*a)*l),t*a+e*u+n*s);Mn+=l,Cn+=l*(t+(t=a)),En+=l*(e+(e=u)),On+=l*(n+(n=s)),Xn(t,e,n)}Vn.point=function(i,o){i*=jt;var a=Math.cos(o*=jt);t=a*Math.cos(i),e=a*Math.sin(i),n=Math.sin(o),Vn.point=r,Xn(t,e,n)}}function Un(){Vn.point=Yn}function Zn(){var t,e,n,r,i;function o(t,e){t*=jt;var o=Math.cos(e*=jt),a=o*Math.cos(t),u=o*Math.sin(t),s=Math.sin(e),l=r*s-i*u,c=i*a-n*s,f=n*u-r*a,d=Math.sqrt(l*l+c*c+f*f),h=n*a+r*u+i*s,p=d&&-Ft(h)/d,g=Math.atan2(d,h);Nn+=p*l,Tn+=p*c,Pn+=p*f,Mn+=g,Cn+=g*(n+(n=a)),En+=g*(r+(r=u)),On+=g*(i+(i=s)),Xn(n,r,i)}Vn.point=function(a,u){t=a,e=u,Vn.point=o,a*=jt;var s=Math.cos(u*=jt);n=s*Math.cos(a),r=s*Math.sin(a),i=Math.sin(u),Xn(n,r,i)},Vn.lineEnd=function(){o(t,e),Vn.lineEnd=Un,Vn.point=Yn}}function Kn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function $n(){return!0}function Jn(t,e,n,r,i){var o=[],a=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(qn(n,r)){i.lineStart();for(var u=0;u<e;++u)i.point((n=t[u])[0],n[1]);i.lineEnd()}else{var s=new tr(n,t,null,!0),l=new tr(n,null,s,!1);s.o=l,o.push(s),a.push(l),s=new tr(r,t,null,!1),l=new tr(r,null,s,!0),s.o=l,o.push(s),a.push(l)}}})),a.sort(e),Qn(o),Qn(a),o.length){for(var u=0,s=n,l=a.length;u<l;++u)a[u].e=s=!s;for(var c,f,d=o[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(u=0,l=c.length;u<l;++u)i.point((f=c[u])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=(c=h.p.z).length-1;u>=0;--u)i.point((f=c[u])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Qn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function tr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function er(t,e,n,r){return function(i,a){var u,s=e(a),l=i.invert(r[0],r[1]),c={point:f,lineStart:h,lineEnd:p,polygonStart:function(){c.point=x,c.lineStart=k,c.lineEnd=w,u=[],g=[]},polygonEnd:function(){c.point=f,c.lineStart=h,c.lineEnd=p,u=o.merge(u);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ln.reset();for(var u=0,s=e.length;u<s;++u){var l=e[u],c=l.length;if(c)for(var f=l[0],d=f[0],h=f[1]/2+Nt/4,p=Math.sin(h),g=Math.cos(h),v=1;;){v===c&&(v=0);var m=(t=l[v])[0],y=t[1]/2+Nt/4,b=Math.sin(y),x=Math.cos(y),k=m-d,w=k>=0?1:-1,M=w*k,S=M>Nt,_=p*b;if(Ln.add(Math.atan2(_*w*Math.sin(M),g*x+_*Math.cos(M))),o+=S?k+w*Tt:k,S^d>=n^m>=n){var A=Fn(zn(f),zn(t));Hn(A);var C=Fn(i,A);Hn(C);var E=(S^k>=0?-1:1)*It(C[2]);(r>E||r===E&&(A[0]||A[1]))&&(a+=S^k>=0?1:-1)}if(!v++)break;d=m,p=b,g=x,f=t}}return(o<-Et||o<Et&&Ln<-Et)^1&a}(l,g);u.length?(b||(a.polygonStart(),b=!0),Jn(u,ir,t,n,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),u=g=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function f(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function d(t,e){var n=i(t,e);s.point(n[0],n[1])}function h(){c.point=d,s.lineStart()}function p(){c.point=f,s.lineEnd()}var g,v,m=rr(),y=e(m),b=!1;function x(t,e){v.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function k(){y.lineStart(),v=[]}function w(){x(v[0][0],v[0][1]),y.lineEnd();var t,e=y.clean(),n=m.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),u.push(n.filter(nr))}return c}}function nr(t){return t.length>1}function rr(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:F,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ir(t,e){return((t=t.x)[0]<0?t[1]-Lt-Et:Lt-t[1])-((e=e.x)[0]<0?e[1]-Lt-Et:Lt-e[1])}var or=er($n,(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u=o>0?Nt:-Nt,s=w(o-n);w(s-Nt)<Et?(t.point(n,r=(r+a)/2>0?Lt:-Lt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):i!==u&&s>=Nt&&(w(n-i)<Et&&(n-=i*Et),w(o-u)<Et&&(o-=u*Et),r=function(t,e,n,r){var i,o,a=Math.sin(t-n);return w(a)>Et?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=a),i=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Lt,r.point(-Nt,i),r.point(0,i),r.point(Nt,i),r.point(Nt,0),r.point(Nt,-i),r.point(0,-i),r.point(-Nt,-i),r.point(-Nt,0),r.point(-Nt,i);else if(w(t[0]-e[0])>Et){var o=t[0]<e[0]?Nt:-Nt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Nt,-Nt/2]);function ar(t){var e=Math.cos(t),n=e>0,r=w(e)>Et;return er(i,(function(t){var e,u,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,d){var h,p=[f,d],g=i(f,d),v=n?g?0:a(f,d):g?a(f+(f<0?Nt:-Nt),d):0;if(!e&&(l=s=g)&&t.lineStart(),g!==s&&(h=o(e,p),(qn(e,h)||qn(p,h))&&(p[0]+=Et,p[1]+=Et,g=i(p[0],p[1]))),g!==s)c=0,g?(t.lineStart(),h=o(p,e),t.point(h[0],h[1])):(h=o(e,p),t.point(h[0],h[1]),t.lineEnd()),e=h;else if(r&&e&&n^g){var m;v&u||!(m=o(p,e,!0))||(c=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&qn(e,p)||t.point(p[0],p[1]),e=p,s=g,u=v},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(l&&s)<<1}}}),Br(t,6*jt),n?[0,-t]:[-Nt,t-Nt]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=Fn(zn(t),zn(n)),a=Wn(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var l=e*a/s,c=-e*u/s,f=Fn(i,o),d=Rn(i,l);In(d,Rn(o,c));var h=f,p=Wn(d,h),g=Wn(h,h),v=p*p-g*(Wn(d,d)-1);if(!(v<0)){var m=Math.sqrt(v),y=Rn(h,(-p-m)/g);if(In(y,d),y=Bn(y),!r)return y;var b,x=t[0],k=n[0],M=t[1],S=n[1];k<x&&(b=x,x=k,k=b);var _=k-x,A=w(_-Nt)<Et;if(!A&&S<M&&(b=M,M=S,S=b),A||_<Et?A?M+S>0^y[1]<(w(y[0]-x)<Et?M:S):M<=y[1]&&y[1]<=S:_>Nt^(x<=y[0]&&y[0]<=k)){var C=Rn(h,(-p+m)/g);return In(C,d),[y,Bn(C)]}}}function a(e,r){var i=n?t:Nt-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}function ur(t,e,n,r){return function(i){var o,a=i.a,u=i.b,s=a.x,l=a.y,c=0,f=1,d=u.x-s,h=u.y-l;if(o=t-s,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=n-s,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}if(o=e-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=r-l,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}return c>0&&(i.a={x:s+c*d,y:l+c*h}),f<1&&(i.b={x:s+f*d,y:l+f*h}),i}}}}}}function sr(t,e,n,r){return function(s){var l,c,f,d,h,p,g,v,m,y,b,x=s,k=rr(),w=ur(t,e,n,r),M={point:A,lineStart:function(){M.point=C,c&&c.push(f=[]);y=!0,m=!1,g=v=NaN},lineEnd:function(){l&&(C(d,h),p&&m&&k.rejoin(),l.push(k.buffer()));M.point=A,m&&s.lineEnd()},polygonStart:function(){s=k,l=[],c=[],b=!0},polygonEnd:function(){s=x,l=o.merge(l);var e=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,a=1,u=c[i],s=u.length,l=u[0];a<s;++a)o=u[a],l[1]<=r?o[1]>r&&Wt(l,o,t)>0&&++e:o[1]<=r&&Wt(l,o,t)<0&&--e,l=o;return 0!==e}([t,r]),n=b&&e,i=l.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),S(null,null,1,s),s.lineEnd()),i&&Jn(l,a,e,S,s),s.polygonEnd()),l=c=f=null}};function S(o,a,s,l){var c=0,f=0;if(null==o||(c=i(o,s))!==(f=i(a,s))||u(o,a)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==f);else l.point(a[0],a[1])}function _(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function A(t,e){_(t,e)&&s.point(t,e)}function C(t,e){var n=_(t=Math.max(-1e9,Math.min(1e9,t)),e=Math.max(-1e9,Math.min(1e9,e)));if(c&&f.push([t,e]),y)d=t,h=e,p=n,y=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&m)s.point(t,e);else{var r={a:{x:g,y:v},b:{x:t,y:e}};w(r)?(m||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),b=!1):n&&(s.lineStart(),s.point(t,e),b=!1)}g=t,v=e,m=n}return M};function i(r,i){return w(r[0]-t)<Et?i>0?0:3:w(r[0]-n)<Et?i>0?2:1:w(r[1]-e)<Et?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function lr(t){var e=0,n=Nt/3,r=jr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Nt/180,n=t[1]*Nt/180):[e/Nt*180,n/Nt*180]},i}function cr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,It((i-(t*t+n*n)*r*r)/(2*r))]},a}o.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(u){return arguments.length?(o=sr(t=+u[0][0],e=+u[0][1],n=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return lr(cr)}).raw=cr,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,r,i=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};function l(i){var o=i[0],a=i[1];return t=null,e(o,a),t||(n(o,a),t)||r(o,a),t}return l.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?u:i).invert(t)},l.stream=function(t){var e=i.stream(t),n=a.stream(t),r=u.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),u.precision(t),l):i.precision()},l.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),u.scale(t),l.translate(i.translate())):i.scale()},l.translate=function(t){if(!arguments.length)return i.translate();var o=i.scale(),c=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[c-.455*o,f-.238*o],[c+.455*o,f+.238*o]]).stream(s).point,n=a.translate([c-.307*o,f+.201*o]).clipExtent([[c-.425*o+Et,f+.12*o+Et],[c-.214*o-Et,f+.234*o-Et]]).stream(s).point,r=u.translate([c-.205*o,f+.212*o]).clipExtent([[c-.214*o+Et,f+.166*o+Et],[c-.115*o-Et,f+.234*o-Et]]).stream(s).point,l},l.scale(1070)};var fr,dr,hr,pr,gr,vr,mr={point:F,lineStart:F,lineEnd:F,polygonStart:function(){dr=0,mr.lineStart=yr},polygonEnd:function(){mr.lineStart=mr.lineEnd=mr.point=F,fr+=w(dr/2)}};function yr(){var t,e,n,r;function i(t,e){dr+=r*t-n*e,n=t,r=e}mr.point=function(o,a){mr.point=i,t=n=o,e=r=a},mr.lineEnd=function(){i(t,e)}}var br={point:function(t,e){t<hr&&(hr=t);t>gr&&(gr=t);e<pr&&(pr=e);e>vr&&(vr=e)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F};function xr(){var t=kr(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=kr(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function a(){n.point=r}function u(){e.push("Z")}return n}function kr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var wr,Mr={point:Sr,lineStart:_r,lineEnd:Ar,polygonStart:function(){Mr.lineStart=Cr},polygonEnd:function(){Mr.point=Sr,Mr.lineStart=_r,Mr.lineEnd=Ar}};function Sr(t,e){Sn+=t,_n+=e,++An}function _r(){var t,e;function n(n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);Cn+=a*(t+n)/2,En+=a*(e+r)/2,On+=a,Sr(t=n,e=r)}Mr.point=function(r,i){Mr.point=n,Sr(t=r,e=i)}}function Ar(){Mr.point=Sr}function Cr(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,a=Math.sqrt(i*i+o*o);Cn+=a*(n+t)/2,En+=a*(r+e)/2,On+=a,Nn+=(a=r*t-n*e)*(n+t),Tn+=a*(r+e),Pn+=3*a,Sr(n=t,r=e)}Mr.point=function(o,a){Mr.point=i,Sr(t=n=o,e=r=a)},Mr.lineEnd=function(){i(t,e)}}function Er(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=t,n},result:F};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Tt)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function a(){n.point=r}function u(){t.closePath()}return n}function Or(t){var e=.5,n=Math.cos(30*jt),r=16;function i(t){return(r?a:o)(t)}function o(e){return Pr(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function a(e){var n,i,o,a,s,l,c,f,d,h,p,g,v={point:m,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),v.lineStart=k},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){f=NaN,v.point=b,e.lineStart()}function b(n,i){var o=zn([n,i]),a=t(n,i);u(f,d,c,h,p,g,f=a[0],d=a[1],c=n,h=o[0],p=o[1],g=o[2],r,e),e.point(f,d)}function x(){v.point=m,e.lineEnd()}function k(){y(),v.point=w,v.lineEnd=M}function w(t,e){b(n=t,e),i=f,o=d,a=h,s=p,l=g,v.point=b}function M(){u(f,d,c,h,p,g,i,o,n,a,s,l,r,e),v.lineEnd=x,x()}return v}function u(r,i,o,a,s,l,c,f,d,h,p,g,v,m){var y=c-r,b=f-i,x=y*y+b*b;if(x>4*e&&v--){var k=a+h,M=s+p,S=l+g,_=Math.sqrt(k*k+M*M+S*S),A=Math.asin(S/=_),C=w(w(S)-1)<Et||w(o-d)<Et?(o+d)/2:Math.atan2(M,k),E=t(C,A),O=E[0],N=E[1],T=O-r,P=N-i,L=b*T-y*P;(L*L/x>e||w((y*T+b*P)/x-.5)>.3||a*h+s*p+l*g<n)&&(u(r,i,o,a,s,l,O,N,C,k/=_,M/=_,S,v,m),m.point(O,N),u(O,N,C,k,M,S,c,f,d,h,p,g,v,m))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function Nr(t){var e=Or((function(e,n){return t([e*Dt,n*Dt])}));return function(t){return Dr(e(t))}}function Tr(t){this.stream=t}function Pr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Lr(t){return jr((function(){return t}))()}function jr(t){var e,n,r,i,a,u,s=Or((function(t,n){return[(t=e(t,n))[0]*l+i,a-t[1]*l]})),l=150,c=480,f=250,d=0,h=0,p=0,g=0,v=0,m=or,y=j,b=null,x=null;function k(t){return[(t=r(t[0]*jt,t[1]*jt))[0]*l+i,a-t[1]*l]}function w(t){return(t=r.invert((t[0]-i)/l,(a-t[1])/l))&&[t[0]*Dt,t[1]*Dt]}function M(){r=Kn(n=Fr(p,g,v),e);var t=e(d,h);return i=c-t[0]*l,a=f+t[1]*l,S()}function S(){return u&&(u.valid=!1,u=null),k}return k.stream=function(t){return u&&(u.valid=!1),(u=Dr(m(n,s(y(t))))).valid=!0,u},k.clipAngle=function(t){return arguments.length?(m=null==t?(b=t,or):ar((b=+t)*jt),S()):b},k.clipExtent=function(t){return arguments.length?(x=t,y=t?sr(t[0][0],t[0][1],t[1][0],t[1][1]):j,S()):x},k.scale=function(t){return arguments.length?(l=+t,M()):l},k.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],M()):[c,f]},k.center=function(t){return arguments.length?(d=t[0]%360*jt,h=t[1]%360*jt,M()):[d*Dt,h*Dt]},k.rotate=function(t){return arguments.length?(p=t[0]%360*jt,g=t[1]%360*jt,v=t.length>2?t[2]%360*jt:0,M()):[p*Dt,g*Dt,v*Dt]},o.rebind(k,s,"precision"),function(){return e=t.apply(this,arguments),k.invert=e.invert&&w,M()}}function Dr(t){return Pr(t,(function(e,n){t.point(e*jt,n*jt)}))}function zr(t,e){return[t,e]}function Wr(t,e){return[t>Nt?t-Tt:t<-Nt?t+Tt:t,e]}function Fr(t,e,n){return t?e||n?Kn(Rr(t),Hr(e,n)):Rr(t):e||n?Hr(e,n):Wr}function Ir(t){return function(e,n){return[(e+=t)>Nt?e-Tt:e<-Nt?e+Tt:e,n]}}function Rr(t){var e=Ir(t);return e.invert=Ir(-t),e}function Hr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),u=Math.cos(t)*a,s=Math.sin(t)*a,l=Math.sin(e),c=l*n+u*r;return[Math.atan2(s*i-c*o,u*n-l*r),It(c*i+s*o)]}return a.invert=function(t,e){var a=Math.cos(e),u=Math.cos(t)*a,s=Math.sin(t)*a,l=Math.sin(e),c=l*i-s*o;return[Math.atan2(s*i+l*o,u*n+c*r),It(c*n-u*r)]},a}function Br(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,u){var s=a*e;null!=i?(i=qr(n,i),o=qr(n,o),(a>0?i<o:i>o)&&(i+=a*Tt)):(i=t+a*Tt,o=t-.5*s);for(var l,c=i;a>0?c>o:c<o;c-=s)u.point((l=Bn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function qr(t,e){var n=zn(e);n[0]-=t,Hn(n);var r=Ft(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Et)%(2*Math.PI)}function Vr(t,e,n){var r=o.range(t,e-Et,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Yr(t,e,n){var r=o.range(t,e-Et,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Xr(t){return t.source}function Gr(t){return t.target}o.geo.path=function(){var t,e,n,r,i,a=4.5;function u(t){return t&&("function"===typeof a&&r.pointRadius(+a.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(t,i)),r.result()}function s(){return i=null,u}return u.area=function(t){return fr=0,o.geo.stream(t,n(mr)),fr},u.centroid=function(t){return Sn=_n=An=Cn=En=On=Nn=Tn=Pn=0,o.geo.stream(t,n(Mr)),Pn?[Nn/Pn,Tn/Pn]:On?[Cn/On,En/On]:An?[Sn/An,_n/An]:[NaN,NaN]},u.bounds=function(t){return gr=vr=-(hr=pr=1/0),o.geo.stream(t,n(br)),[[hr,pr],[gr,vr]]},u.projection=function(e){return arguments.length?(n=(t=e)?e.stream||Nr(e):j,s()):t},u.context=function(t){return arguments.length?(r=null==(e=t)?new xr:new Er(t),"function"!==typeof a&&r.pointRadius(a),s()):e},u.pointRadius=function(t){return arguments.length?(a="function"===typeof t?t:(r.pointRadius(+t),+t),u):a},u.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Tr(e);for(var r in t)n[r]=t[r];return n}}},Tr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Lr,o.geo.projectionMutator=jr,(o.geo.equirectangular=function(){return Lr(zr)}).raw=zr.invert=zr,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*jt,e[1]*jt))[0]*=Dt,e[1]*=Dt,e}return t=Fr(t[0]%360*jt,t[1]*jt,t.length>2?t[2]*jt:0),e.invert=function(e){return(e=t.invert(e[0]*jt,e[1]*jt))[0]*=Dt,e[1]*=Dt,e},e},Wr.invert=zr,o.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"===typeof n?n.apply(this,arguments):n,r=Fr(-t[0]*jt,-t[1]*jt,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Dt,t[1]*=Dt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=Br((t=+n)*jt,r*jt),i):t},i.precision=function(n){return arguments.length?(e=Br(t*jt,(r=+n)*jt),i):r},i.angle(90)},o.geo.distance=function(t,e){var n,r=(e[0]-t[0])*jt,i=t[1]*jt,o=e[1]*jt,a=Math.sin(r),u=Math.cos(r),s=Math.sin(i),l=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-s*f*u)*n),s*c+l*f*u)},o.geo.graticule=function(){var t,e,n,r,i,a,u,s,l,c,f,d,h=10,p=h,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return o.range(Math.ceil(r/g)*g,n,g).map(f).concat(o.range(Math.ceil(s/v)*v,u,v).map(d)).concat(o.range(Math.ceil(e/h)*h,t,h).filter((function(t){return w(t%g)>Et})).map(l)).concat(o.range(Math.ceil(a/p)*p,i,p).filter((function(t){return w(t%v)>Et})).map(c))}return y.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(d(u).slice(1),f(n).reverse().slice(1),d(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],u=+t[1][1],r>n&&(t=r,r=n,n=t),s>u&&(t=s,s=u,u=t),y.precision(m)):[[r,s],[n,u]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),y.precision(m)):[[e,a],[t,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.minorStep=function(t){return arguments.length?(h=+t[0],p=+t[1],y):[h,p]},y.precision=function(o){return arguments.length?(m=+o,l=Vr(a,i,90),c=Yr(e,t,m),f=Vr(s,u,90),d=Yr(r,n,m),y):m},y.majorExtent([[-180,-90+Et],[180,90-Et]]).minorExtent([[-180,-80-Et],[180,80+Et]])},o.geo.greatArc=function(){var t,e,n=Xr,r=Gr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"===typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"===typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return function(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),u=Math.sin(r),s=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),d=2*Math.asin(Math.sqrt(Ht(r-e)+i*a*Ht(n-t))),h=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*h,n=Math.sin(d-t)*h,r=n*s+e*c,i=n*l+e*f,a=n*o+e*u;return[Math.atan2(i,r)*Dt,Math.atan2(a,Math.sqrt(r*r+i*i))*Dt]}:function(){return[t*Dt,e*Dt]};return p.distance=d,p}(t[0]*jt,t[1]*jt,e[0]*jt,e[1]*jt)},o.geo.length=function(t){return wr=0,o.geo.stream(t,Ur),wr};var Ur={sphere:F,point:F,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=jt),a=Math.cos(i),u=w((r*=jt)-t),s=Math.cos(u);wr+=Math.atan2(Math.sqrt((u=a*Math.sin(u))*u+(u=n*o-e*a*s)*u),e*o+n*a*s),t=r,e=o,n=a}Ur.point=function(i,o){t=i*jt,e=Math.sin(o*=jt),n=Math.cos(o),Ur.point=r},Ur.lineEnd=function(){Ur.point=Ur.lineEnd=F}},lineEnd:F,polygonStart:F,polygonEnd:F};function Zr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}var Kr=Zr((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(o.geo.azimuthalEqualArea=function(){return Lr(Kr)}).raw=Kr;var $r=Zr((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),j);function Jr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Nt/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return ei;function a(t,e){o>0?e<-Lt+Et&&(e=-Lt+Et):e>Lt-Et&&(e=Lt-Et);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=o-e,r=zt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Lt]},a}function Qr(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(w(r)<Et)return zr;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-zt(r)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Lr($r)}).raw=$r,(o.geo.conicConformal=function(){return lr(Jr)}).raw=Jr,(o.geo.conicEquidistant=function(){return lr(Qr)}).raw=Qr;var ti=Zr((function(t){return 1/t}),Math.atan);function ei(t,e){return[t,Math.log(Math.tan(Nt/4+e/2))]}function ni(t){var e,n=Lr(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var u=Nt*r(),s=i();o([[s[0]-u,s[1]-u],[s[0]+u,s[1]+u]])}}else e&&(a=null);return a},n.clipExtent(null)}(o.geo.gnomonic=function(){return Lr(ti)}).raw=ti,ei.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Lt]},(o.geo.mercator=function(){return ni(ei)}).raw=ei;var ri=Zr((function(){return 1}),Math.asin);(o.geo.orthographic=function(){return Lr(ri)}).raw=ri;var ii=Zr((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function oi(t,e){return[Math.log(Math.tan(Nt/4+e/2)),-t]}function ai(t){return t[0]}function ui(t){return t[1]}function si(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Wt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function li(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Lr(ii)}).raw=ii,oi.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Lt]},(o.geo.transverseMercator=function(){var t=ni(oi),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=oi,o.geom={},o.geom.hull=function(t){var e=ai,n=ui;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=ye(e),o=ye(n),a=t.length,u=[],s=[];for(r=0;r<a;r++)u.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(u.sort(li),r=0;r<a;r++)s.push([u[r][0],-u[r][1]]);var l=si(u),c=si(s),f=c[0]===l[0],d=c[c.length-1]===l[l.length-1],h=[];for(r=l.length-1;r>=0;--r)h.push(t[u[l[r]][2]]);for(r=+f;r<c.length-d;++r)h.push(t[u[c[r]][2]]);return h}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},o.geom.polygon=function(t){return Y(t,ci),t};var ci=o.geom.polygon.prototype=[];function fi(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function di(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,u=r[0]-o,s=t[1],l=n[1],c=e[1]-s,f=r[1]-l,d=(u*(s-l)-f*(i-o))/(f*a-u*c);return[i+d*a,s+d*c]}function hi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ci.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},ci.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,u=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=u,u=this[r],n=e[0]*u[1]-u[0]*e[1],o+=(e[0]+u[0])*n,a+=(e[1]+u[1])*n;return[o*t,a*t]},ci.clip=function(t){for(var e,n,r,i,o,a,u=hi(t),s=-1,l=this.length-hi(this),c=this[l-1];++s<l;){for(e=t.slice(),t.length=0,i=this[s],o=e[(r=e.length-u)-1],n=-1;++n<r;)fi(a=e[n],c,i)?(fi(o,c,i)||t.push(di(o,a,c,i)),t.push(a)):fi(o,c,i)&&t.push(di(o,a,c,i)),o=a;u&&t.push(t[0]),c=i}return t};var pi,gi,vi,mi,yi,bi=[],xi=[];function ki(){Ri(this),this.edge=this.site=this.circle=null}function wi(t){var e=bi.pop()||new ki;return e.site=t,e}function Mi(t){Pi(t),vi.remove(t),bi.push(t),Ri(t)}function Si(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,u=[t];Mi(t);for(var s=o;s.circle&&w(n-s.circle.x)<Et&&w(r-s.circle.cy)<Et;)o=s.P,u.unshift(s),Mi(s),s=o;u.unshift(s),Pi(s);for(var l=a;l.circle&&w(n-l.circle.x)<Et&&w(r-l.circle.cy)<Et;)a=l.N,u.push(l),Mi(l),l=a;u.push(l),Pi(l);var c,f=u.length;for(c=1;c<f;++c)l=u[c],s=u[c-1],Wi(l.edge,s.site,l.site,i);s=u[0],(l=u[f-1]).edge=Di(s.site,l.site,null,i),Ti(s),Ti(l)}function _i(t){for(var e,n,r,i,o=t.x,a=t.y,u=vi._;u;)if((r=Ai(u,a)-o)>Et)u=u.L;else{if(!((i=o-Ci(u,a))>Et)){r>-Et?(e=u.P,n=u):i>-Et?(e=u,n=u.N):e=n=u;break}if(!u.R){e=u;break}u=u.R}var s=wi(t);if(vi.insert(e,s),e||n){if(e===n)return Pi(e),n=wi(e.site),vi.insert(s,n),s.edge=n.edge=Di(e.site,s.site),Ti(e),void Ti(n);if(n){Pi(e),Pi(n);var l=e.site,c=l.x,f=l.y,d=t.x-c,h=t.y-f,p=n.site,g=p.x-c,v=p.y-f,m=2*(d*v-h*g),y=d*d+h*h,b=g*g+v*v,x={x:(v*y-h*b)/m+c,y:(d*b-g*y)/m+f};Wi(n.edge,l,p,x),s.edge=Di(l,t,null,x),n.edge=Di(t,p,null,x),Ti(e),Ti(n)}else s.edge=Di(e.site,s.site)}}function Ai(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(n=a.site).x,s=n.y,l=s-e;if(!l)return u;var c=u-r,f=1/o-1/l,d=c/l;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-s+l/2+i-o/2)))/f+r:(r+u)/2}function Ci(t,e){var n=t.N;if(n)return Ai(n,e);var r=t.site;return r.y===e?r.x:1/0}function Ei(t){this.site=t,this.edges=[]}function Oi(t,e){return e.angle-t.angle}function Ni(){Ri(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ti(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,u=i.y,s=r.x-a,l=r.y-u,c=o.x-a,f=2*(s*(v=o.y-u)-l*c);if(!(f>=-Ot)){var d=s*s+l*l,h=c*c+v*v,p=(v*d-l*h)/f,g=(s*h-c*d)/f,v=g+u,m=xi.pop()||new Ni;m.arc=t,m.site=i,m.x=p+a,m.y=v+Math.sqrt(p*p+g*g),m.cy=v,t.circle=m;for(var y=null,b=yi._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}yi.insert(y,m),y||(mi=m)}}}}function Pi(t){var e=t.circle;e&&(e.P||(mi=e.N),yi.remove(e),xi.push(e),Ri(e),t.circle=null)}function Li(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],u=e[1][0],s=e[0][1],l=e[1][1],c=t.l,f=t.r,d=c.x,h=c.y,p=f.x,g=f.y,v=(d+p)/2,m=(h+g)/2;if(g===h){if(v<a||v>=u)return;if(d>p){if(o){if(o.y>=l)return}else o={x:v,y:s};n={x:v,y:l}}else{if(o){if(o.y<s)return}else o={x:v,y:l};n={x:v,y:s}}}else if(i=m-(r=(d-p)/(g-h))*v,r<-1||r>1)if(d>p){if(o){if(o.y>=l)return}else o={x:(s-i)/r,y:s};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<s)return}else o={x:(l-i)/r,y:l};n={x:(s-i)/r,y:s}}else if(h<g){if(o){if(o.x>=u)return}else o={x:a,y:r*a+i};n={x:u,y:r*u+i}}else{if(o){if(o.x<a)return}else o={x:u,y:r*u+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function ji(t,e){this.l=t,this.r=e,this.a=this.b=null}function Di(t,e,n,r){var i=new ji(t,e);return pi.push(i),n&&Wi(i,t,e,n),r&&Wi(i,e,t,r),gi[t.i].edges.push(new Fi(i,t,e)),gi[e.i].edges.push(new Fi(i,e,t)),i}function zi(t,e,n){var r=new ji(t,null);return r.a=e,r.b=n,pi.push(r),r}function Wi(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Fi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Ii(){this._=null}function Ri(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Hi(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Bi(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function qi(t){for(;t.L;)t=t.L;return t}function Vi(t,e){var n,r,i,o=t.sort(Yi).pop();for(pi=[],gi=new Array(t.length),vi=new Ii,yi=new Ii;;)if(i=mi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(gi[o.i]=new Ei(o),_i(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Si(i.arc)}e&&(function(t){for(var e,n=pi,r=ur(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Li(e=n[i],t)||!r(e)||w(e.a.x-e.b.x)<Et&&w(e.a.y-e.b.y)<Et)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,o,a,u,s,l,c,f=t[0][0],d=t[1][0],h=t[0][1],p=t[1][1],g=gi,v=g.length;v--;)if((o=g[v])&&o.prepare())for(s=(u=o.edges).length,a=0;a<s;)r=(c=u[a].end()).x,i=c.y,e=(l=u[++a%s].start()).x,n=l.y,(w(r-e)>Et||w(i-n)>Et)&&(u.splice(a,0,new Fi(zi(o.site,c,w(r-f)<Et&&p-i>Et?{x:f,y:w(e-f)<Et?n:p}:w(i-p)<Et&&d-r>Et?{x:w(n-p)<Et?e:d,y:p}:w(r-d)<Et&&i-h>Et?{x:d,y:w(e-d)<Et?n:h}:w(i-h)<Et&&r-f>Et?{x:w(n-h)<Et?e:f,y:h}:null),o.site,null)),++s)}(e));var a={cells:gi,edges:pi};return vi=yi=pi=gi=null,a}function Yi(t,e){return e.y-t.y||e.x-t.x}Ei.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Oi),e.length},Fi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ii.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=qi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Hi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Bi(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Bi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Hi(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?qi(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Hi(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Bi(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Hi(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Bi(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Hi(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Bi(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ai,n=ui,r=e,i=n,o=Xi;if(t)return a(t);function a(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return Vi(u(t),o).cells.forEach((function(o,u){var s=o.edges,l=o.site;(e[u]=s.length?s.map((function(t){var e=t.start();return[e.x,e.y]})):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=t[u]})),e}function u(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/Et)*Et,y:Math.round(i(t,e)/Et)*Et,i:e}}))}return a.links=function(t){return Vi(u(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},a.triangles=function(t){var e=[];return Vi(u(t)).cells.forEach((function(n,r){for(var i,o,a,u,s=n.site,l=n.edges.sort(Oi),c=-1,f=l.length,d=l[f-1].edge,h=d.l===s?d.r:d.l;++c<f;)d,i=h,h=(d=l[c].edge).l===s?d.r:d.l,r<i.i&&r<h.i&&(a=i,u=h,((o=s).x-u.x)*(a.y-o.y)-(o.x-a.x)*(u.y-o.y)<0)&&e.push([t[r],t[i.i],t[h.i]])})),e},a.x=function(t){return arguments.length?(r=ye(e=t),a):e},a.y=function(t){return arguments.length?(i=ye(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?Xi:t,a):o===Xi?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===Xi?null:o&&o[1]},a};var Xi=[[-1e6,-1e6],[1e6,1e6]];function Gi(t){return t.x}function Ui(t){return t.y}function Zi(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),u=.5*(r+o),s=e.nodes;s[0]&&Zi(t,s[0],n,r,a,u),s[1]&&Zi(t,s[1],a,r,i,u),s[2]&&Zi(t,s[2],n,u,a,o),s[3]&&Zi(t,s[3],a,u,i,o)}}function Ki(t,e,n,r,i,o,a){var u,s=1/0;return function t(l,c,f,d,h){if(!(c>o||f>a||d<r||h<i)){if(p=l.point){var p,g=e-l.x,v=n-l.y,m=g*g+v*v;if(m<s){var y=Math.sqrt(s=m);r=e-y,i=n-y,o=e+y,a=n+y,u=p}}for(var b=l.nodes,x=.5*(c+d),k=.5*(f+h),w=(n>=k)<<1|e>=x,M=w+4;w<M;++w)if(l=b[3&w])switch(3&w){case 0:t(l,c,f,x,k);break;case 1:t(l,x,f,d,k);break;case 2:t(l,c,k,x,h);break;case 3:t(l,x,k,d,h)}}}(t,r,i,o,a),u}function $i(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,u=e.g-r,s=e.b-i;return function(t){return"#"+fe(Math.round(n+a*t))+fe(Math.round(r+u*t))+fe(Math.round(i+s*t))}}function Ji(t,e){var n,r={},i={};for(n in t)n in e?r[n]=ro(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function Qi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function to(t,e){var n,r,i,o=eo.lastIndex=no.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=eo.exec(t))&&(r=no.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Qi(n,r)})),o=no.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?(e=s[0].x,function(t){return e(t)+""}):function(){return e}:(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var o,a=ai,u=ui;if(o=arguments.length)return a=Gi,u=Ui,3===o&&(i=n,r=e,n=e=0),s(t);function s(t){var s,l,c,f,d,h,p,g,v,m=ye(a),y=ye(u);if(null!=e)h=e,p=n,g=r,v=i;else if(g=v=-(h=p=1/0),l=[],c=[],d=t.length,o)for(f=0;f<d;++f)(s=t[f]).x<h&&(h=s.x),s.y<p&&(p=s.y),s.x>g&&(g=s.x),s.y>v&&(v=s.y),l.push(s.x),c.push(s.y);else for(f=0;f<d;++f){var b=+m(s=t[f],f),x=+y(s,f);b<h&&(h=b),x<p&&(p=x),b>g&&(g=b),x>v&&(v=x),l.push(b),c.push(x)}var k=g-h,M=v-p;function S(t,e,n,r,i,o,a,u){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var s=t.x,l=t.y;if(null!=s)if(w(s-n)+w(l-r)<.01)_(t,e,n,r,i,o,a,u);else{var c=t.point;t.x=t.y=t.point=null,_(t,c,s,l,i,o,a,u),_(t,e,n,r,i,o,a,u)}else t.x=n,t.y=r,t.point=e}else _(t,e,n,r,i,o,a,u)}function _(t,e,n,r,i,o,a,u){var s=.5*(i+a),l=.5*(o+u),c=n>=s,f=r>=l,d=f<<1|c;t.leaf=!1,c?i=s:a=s,f?o=l:u=l,S(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,o,a,u)}k>M?v=p+k:g=h+M;var A={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(A,t,+m(t,++f),+y(t,f),h,p,g,v)},visit:function(t){Zi(t,A,h,p,g,v)},find:function(t){return Ki(A,t[0],t[1],h,p,g,v)}};if(f=-1,null==e){for(;++f<d;)S(A,t[f],l[f],c[f],h,p,g,v);--f}else t.forEach(A.add);return l=c=t=s=null,A}return s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(u=t,s):u},s.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),s):null==e?null:[[e,n],[r,i]]},s.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),s):null==e?null:[r-e,i-n]},s},o.interpolateRgb=$i,o.interpolateObject=Ji,o.interpolateNumber=Qi,o.interpolateString=to;var eo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,no=new RegExp(eo.source,"g");function ro(t,e){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](t,e)););return n}function io(t,e){var n,r=[],i=[],o=t.length,a=e.length,u=Math.min(t.length,e.length);for(n=0;n<u;++n)r.push(ro(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<u;++n)i[n]=r[n](t);return i}}o.interpolate=ro,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?me.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?$i:to:e instanceof Xt?$i:Array.isArray(e)?io:"object"===n&&isNaN(e)?Ji:Qi)(t,e)}],o.interpolateArray=io;var oo=function(){return j},ao=o.map({linear:oo,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return fo},cubic:function(){return ho},sin:function(){return go},exp:function(){return vo},circle:function(){return mo},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Tt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Tt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return yo}}),uo=o.map({in:j,out:lo,"in-out":co,"out-in":function(t){return co(lo(t))}});function so(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function lo(t){return function(e){return 1-t(1-e)}}function co(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function fo(t){return t*t}function ho(t){return t*t*t}function po(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function go(t){return 1-Math.cos(t*Lt)}function vo(t){return Math.pow(2,10*(t-1))}function mo(t){return 1-Math.sqrt(1-t*t)}function yo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function bo(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function xo(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],a=wo(i),u=ko(i,o),s=wo(((e=o)[0]+=(r=-u)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,u*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Dt,this.translate=[t.e,t.f],this.scale=[a,s],this.skew=s?Math.atan2(u,s)*Dt:0}function ko(t,e){return t[0]*e[0]+t[1]*e[1]}function wo(t){var e=Math.sqrt(ko(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ao.get(n)||oo,so((r=uo.get(r)||j)(n.apply(null,a.call(arguments,1))))},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,u=e.c-r,s=e.l-i;isNaN(u)&&(u=0,r=isNaN(r)?e.c:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Jt(n+a*t,r+u*t,i+s*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,u=e.s-r,s=e.l-i;isNaN(u)&&(u=0,r=isNaN(r)?e.s:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Zt(n+a*t,r+u*t,i+s*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,u=e.a-r,s=e.b-i;return function(t){return ne(n+a*t,r+u*t,i+s*t)+""}},o.interpolateRound=bo,o.transform=function(t){var e=s.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new xo(n?n.matrix:Mo)})(t)},xo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Mo={a:1,b:0,c:0,d:1,e:0,f:0};function So(t){return t.length?t.pop()+",":""}function _o(t,e){var n=[],r=[];return t=o.transform(t),e=o.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Qi(t[0],e[0])},{i:i-2,x:Qi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(So(n)+"rotate(",null,")")-2,x:Qi(t,e)})):e&&n.push(So(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(So(n)+"skewX(",null,")")-2,x:Qi(t,e)}):e&&n.push(So(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(So(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Qi(t[0],e[0])},{i:i-2,x:Qi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(So(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,o=r.length;++i<o;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Ao(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Co(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Eo(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=Oo(t),r=Oo(e),i=n.pop(),o=r.pop(),a=null;for(;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Oo(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function No(t){t.fixed|=2}function To(t){t.fixed&=-7}function Po(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Lo(t){t.fixed&=-5}o.interpolateTransform=_o,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Eo(t[n]));return e}},o.layout.chord=function(){var t,e,n,r,i,a,u,s={},l=0;function c(){var s,c,d,h,p,g={},v=[],m=o.range(r),y=[];for(t=[],e=[],s=0,h=-1;++h<r;){for(c=0,p=-1;++p<r;)c+=n[h][p];v.push(c),y.push(o.range(r)),s+=c}for(i&&m.sort((function(t,e){return i(v[t],v[e])})),a&&y.forEach((function(t,e){t.sort((function(t,r){return a(n[e][t],n[e][r])}))})),s=(Tt-l*r)/s,c=0,h=-1;++h<r;){for(d=c,p=-1;++p<r;){var b=m[h],x=y[b][p],k=n[b][x],w=c,M=c+=k*s;g[b+"-"+x]={index:b,subindex:x,startAngle:w,endAngle:M,value:k}}e[b]={index:b,startAngle:d,endAngle:c,value:v[b]},c+=l}for(h=-1;++h<r;)for(p=h-1;++p<r;){var S=g[h+"-"+p],_=g[p+"-"+h];(S.value||_.value)&&t.push(S.value<_.value?{source:_,target:S}:{source:S,target:_})}u&&f()}function f(){t.sort((function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return s.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,s):n},s.padding=function(n){return arguments.length?(l=n,t=e=null,s):l},s.sortGroups=function(n){return arguments.length?(i=n,t=e=null,s):i},s.sortSubgroups=function(e){return arguments.length?(a=e,t=null,s):a},s.sortChords=function(e){return arguments.length?(u=e,t&&f(),s):u},s.chords=function(){return t||c(),t},s.groups=function(){return e||c(),e},s},o.layout.force=function(){var t,e,n,r,i,a,u={},s=o.dispatch("start","tick","end"),l=[1,1],c=.9,f=jo,d=Do,h=-30,p=zo,g=.1,v=.64,m=[],y=[];function b(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,u=i-n,s=o*o+a*a;if(u*u/v<s){if(s<p){var l=e.charge/s;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&s&&s<p){l=e.pointCharge/s;t.px-=o*l,t.py-=a*l}}return!e.charge}}function x(t){t.px=o.event.x,t.py=o.event.y,u.resume()}return u.tick=function(){if((n*=.99)<.005)return t=null,s.end({type:"end",alpha:n=0}),!0;var e,u,f,d,p,v,x,k,w,M=m.length,S=y.length;for(u=0;u<S;++u)d=(f=y[u]).source,(v=(k=(p=f.target).x-d.x)*k+(w=p.y-d.y)*w)&&(k*=v=n*i[u]*((v=Math.sqrt(v))-r[u])/v,w*=v,p.x-=k*(x=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=w*x,d.x+=k*(x=1-x),d.y+=w*x);if((x=n*g)&&(k=l[0]/2,w=l[1]/2,u=-1,x))for(;++u<M;)(f=m[u]).x+=(k-f.x)*x,f.y+=(w-f.y)*x;if(h)for(!function t(e,n,r){var i=0,o=0;if(e.charge=0,!e.leaf)for(var a,u=e.nodes,s=u.length,l=-1;++l<s;)null!=(a=u[l])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge,e.cy=o/e.charge}(e=o.geom.quadtree(m),n,a),u=-1;++u<M;)(f=m[u]).fixed||e.visit(b(f));for(u=-1;++u<M;)(f=m[u]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*c,f.y-=(f.py-(f.py=f.y))*c);s.tick({type:"tick",alpha:n})},u.nodes=function(t){return arguments.length?(m=t,u):m},u.links=function(t){return arguments.length?(y=t,u):y},u.size=function(t){return arguments.length?(l=t,u):l},u.linkDistance=function(t){return arguments.length?(f="function"===typeof t?t:+t,u):f},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(d="function"===typeof t?t:+t,u):d},u.friction=function(t){return arguments.length?(c=+t,u):c},u.charge=function(t){return arguments.length?(h="function"===typeof t?t:+t,u):h},u.chargeDistance=function(t){return arguments.length?(p=t*t,u):Math.sqrt(p)},u.gravity=function(t){return arguments.length?(g=+t,u):g},u.theta=function(t){return arguments.length?(v=t*t,u):Math.sqrt(v)},u.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,s.end({type:"end",alpha:n=0})):e>0&&(s.start({type:"start",alpha:n=e}),t=Ae(u.tick)),u):n},u.start=function(){var t,e,n,o=m.length,s=y.length,c=l[0],p=l[1];for(t=0;t<o;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<s;++t)"number"==typeof(n=y[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<o;++t)n=m[t],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"===typeof f)for(t=0;t<s;++t)r[t]=+f.call(this,y[t],t);else for(t=0;t<s;++t)r[t]=f;if(i=[],"function"===typeof d)for(t=0;t<s;++t)i[t]=+d.call(this,y[t],t);else for(t=0;t<s;++t)i[t]=d;if(a=[],"function"===typeof h)for(t=0;t<o;++t)a[t]=+h.call(this,m[t],t);else for(t=0;t<o;++t)a[t]=h;function g(n,r){if(!e){for(e=new Array(o),l=0;l<o;++l)e[l]=[];for(l=0;l<s;++l){var i=y[l];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var a,u=e[t],l=-1,c=u.length;++l<c;)if(!isNaN(a=u[l][n]))return a;return Math.random()*r}return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){if(e||(e=o.behavior.drag().origin(j).on("dragstart.force",No).on("drag.force",x).on("dragend.force",To)),!arguments.length)return e;this.on("mouseover.force",Po).on("mouseout.force",Lo).call(e)},o.rebind(u,s,"on")};var jo=20,Do=1,zo=1/0;function Wo(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=qo,t}function Fo(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Io(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function Ro(t){return t.children}function Ho(t){return t.value}function Bo(t,e){return e.value-t.value}function qo(t){return o.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}o.layout.hierarchy=function(){var t=Bo,e=Ro,n=Ho;function r(i){var o,a=[i],u=[];for(i.depth=0;null!=(o=a.pop());)if(u.push(o),(l=e.call(r,o,o.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)a.push(c=l[s]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=l}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Io(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),u}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Fo(t,(function(t){t.children&&(t.value=0)})),Io(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,r){var i=t.call(this,n,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,u,s,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(u=o[l],n,s=u.value*r,i),n+=s}}(i[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return n.size=function(t){return arguments.length?(e=t,n):e},Wo(n,t)},o.layout.pie=function(){var t=Number,e=Vo,n=0,r=Tt,i=0;function a(u){var s,l=u.length,c=u.map((function(e,n){return+t.call(a,e,n)})),f=+("function"===typeof n?n.apply(this,arguments):n),d=("function"===typeof r?r.apply(this,arguments):r)-f,h=Math.min(Math.abs(d)/l,+("function"===typeof i?i.apply(this,arguments):i)),p=h*(d<0?-1:1),g=o.sum(c),v=g?(d-l*p)/g:0,m=o.range(l),y=[];return null!=e&&m.sort(e===Vo?function(t,e){return c[e]-c[t]}:function(t,n){return e(u[t],u[n])}),m.forEach((function(t){y[t]={data:u[t],value:s=c[t],startAngle:f,endAngle:f+=s*v+p,padAngle:h}})),y}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(e=t,a):e},a.startAngle=function(t){return arguments.length?(n=t,a):n},a.endAngle=function(t){return arguments.length?(r=t,a):r},a.padAngle=function(t){return arguments.length?(i=t,a):i},a};var Vo={};function Yo(t){return t.x}function Xo(t){return t.y}function Go(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=j,e=Ko,n=$o,r=Go,i=Yo,a=Xo;function u(s,l){if(!(h=s.length))return s;var c=s.map((function(e,n){return t.call(u,e,n)})),f=c.map((function(t){return t.map((function(t,e){return[i.call(u,t,e),a.call(u,t,e)]}))})),d=e.call(u,f,l);c=o.permute(c,d),f=o.permute(f,d);var h,p,g,v,m=n.call(u,f,l),y=c[0].length;for(g=0;g<y;++g)for(r.call(u,c[0][g],v=m[g],f[0][g][1]),p=1;p<h;++p)r.call(u,c[p][g],v+=f[p-1][g][1],f[p][g][1]);return s}return u.values=function(e){return arguments.length?(t=e,u):t},u.order=function(t){return arguments.length?(e="function"===typeof t?t:Uo.get(t)||Ko,u):e},u.offset=function(t){return arguments.length?(n="function"===typeof t?t:Zo.get(t)||$o,u):n},u.x=function(t){return arguments.length?(i=t,u):i},u.y=function(t){return arguments.length?(a=t,u):a},u.out=function(t){return arguments.length?(r=t,u):r},u};var Uo=o.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Jo),a=t.map(Qo),u=o.range(r).sort((function(t,e){return i[t]-i[e]})),s=0,l=0,c=[],f=[];for(e=0;e<r;++e)n=u[e],s<l?(s+=a[n],c.push(n)):(l+=a[n],f.push(n));return f.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:Ko}),Zo=o.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],u=0,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>u&&(u=r),a.push(r)}for(n=0;n<o;++n)s[n]=(u-a[n])/2;return s},wiggle:function(t){var e,n,r,i,o,a,u,s,l,c=t.length,f=t[0],d=f.length,h=[];for(h[0]=s=l=0,n=1;n<d;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,u=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*u);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/u;o+=a*t[e][n][1]}h[n]=s-=i?o/i*u:0,s<l&&(l=s)}for(n=0;n<d;++n)h[n]-=l;return h},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)u[n]=0;return u},zero:$o});function Ko(t){return o.range(t.length)}function $o(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Jo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Qo(t){return t.reduce(ta,0)}function ta(t,e){return t+e[1]}function ea(t,e){return na(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function na(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function ra(t){return[o.min(t),o.max(t)]}function ia(t,e){return t.value-e.value}function oa(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function aa(t,e){t._pack_next=e,e._pack_prev=t}function ua(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function sa(t){if((e=t.children)&&(s=e.length)){var e,n,r,i,o,a,u,s,l=1/0,c=-1/0,f=1/0,d=-1/0;if(e.forEach(la),(n=e[0]).x=-n.r,n.y=0,b(n),s>1&&((r=e[1]).x=r.r,r.y=0,b(r),s>2))for(fa(n,r,i=e[2]),b(i),oa(n,i),n._pack_prev=i,oa(i,r),r=n._pack_next,o=3;o<s;o++){fa(n,r,i=e[o]);var h=0,p=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(ua(a,i)){h=1;break}if(1==h)for(u=n._pack_prev;u!==a._pack_prev&&!ua(u,i);u=u._pack_prev,g++);h?(p<g||p==g&&r.r<n.r?aa(n,r=a):aa(n=u,r),o--):(oa(n,i),r=i,b(i))}var v=(l+c)/2,m=(f+d)/2,y=0;for(o=0;o<s;o++)(i=e[o]).x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(ca)}function b(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}}function la(t){t._pack_next=t._pack_prev=t}function ca(t){delete t._pack_next,delete t._pack_prev}function fa(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,u=i*i+o*o,s=.5+((r*=r)-(a*=a))/(2*u),l=Math.sqrt(Math.max(0,2*a*(r+u)-(r-=u)*r-a*a))/(2*u);n.x=t.x+s*i+l*o,n.y=t.y+s*o-l*i}else n.x=t.x+r,n.y=t.y}function da(t,e){return t.parent==e.parent?1:2}function ha(t){var e=t.children;return e.length?e[0]:t.t}function pa(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ga(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function va(t,e,n){return t.a.parent===e.parent?t.a:n}function ma(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ya(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function ba(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function xa(t){return t.rangeExtent?t.rangeExtent():ba(t.range())}function ka(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function wa(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Ma(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Sa}o.layout.histogram=function(){var t=!0,e=Number,n=ra,r=ea;function i(i,a){for(var u,s,l=[],c=i.map(e,this),f=n.call(this,c,a),d=r.call(this,f,c,a),h=(a=-1,c.length),p=d.length-1,g=t?1:1/h;++a<p;)(u=l[a]=[]).dx=d[a+1]-(u.x=d[a]),u.y=0;if(p>0)for(a=-1;++a<h;)(s=c[a])>=f[0]&&s<=f[1]&&((u=l[o.bisect(d,s,1,p)-1]).y+=g,u.push(i[a]));return l}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=ye(t),i):n},i.bins=function(t){return arguments.length?(r="number"===typeof t?function(e){return na(e,t)}:ye(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(ia),n=0,r=[1,1];function i(i,o){var a=e.call(this,i,o),u=a[0],s=r[0],l=r[1],c=null==t?Math.sqrt:"function"===typeof t?t:function(){return t};if(u.x=u.y=0,Io(u,(function(t){t.r=+c(t.value)})),Io(u,sa),n){var f=n*(t?1:Math.max(2*u.r/s,2*u.r/l))/2;Io(u,(function(t){t.r+=f})),Io(u,sa),Io(u,(function(t){t.r-=f}))}return function t(e,n,r,i){var o=e.children;if(e.x=n+=i*e.x,e.y=r+=i*e.y,e.r*=i,o)for(var a=-1,u=o.length;++a<u;)t(o[a],n,r,i)}(u,s/2,l/2,t?1:1/Math.max(2*u.r/s,2*u.r/l)),a}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"===typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},Wo(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=da,n=[1,1],r=null;function i(i,o){var l=t.call(this,i,o),c=l[0],f=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,o=e.children,a=0,u=o.length;a<u;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(c);if(Io(f,a),f.parent.m=-f.z,Fo(f,u),r)Fo(c,s);else{var d=c,h=c,p=c;Fo(c,(function(t){t.x<d.x&&(d=t),t.x>h.x&&(h=t),t.depth>p.depth&&(p=t)}));var g=e(d,h)/2-d.x,v=n[0]/(h.x+e(h,d)/2+g),m=n[1]/(p.depth||1);Fo(c,(function(t){t.x=(t.x+g)*v,t.y=t.depth*m}))}return l}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,i=t.children,o=i.length;for(;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,u=n,s=o.parent.children[0],l=o.m,c=a.m,f=u.m,d=s.m;u=pa(u),o=ha(o),u&&o;)s=ha(s),(a=pa(a)).a=t,(i=u.z+f-o.z-l+e(u._,o._))>0&&(ga(va(u,t,r),t,i),l+=i,c+=i),f+=u.m,l+=o.m,d+=s.m,c+=a.m;u&&!pa(a)&&(a.t=u,a.m+=f-c),o&&!ha(s)&&(s.t=o,s.m+=l-d,r=t)}return r}(t,i,t.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?s:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:s,i):r?n:null},Wo(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=da,n=[1,1],r=!1;function i(i,a){var u,s=t.call(this,i,a),l=s[0],c=0;Io(l,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+o.max(t,(function(t){return t.y}))}(n)):(t.x=u?c+=e(t,u):0,t.y=0,u=t)}));var f=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(l),d=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(l),h=f.x-e(f,d)/2,p=d.x+e(d,f)/2;return Io(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-h)/(p-h)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),s}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},Wo(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,a=ma,u=!1,s="squarify",l=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t){var e=t.children;if(e&&e.length){var n,r,i,o=a(t),u=[],l=e.slice(),d=1/0,g="slice"===s?o.dx:"dice"===s?o.dy:"slice-dice"===s?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(l,o.dx*o.dy/t.value),u.area=0;(i=l.length)>0;)u.push(n=l[i-1]),u.area+=n.area,"squarify"!==s||(r=h(u,g))<=d?(l.pop(),d=r):(u.area-=u.pop().area,p(u,g,o,!1),g=Math.min(o.dx,o.dy),u.length=u.area=0,d=1/0);u.length&&(p(u,g,o,!0),u.length=u.area=0),e.forEach(f)}}function d(t){var e=t.children;if(e&&e.length){var n,r=a(t),i=e.slice(),o=[];for(c(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(d)}}function h(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,u=t.length;++a<u;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*l/r,r/(e*o*l)):1/0}function p(t,e,r,i){var o,a=-1,u=t.length,s=r.x,l=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((i||c>r.dy)&&(c=r.dy);++a<u;)(o=t[a]).x=s,o.y=l,o.dy=c,s+=o.dx=Math.min(r.x+r.dx-s,c?n(o.area/c):0);o.z=!0,o.dx+=r.x+r.dx-s,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++a<u;)(o=t[a]).x=s,o.y=l,o.dx=c,l+=o.dy=Math.min(r.y+r.dy-l,c?n(o.area/c):0);o.z=!1,o.dy+=r.y+r.dy-l,r.x+=c,r.dx-=c}}function g(n){var i=t||e(n),o=i[0];return o.x=o.y=0,o.value?(o.dx=r[0],o.dy=r[1]):o.dx=o.dy=0,t&&e.revalue(o),c([o],o.dx*o.dy/o.value),(t?d:f)(o),u&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){var n=t.call(g,e,e.depth);return null==n?ma(e):ya(e,"number"===typeof n?[n,n,n,n]:n)}function n(e){return ya(e,t)}var r;return a=null==(i=t)?ma:"function"===(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(u=e,t=null,g):u},g.ratio=function(t){return arguments.length?(l=t,g):l},g.mode=function(t){return arguments.length?(s=t+"",g):s},Wo(g,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var Sa={floor:j,ceil:j};function _a(t,e,n,r){var i=[],a=[],u=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<=s;)i.push(n(t[u-1],t[u])),a.push(r(e[u-1],e[u]));return function(e){var n=o.bisect(t,e,1,s)-1;return a[n](i[n](e))}}function Aa(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ca(t,e){return wa(t,Ma(Ea(t,e)[2])),wa(t,Ma(Ea(t,e)[2])),t}function Ea(t,e){null==e&&(e=10);var n=ba(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Oa(t,e){return o.range.apply(o,Ea(t,e))}function Na(t,e,n){var r=Ea(t,e);if(n){var i=Le.exec(n);if(i.shift(),"s"===i[8]){var a=o.formatPrefix(Math.max(w(r[0]),w(r[1])));return i[7]||(i[7]="."+Pa(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(t){return n(a.scale(t))+a.symbol}}i[7]||(i[7]="."+function(t,e){var n=Pa(e[2]);return t in Ta?Math.abs(n-Pa(Math.max(w(e[0]),w(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+Pa(r[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,r,i){var o,a;function u(){var t=Math.min(e.length,n.length)>2?_a:ka,u=i?Co:Ao;return o=t(e,n,u,r),a=t(n,e,u,ro),s}function s(t){return o(t)}return s.invert=function(t){return a(t)},s.domain=function(t){return arguments.length?(e=t.map(Number),u()):e},s.range=function(t){return arguments.length?(n=t,u()):n},s.rangeRound=function(t){return s.range(t).interpolate(bo)},s.clamp=function(t){return arguments.length?(i=t,u()):i},s.interpolate=function(t){return arguments.length?(r=t,u()):r},s.ticks=function(t){return Oa(e,t)},s.tickFormat=function(t,n){return Na(e,t,n)},s.nice=function(t){return Ca(e,t),u()},s.copy=function(){return t(e,n,r,i)},u()}([0,1],[0,1],ro,!1)};var Ta={s:1,g:1,p:1,r:1,e:1};function Pa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,r,i){function a(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function u(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function s(t){return e(a(t))}return s.invert=function(t){return u(e.invert(t))},s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(a)),s):i},s.base=function(t){return arguments.length?(n=+t,e.domain(i.map(a)),s):n},s.nice=function(){var t=wa(i.map(a),r?Math:ja);return e.domain(t),i=t.map(u),s},s.ticks=function(){var t=ba(i),e=[],o=t[0],s=t[1],l=Math.floor(a(o)),c=Math.ceil(a(s)),f=n%1?2:n;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var d=1;d<f;d++)e.push(u(l)*d);e.push(u(l))}else for(e.push(u(l));l++<c;)for(d=f-1;d>0;d--)e.push(u(l)*d);for(l=0;e[l]<o;l++);for(c=e.length;e[c-1]>s;c--);e=e.slice(l,c)}return e},s.tickFormat=function(t,e){if(!arguments.length)return La;arguments.length<2?e=La:"function"!==typeof e&&(e=o.format(e));var r=Math.max(1,n*t/s.ticks().length);return function(t){var i=t/u(Math.round(a(t)));return i*n<n-.5&&(i*=n),i<=r?e(t):""}},s.copy=function(){return t(e.copy(),n,r,i)},Aa(s,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var La=o.format(".0e"),ja={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Da(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,r){var i=Da(n),o=Da(1/n);function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r},a.ticks=function(t){return Oa(r,t)},a.tickFormat=function(t,e){return Na(r,t,e)},a.nice=function(t){return a.domain(Ca(r,t))},a.exponent=function(t){return arguments.length?(i=Da(n=t),o=Da(1/n),e.domain(r.map(i)),a):n},a.copy=function(){return t(e.copy(),n,r)},Aa(a,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var r,i,a;function u(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function s(t,n){return o.range(e.length).map((function(e){return t+n*e}))}return u.domain=function(t){if(!arguments.length)return e;e=[],r=new _;for(var i,o=-1,a=t.length;++o<a;)r.has(i=t[o])||r.set(i,e.push(i));return u[n.t].apply(u,n.a)},u.range=function(t){return arguments.length?(i=t,a=0,n={t:"range",a:arguments},u):i},u.rangePoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],l=t[1],c=e.length<2?(o=(o+l)/2,0):(l-o)/(e.length-1+r);return i=s(o+c*r/2,c),a=0,n={t:"rangePoints",a:arguments},u},u.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],l=t[1],c=e.length<2?(o=l=Math.round((o+l)/2),0):(l-o)/(e.length-1+r)|0;return i=s(o+Math.round(c*r/2+(l-o-(e.length-1+r)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},u},u.rangeBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var l=t[1]<t[0],c=t[l-0],f=t[1-l],d=(f-c)/(e.length-r+2*o);return i=s(c+d*o,d),l&&i.reverse(),a=d*(1-r),n={t:"rangeBands",a:arguments},u},u.rangeRoundBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var l=t[1]<t[0],c=t[l-0],f=t[1-l],d=Math.floor((f-c)/(e.length-r+2*o));return i=s(c+Math.round((f-c-(e.length-r)*d)/2),d),l&&i.reverse(),a=Math.round(d*(1-r)),n={t:"rangeRoundBands",a:arguments},u},u.rangeBand=function(){return a},u.rangeExtent=function(){return ba(n.a[0])},u.copy=function(){return t(e,n)},u.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(za)},o.scale.category20=function(){return o.scale.ordinal().range(Wa)},o.scale.category20b=function(){return o.scale.ordinal().range(Fa)},o.scale.category20c=function(){return o.scale.ordinal().range(Ia)};var za=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(le),Wa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(le),Fa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(le),Ia=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(le);function Ra(){return 0}o.scale.quantile=function(){return function t(e,n){var r;function i(){var t=0,i=n.length;for(r=[];++t<i;)r[t-1]=o.quantile(e,t/i);return a}function a(t){if(!isNaN(t=+t))return n[o.bisect(r,t)]}return a.domain=function(t){return arguments.length?(e=t.map(m).filter(y).sort(v),i()):e},a.range=function(t){return arguments.length?(n=t,i()):n},a.quantiles=function(){return r},a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},a.copy=function(){return t(e,n)},i()}([],[])},o.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function u(){return i=r.length/(n-e),o=r.length-1,a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],u()):[e,n]},a.range=function(t){return arguments.length?(r=t,u()):r},a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]},a.copy=function(){return t(e,n,r)},u()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[o.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return Oa(e,t)},n.tickFormat=function(t,n){return Na(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},o.svg={},o.svg.arc=function(){var t=Ba,e=qa,n=Ra,r=Ha,i=Va,o=Ya,a=Xa;function u(){var u=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-Lt,f=o.apply(this,arguments)-Lt,d=Math.abs(f-c),h=c>f?0:1;if(l<u&&(p=l,l=u,u=p),d>=Pt)return s(l,h)+(u?s(u,1-h):"")+"Z";var p,g,v,m,y,b,x,k,w,M,S,_,A=0,C=0,E=[];if((m=(+a.apply(this,arguments)||0)/2)&&(v=r===Ha?Math.sqrt(u*u+l*l):+r.apply(this,arguments),h||(C*=-1),l&&(C=It(v/l*Math.sin(m))),u&&(A=It(v/u*Math.sin(m)))),l){y=l*Math.cos(c+C),b=l*Math.sin(c+C),x=l*Math.cos(f-C),k=l*Math.sin(f-C);var O=Math.abs(f-c-2*C)<=Nt?0:1;if(C&&Ga(y,b,x,k)===h^O){var N=(c+f)/2;y=l*Math.cos(N),b=l*Math.sin(N),x=k=null}}else y=b=0;if(u){w=u*Math.cos(f-A),M=u*Math.sin(f-A),S=u*Math.cos(c+A),_=u*Math.sin(c+A);var T=Math.abs(c-f+2*A)<=Nt?0:1;if(A&&Ga(w,M,S,_)===1-h^T){var P=(c+f)/2;w=u*Math.cos(P),M=u*Math.sin(P),S=_=null}}else w=M=0;if(d>Et&&(p=Math.min(Math.abs(l-u)/2,+n.apply(this,arguments)))>.001){g=u<l^h?0:1;var L=p,j=p;if(d<Nt){var D=null==S?[w,M]:null==x?[y,b]:di([y,b],[S,_],[x,k],[w,M]),z=y-D[0],W=b-D[1],F=x-D[0],I=k-D[1],R=1/Math.sin(Math.acos((z*F+W*I)/(Math.sqrt(z*z+W*W)*Math.sqrt(F*F+I*I)))/2),H=Math.sqrt(D[0]*D[0]+D[1]*D[1]);j=Math.min(p,(u-H)/(R-1)),L=Math.min(p,(l-H)/(R+1))}if(null!=x){var B=Ua(null==S?[w,M]:[S,_],[y,b],l,L,h),q=Ua([x,k],[w,M],l,L,h);p===L?E.push("M",B[0],"A",L,",",L," 0 0,",g," ",B[1],"A",l,",",l," 0 ",1-h^Ga(B[1][0],B[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",L,",",L," 0 0,",g," ",q[0]):E.push("M",B[0],"A",L,",",L," 0 1,",g," ",q[0])}else E.push("M",y,",",b);if(null!=S){var V=Ua([y,b],[S,_],u,-j,h),Y=Ua([w,M],null==x?[y,b]:[x,k],u,-j,h);p===j?E.push("L",Y[0],"A",j,",",j," 0 0,",g," ",Y[1],"A",u,",",u," 0 ",h^Ga(Y[1][0],Y[1][1],V[1][0],V[1][1]),",",1-h," ",V[1],"A",j,",",j," 0 0,",g," ",V[0]):E.push("L",Y[0],"A",j,",",j," 0 0,",g," ",V[0])}else E.push("L",w,",",M)}else E.push("M",y,",",b),null!=x&&E.push("A",l,",",l," 0 ",O,",",h," ",x,",",k),E.push("L",w,",",M),null!=S&&E.push("A",u,",",u," 0 ",T,",",1-h," ",S,",",_);return E.push("Z"),E.join("")}function s(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return u.innerRadius=function(e){return arguments.length?(t=ye(e),u):t},u.outerRadius=function(t){return arguments.length?(e=ye(t),u):e},u.cornerRadius=function(t){return arguments.length?(n=ye(t),u):n},u.padRadius=function(t){return arguments.length?(r=t==Ha?Ha:ye(t),u):r},u.startAngle=function(t){return arguments.length?(i=ye(t),u):i},u.endAngle=function(t){return arguments.length?(o=ye(t),u):o},u.padAngle=function(t){return arguments.length?(a=ye(t),u):a},u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Lt;return[Math.cos(r)*n,Math.sin(r)*n]},u};var Ha="auto";function Ba(t){return t.innerRadius}function qa(t){return t.outerRadius}function Va(t){return t.startAngle}function Ya(t){return t.endAngle}function Xa(t){return t&&t.padAngle}function Ga(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Ua(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],u=(i?r:-r)/Math.sqrt(o*o+a*a),s=u*a,l=-u*o,c=t[0]+s,f=t[1]+l,d=e[0]+s,h=e[1]+l,p=(c+d)/2,g=(f+h)/2,v=d-c,m=h-f,y=v*v+m*m,b=n-r,x=c*h-d*f,k=(m<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),w=(x*m-v*k)/y,M=(-x*v-m*k)/y,S=(x*m+v*k)/y,_=(-x*v+m*k)/y,A=w-p,C=M-g,E=S-p,O=_-g;return A*A+C*C>E*E+O*O&&(w=S,M=_),[[w-s,M-l],[w*n/b,M*n/b]]}function Za(t){var e=ai,n=ui,r=$n,i=$a,o=i.key,a=.7;function u(o){var u,s=[],l=[],c=-1,f=o.length,d=ye(e),h=ye(n);function p(){s.push("M",i(t(l),a))}for(;++c<f;)r.call(this,u=o[c],c)?l.push([+d.call(this,u,c),+h.call(this,u,c)]):l.length&&(p(),l=[]);return l.length&&p(),s.length?s.join(""):null}return u.x=function(t){return arguments.length?(e=t,u):e},u.y=function(t){return arguments.length?(n=t,u):n},u.defined=function(t){return arguments.length?(r=t,u):r},u.interpolate=function(t){return arguments.length?(o="function"===typeof t?i=t:(i=Ka.get(t)||$a).key,u):o},u.tension=function(t){return arguments.length?(a=t,u):a},u}o.svg.line=function(){return Za(j)};var Ka=o.map({linear:$a,"linear-closed":Ja,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":Qa,"step-after":tu,basis:ru,"basis-open":function(t){if(t.length<4)return $a(t);var e,n=[],r=-1,i=t.length,o=[0],a=[0];for(;++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);n.push(iu(uu,o)+","+iu(uu,a)),--r;for(;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),su(n,o,a);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,o=i+4,a=[],u=[];for(;++r<4;)n=t[r%i],a.push(n[0]),u.push(n[1]);e=[iu(uu,a),",",iu(uu,u)],--r;for(;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),u.shift(),u.push(n[1]),su(e,a,u);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],u=t[n][0]-o,s=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*u),r[1]=e*r[1]+(1-e)*(a+i*s);return ru(t)},cardinal:function(t,e){return t.length<3?$a(t):t[0]+eu(t,nu(t,e))},"cardinal-open":function(t,e){return t.length<4?$a(t):t[1]+eu(t.slice(1,-1),nu(t,e))},"cardinal-closed":function(t,e){return t.length<3?Ja(t):t[0]+eu((t.push(t[0]),t),nu([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?$a(t):t[0]+eu(t,function(t){var e,n,r,i,o=[],a=function(t){var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=lu(i,o);for(;++e<n;)r[e]=(a+(a=lu(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),u=-1,s=t.length-1;for(;++u<s;)e=lu(t[u],t[u+1]),w(e)<Et?a[u]=a[u+1]=0:(n=a[u]/e,r=a[u+1]/e,(i=n*n+r*r)>9&&(i=3*e/Math.sqrt(i),a[u]=i*n,a[u+1]=i*r));u=-1;for(;++u<=s;)i=(t[Math.min(s,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+a[u]*a[u])),o.push([i||0,a[u]*i||0]);return o}(t))}});function $a(t){return t.length>1?t.join("L"):t+"Z"}function Ja(t){return t.join("L")+"Z"}function Qa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function tu(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function eu(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return $a(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],u=a,s=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],s=2),e.length>1){u=e[1],o=t[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,s++)o=t[s],u=e[l],r+="S"+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1]}if(n){var c=t[s];r+="Q"+(o[0]+2*u[0]/3)+","+(o[1]+2*u[1]/3)+","+c[0]+","+c[1]}return r}function nu(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],u=1,s=t.length;++u<s;)n=o,o=a,a=t[u],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function ru(t){if(t.length<3)return $a(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],u=[o,o,o,r[1]],s=[i,",",o,"L",iu(uu,a),",",iu(uu,u)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),u.shift(),u.push(r[1]),su(s,a,u);return t.pop(),s.push("L",r),s.join("")}function iu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Ka.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var ou=[0,2/3,1/3,0],au=[0,1/3,2/3,0],uu=[0,1/6,2/3,1/6];function su(t,e,n){t.push("C",iu(ou,e),",",iu(ou,n),",",iu(au,e),",",iu(au,n),",",iu(uu,e),",",iu(uu,n))}function lu(t,e){return(e[1]-t[1])/(e[0]-t[0])}function cu(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Lt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function fu(t){var e=ai,n=ai,r=0,i=ui,o=$n,a=$a,u=a.key,s=a,l="L",c=.7;function f(u){var f,d,h,p=[],g=[],v=[],m=-1,y=u.length,b=ye(e),x=ye(r),k=e===n?function(){return d}:ye(n),w=r===i?function(){return h}:ye(i);function M(){p.push("M",a(t(v),c),l,s(t(g.reverse()),c),"Z")}for(;++m<y;)o.call(this,f=u[m],m)?(g.push([d=+b.call(this,f,m),h=+x.call(this,f,m)]),v.push([+k.call(this,f,m),+w.call(this,f,m)])):g.length&&(M(),g=[],v=[]);return g.length&&M(),p.length?p.join(""):null}return f.x=function(t){return arguments.length?(e=n=t,f):n},f.x0=function(t){return arguments.length?(e=t,f):e},f.x1=function(t){return arguments.length?(n=t,f):n},f.y=function(t){return arguments.length?(r=i=t,f):i},f.y0=function(t){return arguments.length?(r=t,f):r},f.y1=function(t){return arguments.length?(i=t,f):i},f.defined=function(t){return arguments.length?(o=t,f):o},f.interpolate=function(t){return arguments.length?(u="function"===typeof t?a=t:(a=Ka.get(t)||$a).key,s=a.reverse||a,l=a.closed?"M":"L",f):u},f.tension=function(t){return arguments.length?(c=t,f):c},f}function du(t){return t.radius}function hu(t){return[t.x,t.y]}function pu(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Lt;return[n*Math.cos(r),n*Math.sin(r)]}}function gu(){return 64}function vu(){return"circle"}function mu(t){var e=Math.sqrt(t/Nt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Za(cu);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Qa.reverse=tu,tu.reverse=Qa,o.svg.area=function(){return fu(j)},o.svg.area.radial=function(){var t=fu(cu);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Xr,e=Gr,n=du,r=Va,i=Ya;function o(n,r){var i,o,l=a(this,t,n,r),c=a(this,e,n,r);return"M"+l.p0+u(l.r,l.p1,l.a1-l.a0)+(o=c,((i=l).a0==o.a0&&i.a1==o.a1?s(l.r,l.p1,l.r,l.p0):s(l.r,l.p1,c.r,c.p0)+u(c.r,c.p1,c.a1-c.a0)+s(c.r,c.p1,l.r,l.p0))+"Z")}function a(t,e,o,a){var u=e.call(t,o,a),s=n.call(t,u,a),l=r.call(t,u,a)-Lt,c=i.call(t,u,a)-Lt;return{r:s,a0:l,a1:c,p0:[s*Math.cos(l),s*Math.sin(l)],p1:[s*Math.cos(c),s*Math.sin(c)]}}function u(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Nt)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=ye(t),o):n},o.source=function(e){return arguments.length?(t=ye(e),o):t},o.target=function(t){return arguments.length?(e=ye(t),o):e},o.startAngle=function(t){return arguments.length?(r=ye(t),o):r},o.endAngle=function(t){return arguments.length?(i=ye(t),o):i},o},o.svg.diagonal=function(){var t=Xr,e=Gr,n=hu;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i),u=(o.y+a.y)/2,s=[o,{x:o.x,y:u},{x:a.x,y:u},a];return"M"+(s=s.map(n))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}return r.source=function(e){return arguments.length?(t=ye(e),r):t},r.target=function(t){return arguments.length?(e=ye(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=hu,n=t.projection;return t.projection=function(t){return arguments.length?n(pu(e=t)):e},t},o.svg.symbol=function(){var t=vu,e=gu;function n(n,r){return(yu.get(t.call(this,n,r))||mu)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ye(e),n):t},n.size=function(t){return arguments.length?(e=ye(t),n):e},n};var yu=o.map({circle:mu,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*xu)),n=e*xu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/bu),n=e*bu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/bu),n=e*bu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=yu.keys();var bu=Math.sqrt(3),xu=Math.tan(30*jt);K.transition=function(t){for(var e,n,r=Su||++Cu,i=Nu(t),o=[],a=_u||{time:Date.now(),ease:po,delay:0,duration:250},u=-1,s=this.length;++u<s;){o.push(e=[]);for(var l=this[u],c=-1,f=l.length;++c<f;)(n=l[c])&&Tu(n,c,i,r,a),e.push(n)}return Mu(o,i,r)},K.interrupt=function(t){return this.each(null==t?ku:wu(Nu(t)))};var ku=wu(Nu());function wu(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Mu(t,e,n){return Y(t,Au),t.namespace=e,t.id=n,t}var Su,_u,Au=[],Cu=0;function Eu(t,e,n,r){var i=t.id,o=t.namespace;return pt(t,"function"===typeof n?function(t,a,u){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,u)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Ou(t){return null==t&&(t=""),function(){this.textContent=t}}function Nu(t){return null==t?"__transition__":"__transition_"+t+"__"}function Tu(t,e,n,r,i){var o,a,u,s,l,c=t[n]||(t[n]={active:0,count:0}),f=c[r];function d(n){var i=c.active,d=c[i];for(var p in d&&(d.timer.c=null,d.timer.t=NaN,--c.count,delete c[i],d.event&&d.event.interrupt.call(t,t.__data__,d.index)),c)if(+p<r){var g=c[p];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[p]}a.c=h,Ae((function(){return a.c&&h(n||1)&&(a.c=null,a.t=NaN),1}),0,o),c.active=r,f.event&&f.event.start.call(t,t.__data__,e),l=[],f.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&l.push(r)})),s=f.ease,u=f.duration}function h(i){for(var o=i/u,a=s(o),d=l.length;d>0;)l[--d].call(t,a);if(o>=1)return f.event&&f.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}f||(o=i.time,a=Ae((function(t){var e=f.delay;if(a.t=e+o,e<=t)return d(t-e);a.c=d}),0,o),f=c[r]={tween:new _,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++c.count)}Au.call=K.call,Au.empty=K.empty,Au.node=K.node,Au.size=K.size,o.transition=function(t,e){return t&&t.transition?Su?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=Au,Au.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=$(t);for(var u=-1,s=this.length;++u<s;){a.push(e=[]);for(var l=this[u],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=t.call(r,r.__data__,c,u))?("__data__"in r&&(n.__data__=r.__data__),Tu(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return Mu(a,o,i)},Au.selectAll=function(t){var e,n,r,i,o,a=this.id,u=this.namespace,s=[];t=J(t);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],d=-1,h=f.length;++d<h;)if(r=f[d]){o=r[u][a],n=t.call(r,r.__data__,d,l),s.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Tu(i,p,u,a,o),e.push(i)}return Mu(s,u,a)},Au.filter=function(t){var e,n,r=[];"function"!==typeof t&&(t=dt(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,u=0,s=(a=this[i]).length;u<s;u++)(n=a[u])&&t.call(n,n.__data__,u,i)&&e.push(n)}return Mu(r,this.namespace,this.id)},Au.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):pt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Au.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?_o:ro,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}function u(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function s(t){return null==t?a:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return Eu(this,"attr."+t,e,r.local?s:u)},Au.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},Au.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!==typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function o(e){return null==e?i:(e+="",function(){var r,i=c(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=ro(i,e),function(e){this.style.setProperty(t,r(e),n)})})}return Eu(this,"style."+t,e,o)},Au.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Au.text=function(t){return Eu(this,"text",t,Ou)},Au.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Au.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!==typeof t&&(t=o.ease.apply(o,arguments)),pt(this,(function(r){r[n][e].ease=t})))},Au.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"===typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Au.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"===typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Au.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=_u,a=Su;try{Su=n,pt(this,(function(e,i,o){_u=e[r][n],t.call(e,e.__data__,i,o)}))}finally{_u=i,Su=a}}else pt(this,(function(i){var a=i[r][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(t,e)}));return this},Au.transition=function(){for(var t,e,n,r=this.id,i=++Cu,o=this.namespace,a=[],u=0,s=this.length;u<s;u++){a.push(t=[]);for(var l,c=0,f=(l=this[u]).length;c<f;c++)(e=l[c])&&Tu(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Mu(a,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),n=Pu,r=6,i=6,a=3,s=[10],l=null;function c(u){u.each((function(){var u,c=o.select(this),f=this.__chart__||e,d=this.__chart__=e.copy(),h=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,p=null==t?d.tickFormat?d.tickFormat.apply(d,s):j:t,g=c.selectAll(".tick").data(h,d),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Et),m=o.transition(g.exit()).style("opacity",Et).remove(),y=o.transition(g.order()).style("opacity",1),b=Math.max(r,0)+a,x=xa(d),k=c.selectAll(".domain").data([0]),w=(k.enter().append("path").attr("class","domain"),o.transition(k));v.append("line"),v.append("text");var M,S,_,A,C=v.select("line"),E=y.select("line"),O=g.select("text").text(p),N=v.select("text"),T=y.select("text"),P="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(u=ju,M="x",_="y",S="x2",A="y2",O.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+P*i+"V0H"+x[1]+"V"+P*i)):(u=Du,M="y",_="x",S="y2",A="x2",O.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),w.attr("d","M"+P*i+","+x[0]+"H0V"+x[1]+"H"+P*i)),C.attr(A,P*r),N.attr(_,P*b),E.attr(S,0).attr(A,P*r),T.attr(M,0).attr(_,P*b),d.rangeBand){var L=d,D=L.rangeBand()/2;f=d=function(t){return L(t)+D}}else f.rangeBand?f=d:m.call(u,d,f);v.call(u,f,d),y.call(u,d,d)}))}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in Lu?t+"":Pu,c):n},c.ticks=function(){return arguments.length?(s=u(arguments),c):s},c.tickValues=function(t){return arguments.length?(l=t,c):l},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],c):r},c.innerTickSize=function(t){return arguments.length?(r=+t,c):r},c.outerTickSize=function(t){return arguments.length?(i=+t,c):i},c.tickPadding=function(t){return arguments.length?(a=+t,c):a},c.tickSubdivide=function(){return arguments.length&&c},c};var Pu="bottom",Lu={top:1,right:1,bottom:1,left:1};function ju(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Du(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}o.svg.brush=function(){var t,e,n=q(d,"brushstart","brush","brushend"),r=null,i=null,a=[0,0],u=[0,0],s=!0,l=!0,f=Wu[0];function d(t){t.each((function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(f,j);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return zu[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",d.empty()?"none":null);var a,u=o.transition(t),s=o.transition(e);r&&(a=xa(r),s.attr("x",a[0]).attr("width",a[1]-a[0]),p(u)),i&&(a=xa(i),s.attr("y",a[0]).attr("height",a[1]-a[0]),g(u)),h(u)}))}function h(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+a[+/e$/.test(t)]+","+u[+/^s/.test(t)]+")"}))}function p(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function g(t){t.select(".extent").attr("y",u[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function v(){var f,v,m=this,y=o.select(o.event.target),b=n.of(m,arguments),x=o.select(m),k=y.datum(),w=!/^(n|s)$/.test(k)&&r,M=!/^(e|w)$/.test(k)&&i,S=y.classed("extent"),_=St(m),A=o.mouse(m),C=o.select(c(m)).on("keydown.brush",N).on("keyup.brush",T);if(o.event.changedTouches?C.on("touchmove.brush",P).on("touchend.brush",j):C.on("mousemove.brush",P).on("mouseup.brush",j),x.interrupt().selectAll("*").interrupt(),S)A[0]=a[0]-A[0],A[1]=u[0]-A[1];else if(k){var E=+/w$/.test(k),O=+/^n/.test(k);v=[a[1-E]-A[0],u[1-O]-A[1]],A[0]=a[E],A[1]=u[O]}else o.event.altKey&&(f=A.slice());function N(){32==o.event.keyCode&&(S||(f=null,A[0]-=a[1],A[1]-=u[1],S=2),H())}function T(){32==o.event.keyCode&&2==S&&(A[0]+=a[1],A[1]+=u[1],S=0,H())}function P(){var t=o.mouse(m),e=!1;v&&(t[0]+=v[0],t[1]+=v[1]),S||(o.event.altKey?(f||(f=[(a[0]+a[1])/2,(u[0]+u[1])/2]),A[0]=a[+(t[0]<f[0])],A[1]=u[+(t[1]<f[1])]):f=null),w&&L(t,r,0)&&(p(x),e=!0),M&&L(t,i,1)&&(g(x),e=!0),e&&(h(x),b({type:"brush",mode:S?"move":"resize"}))}function L(n,r,i){var o,c,d=xa(r),h=d[0],p=d[1],g=A[i],v=i?u:a,m=v[1]-v[0];if(S&&(h-=g,p-=m+g),o=(i?l:s)?Math.max(h,Math.min(p,n[i])):n[i],S?c=(o+=g)+m:(f&&(g=Math.max(h,Math.min(p,2*f[i]-o))),g<o?(c=o,o=g):c=g),v[0]!=o||v[1]!=c)return i?e=null:t=null,v[0]=o,v[1]=c,!0}function j(){P(),x.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),o.select("body").style("cursor",null),C.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),_(),b({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),P()}return d.event=function(r){r.each((function(){var r=n.of(this,arguments),i={x:a,y:u,i:t,j:e},s=this.__chart__||i;this.__chart__=i,Su?o.select(this).transition().each("start.brush",(function(){t=s.i,e=s.j,a=s.x,u=s.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=io(a,i.x),o=io(u,i.y);return t=e=null,function(t){a=i.x=n(t),u=i.y=o(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},d.x=function(t){return arguments.length?(f=Wu[!(r=t)<<1|!i],d):r},d.y=function(t){return arguments.length?(f=Wu[!r<<1|!(i=t)],d):i},d.clamp=function(t){return arguments.length?(r&&i?(s=!!t[0],l=!!t[1]):r?s=!!t:i&&(l=!!t),d):r&&i?[s,l]:r?s:i?l:null},d.extent=function(n){var o,s,l,c,f;return arguments.length?(r&&(o=n[0],s=n[1],i&&(o=o[0],s=s[0]),t=[o,s],r.invert&&(o=r(o),s=r(s)),s<o&&(f=o,o=s,s=f),o==a[0]&&s==a[1]||(a=[o,s])),i&&(l=n[0],c=n[1],r&&(l=l[1],c=c[1]),e=[l,c],i.invert&&(l=i(l),c=i(c)),c<l&&(f=l,l=c,c=f),l==u[0]&&c==u[1]||(u=[l,c])),d):(r&&(t?(o=t[0],s=t[1]):(o=a[0],s=a[1],r.invert&&(o=r.invert(o),s=r.invert(s)),s<o&&(f=o,o=s,s=f))),i&&(e?(l=e[0],c=e[1]):(l=u[0],c=u[1],i.invert&&(l=i.invert(l),c=i.invert(c)),c<l&&(f=l,l=c,c=f))),r&&i?[[o,l],[s,c]]:r?[o,s]:i&&[l,c])},d.clear=function(){return d.empty()||(a=[0,0],u=[0,0],t=e=null),d},d.empty=function(){return!!r&&a[0]==a[1]||!!i&&u[0]==u[1]},o.rebind(d,n,"on")};var zu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Fu=ze.format=dn.timeFormat,Iu=Fu.utc,Ru=Iu("%Y-%m-%dT%H:%M:%S.%LZ");function Hu(t){return t.toISOString()}function Bu(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=o.bisect(Vu,r);return i==Vu.length?[e.year,Ea(t.map((function(t){return t/31536e6})),n)[2]]:i?e[r/Vu[i-1]<Vu[i]/r?i-1:i]:[Gu,Ea(t,n)[2]]}return r.invert=function(e){return qu(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(qu)},r.nice=function(t,e){var n=r.domain(),o=ba(n),a=null==t?i(o,10):"number"===typeof t&&i(o,t);function u(n){return!isNaN(n)&&!t.range(n,qu(+n+1),e).length}return a&&(t=a[0],e=a[1]),r.domain(wa(n,e>1?{floor:function(e){for(;u(e=t.floor(e));)e=qu(e-1);return e},ceil:function(e){for(;u(e=t.ceil(e));)e=qu(+e+1);return e}}:t))},r.ticks=function(t,e){var n=ba(r.domain()),o=null==t?i(n,10):"number"===typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],qu(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Bu(t.copy(),e,n)},Aa(r,t)}function qu(t){return new Date(t)}Fu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Hu:Ru,Hu.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Hu.toString=Ru.toString,ze.second=Re((function(t){return new We(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),ze.seconds=ze.second.range,ze.seconds.utc=ze.second.utc.range,ze.minute=Re((function(t){return new We(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),ze.minutes=ze.minute.range,ze.minutes.utc=ze.minute.utc.range,ze.hour=Re((function(t){var e=t.getTimezoneOffset()/60;return new We(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),ze.hours=ze.hour.range,ze.hours.utc=ze.hour.utc.range,ze.month=Re((function(t){return(t=ze.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),ze.months=ze.month.range,ze.months.utc=ze.month.utc.range;var Vu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yu=[[ze.second,1],[ze.second,5],[ze.second,15],[ze.second,30],[ze.minute,1],[ze.minute,5],[ze.minute,15],[ze.minute,30],[ze.hour,1],[ze.hour,3],[ze.hour,6],[ze.hour,12],[ze.day,1],[ze.day,2],[ze.week,1],[ze.month,1],[ze.month,3],[ze.year,1]],Xu=Fu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",$n]]),Gu={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(qu)},floor:j,ceil:j};Yu.year=ze.year,ze.scale=function(){return Bu(o.scale.linear(),Yu,Xu)};var Uu=Yu.map((function(t){return[t[0].utc,t[1]]})),Zu=Iu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",$n]]);function Ku(t){return JSON.parse(t.responseText)}function $u(t){var e=s.createRange();return e.selectNode(s.body),e.createContextualFragment(t.responseText)}Uu.year=ze.year.utc,ze.scale.utc=function(){return Bu(o.scale.linear(),Uu,Zu)},o.text=be((function(t){return t.responseText})),o.json=function(t,e){return xe(t,"application/json",Ku,e)},o.html=function(t,e){return xe(t,"text/html",$u,e)},o.xml=be((function(t){return t.responseXML})),this.d3=o,void 0===(i="function"===typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)}()},205:function(t,e){t.exports={isFunction:function(t){return"function"===typeof t},isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},each:function(t,e){for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);}}},246:function(t,e,n){var r,i,o;t.exports=(r=n(0),i=n(204),o=n(247),function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1)),o=r(n(2)),a=r(n(17)),u=r(n(21)),s=r(n(22)),l=r(n(25)),c=r(n(48)),f=r(n(55)),d=r(n(56)),h=r(n(57)),p=n(58),g=["x","y","type","datum","configure"],v=["width","height"],m=function(t){function e(){return(0,u.default)(this,e),(0,l.default)(this,(0,a.default)(e).apply(this,arguments))}return(0,c.default)(e,t),(0,s.default)(e,[{key:"componentDidMount",value:function(){var t=this;h.default.addGraph(this.renderChart.bind(this),(function(e){(0,p.isCallable)(t.props.ready)&&t.props.ready(e,"ready")}))}},{key:"componentDidUpdate",value:function(){this.renderChart()}},{key:"componentWillUnmount",value:function(){this.resizeHandler&&this.resizeHandler.clear()}},{key:"renderChart",value:function(){var t=void 0;switch(this.chart=this.chart&&!this.rendering?this.chart:h.default.models[this.props.type](),(0,p.isCallable)(this.props.renderStart)&&this.props.renderStart(this.chart,"renderStart"),this.parsedProps=(0,p.bindFunctions)(this.props,this.props.context),this.chart.x&&this.chart.x((0,p.getValueFunction)(this.parsedProps.x,"x")),this.chart.y&&this.chart.y((0,p.getValueFunction)(this.parsedProps.y,"y")),this.props.margin&&this.chart.margin(this.options("margin",p.pick).margin||(0,p.propsByPrefix)("margin",this.props)||{}),this.configureComponents(this.chart,this.options(g.concat("containerStyle"),p.without)),!this.props.configure||this.props.configure(this.chart),this.selection=d.default.select(this.refs.svg).datum(this.props.datum).call(this.chart),this.resizeHandler||(this.resizeHandler=h.default.utils.windowResize(this.chart.update)),this.props.type){case"pieChart":t=this.chart.pie.dispatch;break;case"lineChart":t=this.chart.lines.dispatch;break;default:t=this.chart.dispatch}return t.renderEnd&&t.on("renderEnd",this.renderEnd.bind(this)),this.rendering=!0,this.chart}},{key:"renderEnd",value:function(t){(0,p.isCallable)(this.props.renderEnd)&&this.props.renderEnd(this.chart,"renderEnd"),this.rendering=!1}},{key:"configureComponents",value:function(t,e){for(var n in e){var r=e[n];t&&((0,p.isPlainObject)(r)?this.configureComponents(t[n],r):"function"==typeof t[n]&&t[n](r))}}},{key:"options",value:function(t,e){var n=this.parsedProps.options||this.parsedProps||this.props.chartOptions;return(e=e||p.pick)(n,t)}},{key:"render",value:function(){var t=(0,p.pick)(this.props,v),e=(0,o.default)({},t,this.props.containerStyle);return f.default.createElement("div",{ref:"root",className:"nv-chart",style:e},f.default.createElement("svg",(0,i.default)({ref:"svg"},t)))}}]),e}(f.default.Component);e.default=m,t.exports=m},function(t,e,n){"use strict";var r=n(2).default;e.default=r||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.__esModule=!0},function(t,e,n){t.exports={default:n(3),__esModule:!0}},function(t,e,n){n(4),t.exports=n(7).Object.assign},function(t,e,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(10)})},function(t,e,n){var r=n(6),i=n(7),o=n(8),a="prototype",u=function(t,e,n){var s,l,c,f=t&u.F,d=t&u.G,h=t&u.S,p=t&u.P,g=t&u.B,v=t&u.W,m=d?i:i[e]||(i[e]={}),y=d?r:h?r[e]:(r[e]||{})[a];for(s in d&&(n=e),n)(l=!f&&y&&s in y)&&s in m||(c=l?y[s]:n[s],m[s]=d&&"function"!=typeof y[s]?n[s]:g&&l?o(c,r):v&&y[s]==c?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[a]=t[a],e}(c):p&&"function"==typeof c?o(Function.call,c):c,p&&((m[a]||(m[a]={}))[s]=c))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(9);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(11),i=n(12),o=n(14);t.exports=n(16)((function(){var t=Object.assign,e={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(t){n[t]=t})),7!=t({},e)[r]||Object.keys(t({},n)).join("")!=i}))?function(t,e){for(var n=i(t),a=arguments,u=a.length,s=1,l=r.getKeys,c=r.getSymbols,f=r.isEnum;u>s;)for(var d,h=o(a[s++]),p=c?l(h).concat(c(h)):l(h),g=p.length,v=0;g>v;)f.call(h,d=p[v++])&&(n[d]=h[d]);return n}:Object.assign},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){var r=n(13);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(15);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){t.exports={default:n(18),__esModule:!0}},function(t,e,n){n(19),t.exports=n(7).Object.getPrototypeOf},function(t,e,n){var r=n(12);n(20)("getPrototypeOf",(function(t){return function(e){return t(r(e))}}))},function(t,e,n){var r=n(5),i=n(7),o=n(16);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e){"use strict";e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.__esModule=!0},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(23));e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(t,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e.__esModule=!0},function(t,e,n){t.exports={default:n(24),__esModule:!0}},function(t,e,n){var r=n(11);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(26));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e},e.__esModule=!0},function(t,e,n){"use strict";var r=n(27).default;e.default=function(t){return t&&t.constructor===r?"symbol":typeof t},e.__esModule=!0},function(t,e,n){t.exports={default:n(28),__esModule:!0}},function(t,e,n){n(29),n(47),t.exports=n(7).Symbol},function(t,e,n){"use strict";var r=n(11),i=n(6),o=n(30),a=n(31),u=n(5),s=n(32),l=n(16),c=n(35),f=n(36),d=n(38),h=n(37),p=n(39),g=n(41),v=n(42),m=n(43),y=n(44),b=n(40),x=n(34),k=r.getDesc,w=r.setDesc,M=r.create,S=g.get,_=i.Symbol,A=i.JSON,C=A&&A.stringify,E=!1,O=h("_hidden"),N=r.isEnum,T=c("symbol-registry"),P=c("symbols"),L="function"==typeof _,j=Object.prototype,D=a&&l((function(){return 7!=M(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=k(j,e);r&&delete j[e],w(t,e,n),r&&t!==j&&w(j,e,r)}:w,z=function(t){var e=P[t]=M(_.prototype);return e._k=t,a&&E&&D(j,t,{configurable:!0,set:function(e){o(this,O)&&o(this[O],t)&&(this[O][t]=!1),D(this,t,x(1,e))}}),e},W=function(t){return"symbol"==typeof t},F=function(t,e,n){return n&&o(P,e)?(n.enumerable?(o(t,O)&&t[O][e]&&(t[O][e]=!1),n=M(n,{enumerable:x(0,!1)})):(o(t,O)||w(t,O,x(1,{})),t[O][e]=!0),D(t,e,n)):w(t,e,n)},I=function(t,e){y(t);for(var n,r=v(e=b(e)),i=0,o=r.length;o>i;)F(t,n=r[i++],e[n]);return t},R=function(t,e){return void 0===e?M(t):I(M(t),e)},H=function(t){var e=N.call(this,t);return!(e||!o(this,t)||!o(P,t)||o(this,O)&&this[O][t])||e},B=function(t,e){var n=k(t=b(t),e);return!n||!o(P,e)||o(t,O)&&t[O][e]||(n.enumerable=!0),n},q=function(t){for(var e,n=S(b(t)),r=[],i=0;n.length>i;)o(P,e=n[i++])||e==O||r.push(e);return r},V=function(t){for(var e,n=S(b(t)),r=[],i=0;n.length>i;)o(P,e=n[i++])&&r.push(P[e]);return r},Y=l((function(){var t=_();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))}));L||(s((_=function(){if(W(this))throw TypeError("Symbol is not a constructor");return z(d(arguments.length>0?arguments[0]:void 0))}).prototype,"toString",(function(){return this._k})),W=function(t){return t instanceof _},r.create=R,r.isEnum=H,r.getDesc=B,r.setDesc=F,r.setDescs=I,r.getNames=g.get=q,r.getSymbols=V,a&&!n(46)&&s(j,"propertyIsEnumerable",H,!0));var X={for:function(t){return o(T,t+="")?T[t]:T[t]=_(t)},keyFor:function(t){return p(T,t)},useSetter:function(){E=!0},useSimple:function(){E=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),(function(t){var e=h(t);X[t]=L?e:z(e)})),E=!0,u(u.G+u.W,{Symbol:_}),u(u.S,"Symbol",X),u(u.S+u.F*!L,"Object",{create:R,defineProperty:F,defineProperties:I,getOwnPropertyDescriptor:B,getOwnPropertyNames:q,getOwnPropertySymbols:V}),A&&u(u.S+u.F*(!L||Y),"JSON",{stringify:function(t){if(void 0!==t&&!W(t)){for(var e,n,r=[t],i=1,o=arguments;o.length>i;)r.push(o[i++]);return"function"==typeof(e=r[1])&&(n=e),(n||!m(e))&&(e=function(t,e){return n&&(e=n.call(this,t,e)),W(e)?void 0:e}),r[1]=e,C.apply(A,r)}}}),f(_,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(16)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){t.exports=n(33)},function(t,e,n){var r=n(11),i=n(34);t.exports=n(31)?function(t,e,n){return r.setDesc(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(6),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(11).setDesc,i=n(30),o=n(37)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(35)("wks"),i=n(38),o=n(6).Symbol;t.exports=function(t){return r[t]||(r[t]=o&&o[t]||(o||i)("Symbol."+t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(11),i=n(40);t.exports=function(t,e){for(var n,o=i(t),a=r.getKeys(o),u=a.length,s=0;u>s;)if(o[n=a[s++]]===e)return n}},function(t,e,n){var r=n(14),i=n(13);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(40),i=n(11).getNames,o={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.get=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(e){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(11);t.exports=function(t){var e=r.getKeys(t),n=r.getSymbols;if(n)for(var i,o=n(t),a=r.isEnum,u=0;o.length>u;)a.call(t,i=o[u++])&&e.push(i);return e}},function(t,e,n){var r=n(15);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(45);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=!0},function(t,e){},function(t,e,n){"use strict";var r=n(49).default,i=n(51).default;e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=r(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(i?i(t,e):t.__proto__=e)},e.__esModule=!0},function(t,e,n){t.exports={default:n(50),__esModule:!0}},function(t,e,n){var r=n(11);t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){t.exports={default:n(52),__esModule:!0}},function(t,e,n){n(53),t.exports=n(7).Object.setPrototypeOf},function(t,e,n){var r=n(5);r(r.S,"Object",{setPrototypeOf:n(54).set})},function(t,e,n){var r=n(11).getDesc,i=n(45),o=n(44),a=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(8)(Function.call,r(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e){t.exports=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return t.indexOf(e)>=0}function o(t){return function(){return!t.apply(this,arguments)}}function a(t,e,n){for(var r={},i=(0,l.default)(t),o=0,a=i.length;a>o;o++){var u=i[o],s=t[u];n(e,u)&&(r[u]=s)}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.includes=i,e.negate=o,e.filterObject=a,e.pick=function(t,e){return a(t,e,i)},e.without=function(t,e){return a(t,e,o(i))},e.isPlainObject=function(t){if("object"==("undefined"==typeof t?"undefined":(0,s.default)(t))&&null!==t){if("function"==typeof u.default){var e=(0,u.default)(t);return e===Object.prototype||null===e}return"[object Object]"==Object.prototype.toString.call(t)}return!1},e.bindFunctions=function t(e,n){var r,i,o;for(o in r=Array.isArray(e)?[]:{},e)null!=(i=e[o])&&("object"===("undefined"==typeof i?"undefined":(0,s.default)(i))&&null!==i&&"function"!==i.type?r[o]=t(i,n):"function"===i.type?r[o]=n[i.name]:r[o]=i);return r},e.getValueFunction=function(t,e){return"function"==typeof t?t:function(n){return"undefined"!=typeof n[t]?n[t]:n[e]}},e.propsByPrefix=function(t,e){return console.warn("Set margin with prefixes is deprecated use an object instead"),t+="-",(0,l.default)(e).reduce((function(n,r){return r.substr(0,t.length)===t&&(n[r.replace(t,"")]=e[r]),n}),{})},e.isCallable=function(t){return t&&"function"==typeof t};var u=r(n(17)),s=r(n(26)),l=r(n(59))},function(t,e,n){t.exports={default:n(60),__esModule:!0}},function(t,e,n){n(61),t.exports=n(7).Object.keys},function(t,e,n){var r=n(12);n(20)("keys",(function(t){return function(e){return t(r(e))}}))}]))},247:function(t,e,n){!function(){var e={dev:!1};e.tooltip=e.tooltip||{},e.utils=e.utils||{},e.models=e.models||{},e.charts={},e.logs={},e.dom={},"undefined"==typeof d3&&(d3=n(204)),e.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),e.dev&&(e.dispatch.on("render_start",(function(t){e.logs.startTime=+new Date})),e.dispatch.on("render_end",(function(t){e.logs.endTime=+new Date,e.logs.totalTime=e.logs.endTime-e.logs.startTime,e.log("total",e.logs.totalTime)}))),e.log=function(){if(e.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(e.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},e.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},e.render=function(t){t=t||1,e.render.active=!0,e.dispatch.render_start();var n=function(){for(var r,i,o=0;o<t&&(i=e.render.queue[o]);o++)r=i.generate(),typeof i.callback==typeof Function&&i.callback(r);e.render.queue.splice(0,o),e.render.queue.length?setTimeout(n):(e.dispatch.render_end(),e.render.active=!1)};setTimeout(n)},e.render.active=!1,e.render.queue=[],e.addGraph=function(t){typeof arguments[0]===typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),e.render.queue.push(t),e.render.active||e.render()},t.exports=e,"undefined"!==typeof window&&(window.nv=e),e.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},e.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},e.interactiveGuideline=function(){"use strict";var t={left:0,top:0},n=null,r=null,i=d3.scale.linear(),o=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),a=!0,u=null,s=e.models.tooltip(),l=window.ActiveXObject;function c(f){f.each((function(f){var d=d3.select(this),h=n||960,p=r||400,g=d.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([f]);function v(){var e=d3.event.clientX-this.getBoundingClientRect().left,n=d3.event.clientY-this.getBoundingClientRect().top,r=!0,a=!1;if(l&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(a=!0)),r&&(e-=t.left,n-=t.top),"mouseout"===d3.event.type||e<0||n<0||e>h||n>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||a){if(l&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(s.nvPointerEventsClass)))return;return o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void s.hidden(!0)}s.hidden(!1);var u=void 0;if("function"===typeof i.rangeBands){var f=d3.bisect(i.range(),e)-1;if(!(i.range()[f]+i.rangeBand()>=e))return o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),void s.hidden(!0);u=i.domain()[d3.bisect(i.range(),e)-1]}else u=i.invert(e);o.elementMousemove({mouseX:e,mouseY:n,pointXValue:u}),"dblclick"===d3.event.type&&o.elementDblclick({mouseX:e,mouseY:n,pointXValue:u}),"click"===d3.event.type&&o.elementClick({mouseX:e,mouseY:n,pointXValue:u}),"mousedown"===d3.event.type&&o.elementMouseDown({mouseX:e,mouseY:n,pointXValue:u}),"mouseup"===d3.event.type&&o.elementMouseUp({mouseX:e,mouseY:n,pointXValue:u})}g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),u&&(u.on("touchmove",v).on("mousemove",v,!0).on("mouseout",v,!0).on("mousedown",v,!0).on("mouseup",v,!0).on("dblclick",v).on("click",v),c.guideLine=null,c.renderGuideLine=function(t){a&&(c.guideLine&&c.guideLine.attr("x1")===t||e.dom.write((function(){var n=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[e.utils.NaNtoZero(t)]:[],String);n.enter().append("line").attr("class","nv-guideline").attr("x1",(function(t){return t})).attr("x2",(function(t){return t})).attr("y1",p).attr("y2",0),n.exit().remove()})))})}))}return s.duration(0).hideDelay(0).hidden(!1),c.dispatch=o,c.tooltip=s,c.margin=function(e){return arguments.length?(t.top="undefined"!=typeof e.top?e.top:t.top,t.left="undefined"!=typeof e.left?e.left:t.left,c):t},c.width=function(t){return arguments.length?(n=t,c):n},c.height=function(t){return arguments.length?(r=t,c):r},c.xScale=function(t){return arguments.length?(i=t,c):i},c.showGuideLine=function(t){return arguments.length?(a=t,c):a},c.svgContainer=function(t){return arguments.length?(u=t,c):u},c},e.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!==typeof n?function(t){return t.x}:n;var i=d3.bisector((function(t,e){return r(t)-e})).left,o=d3.max([0,i(t,e)-1]),a=r(t[o]);if("undefined"===typeof a&&(a=o),a===e)return o;var u=d3.min([o+1,t.length-1]),s=r(t[u]);return"undefined"===typeof s&&(s=u),Math.abs(s-e)>=Math.abs(a-e)?o:u},e.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach((function(t,o){var a=Math.abs(e-t);null!=t&&a<=r&&a<n&&(r=a,i=o)})),i},e.models.tooltip=function(){"use strict";var t="nvtooltip-"+Math.floor(1e5*Math.random()),n=null,r="w",i=25,o=0,a=null,u=!0,s=200,l=null,c={left:null,top:null},f=!0,d=100,h=!0,p=function(t,e,n){return t},g=function(t){return t},v=function(t,e){return t},m=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));h&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(g(t.value));var r=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data((function(t){return t.series})).enter().append("tr").classed("highlight",(function(t){return t.highlight}));r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",(function(t){return t.color})),r.append("td").classed("key",!0).classed("total",(function(t){return!!t.total})).html((function(t,e){return v(t.key,e)})),r.append("td").classed("value",!0).html((function(t,e){return p(t.value,e,t)})),r.filter((function(t,e){return void 0!==t.percent})).append("td").classed("percent",!0).html((function(t,e){return"("+d3.format("%")(t.percent)+")"})),r.selectAll("td").each((function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}}));var i=n.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},y=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},b=function(){e.dom.read((function(){var t=y(),e=function(t){var e,n,o,a=l.node().offsetHeight,u=l.node().offsetWidth,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(r){case"e":e=-u-i,n=-a/2,t.left+e<0&&(e=i),(o=t.top+n)<0&&(n-=o),(o=t.top+n+a)>c&&(n-=o-c);break;case"w":e=i,n=-a/2,t.left+e+u>s&&(e=-u-i),(o=t.top+n)<0&&(n-=o),(o=t.top+n+a)>c&&(n-=o-c);break;case"n":e=-u/2-5,n=i,t.top+n+a>c&&(n=-a-i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+u)>s&&(e-=o-s);break;case"s":e=-u/2,n=-a-i,t.top+n<0&&(n=i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+u)>s&&(e-=o-s);break;case"center":e=-u/2,n=-a/2;break;default:e=0,n=0}return{left:e,top:n}}(t),n=t.left+e.left,o=t.top+e.top;if(u)l.interrupt().transition().delay(s).duration(0).style("opacity",0);else{var a="translate("+c.left+"px, "+c.top+"px)",f="translate("+Math.round(n)+"px, "+Math.round(o)+"px)",h=d3.interpolateString(a,f),p=l.style("opacity")<.1;l.interrupt().transition().duration(p?0:d).styleTween("transform",(function(t){return h}),"important").styleTween("-webkit-transform",(function(t){return h})).style("-ms-transform",f).style("opacity",1)}c.left=n,c.top=o}))};function x(){if(f&&function(t){if(t&&t.series){if(e.utils.isArray(t.series))return!0;if(e.utils.isObject(t.series))return t.series=[t.series],!0}return!1}(n))return e.dom.write((function(){!function(){if(!l||!l.node()){(l=d3.select(document.body).select("#"+t).data([1])).enter().append("div").attr("class","nvtooltip "+(a||"xy-tooltip")).attr("id",t).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed("nv-pointer-events-none",!0).classed("nv-pointer-events-none",!0),l.exit().remove()}}();var e=m(n,l.node());e&&(l.node().innerHTML=e),b()})),x}return x.nvPointerEventsClass="nv-pointer-events-none",x.options=e.utils.optionsFunc.bind(x),x._options=Object.create({},{duration:{get:function(){return d},set:function(t){d=t}},gravity:{get:function(){return r},set:function(t){r=t}},distance:{get:function(){return i},set:function(t){i=t}},snapDistance:{get:function(){return o},set:function(t){o=t}},classes:{get:function(){return a},set:function(t){a=t}},enabled:{get:function(){return f},set:function(t){f=t}},hideDelay:{get:function(){return s},set:function(t){s=t}},contentGenerator:{get:function(){return m},set:function(t){m=t}},valueFormatter:{get:function(){return p},set:function(t){p=t}},headerFormatter:{get:function(){return g},set:function(t){g=t}},keyFormatter:{get:function(){return v},set:function(t){v=t}},headerEnabled:{get:function(){return h},set:function(t){h=t}},position:{get:function(){return y},set:function(t){y=t}},chartContainer:{get:function(){return document.body},set:function(t){e.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){e.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){e.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return u},set:function(t){u!=t&&(u=!!t,x())}},data:{get:function(){return n},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),n=t}},node:{get:function(){return l.node()},set:function(t){}},id:{get:function(){return t},set:function(t){}}}),e.utils.initOptions(x),x},e.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},e.utils.isArray=Array.isArray,e.utils.isObject=function(t){return null!==t&&"object"===typeof t},e.utils.isFunction=function(t){return"function"===typeof t},e.utils.isDate=function(t){return"[object Date]"===toString.call(t)},e.utils.isNumber=function(t){return!isNaN(t)&&"number"===typeof t},e.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):e.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},e.utils.getColor=function(t){if(void 0===t)return e.utils.defaultColor();if(e.utils.isArray(t)){var n=d3.scale.ordinal().range(t);return function(t,e){var r=void 0===e?t:e;return t.color||n(r)}}return t},e.utils.defaultColor=function(){return e.utils.getColor(d3.scale.category20().range())},e.utils.customTheme=function(t,n,r){n=n||function(t){return t.key};var i=(r=r||d3.scale.category20().range()).length;return function(o,a){var u=n(o);return e.utils.isFunction(t[u])?t[u]():void 0!==t[u]?t[u]:(i||(i=r.length),r[i-=1])}},e.utils.pjax=function(t,n){var r=function(r){d3.html(r,(function(r){var i=d3.select(n).node();i.parentNode.replaceChild(d3.select(r).select(n).node(),i),e.utils.pjax(t,n)}))};d3.selectAll(t).on("click",(function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()})),d3.select(window).on("popstate",(function(){d3.event.state&&r(d3.event.state)}))},e.utils.calcApproxTextWidth=function(t){if(e.utils.isFunction(t.style)&&e.utils.isFunction(t.text)){var n=parseInt(t.style("font-size").replace("px",""),10),r=t.text().length;return e.utils.NaNtoZero(r*n*.5)}return 0},e.utils.NaNtoZero=function(t){return!e.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},e.utils.renderWatch=function(t,n){if(!(this instanceof e.utils.renderWatch))return new e.utils.renderWatch(t,n);var r=void 0!==n?n:250,i=[],o=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach((function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",(function(t){e.__rendered=!0,o.renderEnd("model")})),i.indexOf(t)<0&&i.push(t)})),this},this.reset=function(t){void 0!==t&&(r=t),i=[]},this.transition=function(t,e,n){if(n=(e=arguments.length>1?[].slice.call(arguments,1):[]).length>1?e.pop():void 0!==r?r:250,t.__rendered=!1,i.indexOf(t)<0&&i.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length||t.every((function(t){return!t.length}))?t.__rendered=!0:t.__rendered=!1;var a=0;return t.transition().duration(n).each((function(){++a})).each("end",(function(n,r){0===--a&&(t.__rendered=!0,o.renderEnd.apply(this,e))}))},this.renderEnd=function(){i.every((function(t){return t.__rendered}))&&(i.forEach((function(t){t.__rendered=!1})),t.renderEnd.apply(this,arguments))}},e.utils.deepExtend=function(t){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach((function(n){for(var r in n){var i=e.utils.isArray(t[r]),o=e.utils.isObject(t[r]),a=e.utils.isObject(n[r]);o&&!i&&a?e.utils.deepExtend(t[r],n[r]):t[r]=n[r]}}))},e.utils.state=function(){if(!(this instanceof e.utils.state))return new e.utils.state;var t={},n=function(){},r=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",(function(t){n(t,!0)})),this.getter=function(t){return r=t,this},this.setter=function(t,e){return e||(e=function(){}),n=function(n,r){t(n),r&&e()},this},this.init=function(t){i=i||{},e.utils.deepExtend(i,t)};var o=function(){var e=r();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var n in e)void 0===t[n]&&(t[n]={}),t[n]=e[n],!0;return!0};this.update=function(){i&&(n(i,!1),i=null),o.call(this)&&this.dispatch.change(t)}},e.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,n){e.utils.isFunction(this[t])&&this[t](n)}.bind(this)),this},e.utils.calcTicksX=function(t,n){for(var r=1,i=0;i<n.length;i+=1){var o=n[i]&&n[i].values?n[i].values.length:0;r=o>r?o:r}return e.log("Requested number of ticks: ",t),e.log("Calculated max values to be: ",r),t=(t=t>r?t=r-1:t)<1?1:t,t=Math.floor(t),e.log("Calculating tick count as: ",t),t},e.utils.calcTicksY=function(t,n){return e.utils.calcTicksX(t,n)},e.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},e.utils.initOptions=function(t){t._overrides=t._overrides||{};var n=Object.getOwnPropertyNames(t._options||{}),r=Object.getOwnPropertyNames(t._calls||{});for(var i in n=n.concat(r))e.utils.initOption(t,n[i])},e.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter((function(t,e,n){return n.indexOf(t)===e})),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},e.utils.arrayUnique=function(t){return t.sort().filter((function(e,n){return!n||e!=t[n-1]}))},e.utils.symbolMap=d3.map(),e.utils.symbol=function(){var t,n=64;function r(r,i){var o=t.call(this,r,i),a=n.call(this,r,i);return-1!==d3.svg.symbolTypes.indexOf(o)?d3.svg.symbol().type(o).size(a)():e.utils.symbolMap.get(o)(a)}return r.type=function(e){return arguments.length?(t=d3.functor(e),r):t},r.size=function(t){return arguments.length?(n=d3.functor(t),r):n},r},e.utils.inheritOptions=function(t,n){var r=Object.getOwnPropertyNames(n._options||{}),i=Object.getOwnPropertyNames(n._calls||{}),o=n._inherited||[],a=n._d3options||[],u=r.concat(i).concat(o).concat(a);u.unshift(n),u.unshift(t),d3.rebind.apply(this,u),t._inherited=e.utils.arrayUnique(r.concat(i).concat(o).concat(r).concat(t._inherited||[])),t._d3options=e.utils.arrayUnique(a.concat(t._d3options||[]))},e.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},e.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},e.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},e.utils.availableHeight=function(t,n,r){return Math.max(0,e.utils.sanitizeHeight(t,n)-r.top-r.bottom)},e.utils.availableWidth=function(t,n,r){return Math.max(0,e.utils.sanitizeWidth(t,n)-r.left-r.right)},e.utils.noData=function(t,n){var r=t.options(),i=r.margin(),o=r.noData(),a=null==o?["No Data Available."]:[o],u=e.utils.availableHeight(null,n,i),s=e.utils.availableWidth(null,n,i),l=i.left+s/2,c=i.top+u/2;n.selectAll("g").remove();var f=n.selectAll(".nv-noData").data(a);f.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),f.attr("x",l).attr("y",c).text((function(t){return t}))},e.utils.wrapTicks=function(t,e){t.each((function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),i=[],o=0,a=n.attr("y"),u=parseFloat(n.attr("dy")),s=n.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",u+"em");t=r.pop();)i.push(t),s.text(i.join(" ")),s.node().getComputedTextLength()>e&&(i.pop(),s.text(i.join(" ")),i=[t],s=n.append("tspan").attr("x",0).attr("y",a).attr("dy",1.1*++o+u+"em").text(t))}))},e.utils.arrayEquals=function(t,n){if(t===n)return!0;if(!t||!n)return!1;if(t.length!=n.length)return!1;for(var r=0,i=t.length;r<i;r++)if(t[r]instanceof Array&&n[r]instanceof Array){if(!e.arrayEquals(t[r],n[r]))return!1}else if(t[r]!=n[r])return!1;return!0},e.utils.pointIsInArc=function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),u=t.x*t.x+t.y*t.y,s=Math.atan2(t.x,-t.y);return s=s<0?s+2*Math.PI:s,r*r<=u&&u<=i*i&&o<=s&&s<=a},e.models.axis=function(){"use strict";var t,n,r=d3.svg.axis(),i=d3.scale.linear(),o={top:0,right:0,bottom:0,left:0},a=75,u=60,s=null,l=!0,c=0,f=!0,d=!1,h=!1,p=null,g=0,v=void 0,m=250,y=d3.dispatch("renderEnd");r.scale(i).orient("bottom").tickFormat((function(t){return t}));var b=e.utils.renderWatch(y,m);function x(u){return b.reset(),u.each((function(u){var m=d3.select(this);e.utils.initSVG(m);var y=m.selectAll("g.nv-wrap.nv-axis").data([u]),x=(y.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),y.select("g"));null!==p?r.ticks(p):"top"!=r.orient()&&"bottom"!=r.orient()||r.ticks(Math.abs(i.range()[1]-i.range()[0])/100),x.watchTransition(b,"axis").call(r),n=n||r.scale();var k=r.tickFormat();null==k&&(k=n.tickFormat());var w,M,S,_=x.selectAll("text.nv-axislabel").data([s||null]);switch(_.exit().remove(),void 0!==v&&x.selectAll("g").select("text").style("font-size",v),r.orient()){case"top":_.enter().append("text").attr("class","nv-axislabel"),S=0,1===i.range().length?S=h?2*i.range()[0]+i.rangeBand():0:2===i.range().length?S=h?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(S=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),_.attr("text-anchor","middle").attr("y",0).attr("x",S/2),l&&((M=y.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",(function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")})).append("text"),M.exit().remove(),M.attr("transform",(function(t,n){return"translate("+e.utils.NaNtoZero(i(t))+",0)"})).select("text").attr("dy","-0.5em").attr("y",-r.tickPadding()).attr("text-anchor","middle").text((function(e,n){var r=(t||k)(e);return(""+r).match("NaN")?"":r})),M.watchTransition(b,"min-max top").attr("transform",(function(t,n){return"translate("+e.utils.NaNtoZero(i.range()[n])+",0)"})));break;case"bottom":w=g+36;var A=30,C=0,E=x.selectAll("g").select("text"),O="";if(c%360){E.attr("transform",""),E.each((function(t,e){var n=this.getBoundingClientRect(),r=n.width;C=n.height,r>A&&(A=r)})),O="rotate("+c+" 0,"+(C/2+r.tickPadding())+")";var N=Math.abs(Math.sin(c*Math.PI/180));w=(N?N*A:A)+30,E.attr("transform",O).style("text-anchor",c%360>0?"start":"end")}else d?E.attr("transform",(function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"})):E.attr("transform","translate(0,0)");_.enter().append("text").attr("class","nv-axislabel"),S=0,1===i.range().length?S=h?2*i.range()[0]+i.rangeBand():0:2===i.range().length?S=h?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(S=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),_.attr("text-anchor","middle").attr("y",w).attr("x",S/2),l&&((M=y.selectAll("g.nv-axisMaxMin").data([i.domain()[0],i.domain()[i.domain().length-1]])).enter().append("g").attr("class",(function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")})).append("text"),M.exit().remove(),M.attr("transform",(function(t,n){return"translate("+e.utils.NaNtoZero(i(t)+(h?i.rangeBand()/2:0))+",0)"})).select("text").attr("dy",".71em").attr("y",r.tickPadding()).attr("transform",O).style("text-anchor",c?c%360>0?"start":"end":"middle").text((function(e,n){var r=(t||k)(e);return(""+r).match("NaN")?"":r})),M.watchTransition(b,"min-max bottom").attr("transform",(function(t,n){return"translate("+e.utils.NaNtoZero(i(t)+(h?i.rangeBand()/2:0))+",0)"})));break;case"right":_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",f?"middle":"begin").attr("transform",f?"rotate(90)":"").attr("y",f?12-Math.max(o.right,a)-(g||0):-10).attr("x",f?d3.max(i.range())/2:r.tickPadding()),l&&((M=y.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",(function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")})).append("text").style("opacity",0),M.exit().remove(),M.attr("transform",(function(t,n){return"translate(0,"+e.utils.NaNtoZero(i(t))+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",r.tickPadding()).style("text-anchor","start").text((function(e,n){var r=(t||k)(e);return(""+r).match("NaN")?"":r})),M.watchTransition(b,"min-max right").attr("transform",(function(t,n){return"translate(0,"+e.utils.NaNtoZero(i.range()[n])+")"})).select("text").style("opacity",1));break;case"left":_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",f?"middle":"end").attr("transform",f?"rotate(-90)":"").attr("y",f?25-Math.max(o.left,a)-(g||0):-10).attr("x",f?-d3.max(i.range())/2:-r.tickPadding()),l&&((M=y.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",(function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")})).append("text").style("opacity",0),M.exit().remove(),M.attr("transform",(function(t,r){return"translate(0,"+e.utils.NaNtoZero(n(t))+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",-r.tickPadding()).attr("text-anchor","end").text((function(e,n){var r=(t||k)(e);return(""+r).match("NaN")?"":r})),M.watchTransition(b,"min-max right").attr("transform",(function(t,n){return"translate(0,"+e.utils.NaNtoZero(i.range()[n])+")"})).select("text").style("opacity",1))}if(_.text((function(t){return t})),!l||"left"!==r.orient()&&"right"!==r.orient()||(x.selectAll("g").each((function(t,e){d3.select(this).select("text").attr("opacity",1),(i(t)<i.range()[1]+10||i(t)>i.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))})),i.domain()[0]==i.domain()[1]&&0==i.domain()[0]&&y.selectAll("g.nv-axisMaxMin").style("opacity",(function(t,e){return e?0:1}))),l&&("top"===r.orient()||"bottom"===r.orient())){var T=[];y.selectAll("g.nv-axisMaxMin").each((function(t,e){try{e?T.push(i(t)-this.getBoundingClientRect().width-4):T.push(i(t)+this.getBoundingClientRect().width+4)}catch(n){e?T.push(i(t)-4):T.push(i(t)+4)}})),x.selectAll("g").each((function(t,e){(i(t)<T[0]||i(t)>T[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())}))}x.selectAll(".tick").filter((function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t})).classed("zero",!0),n=i.copy()})),b.renderEnd("axis immediate"),x}return x.axis=r,x.dispatch=y,x.options=e.utils.optionsFunc.bind(x),x._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(t){g=t}},staggerLabels:{get:function(){return d},set:function(t){d=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return f},set:function(t){f=t}},showMaxMin:{get:function(){return l},set:function(t){l=t}},axisLabel:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return u},set:function(t){u=t}},ticks:{get:function(){return p},set:function(t){p=t}},width:{get:function(){return a},set:function(t){a=t}},fontSize:{get:function(){return v},set:function(t){v=t}},tickFormatMaxMin:{get:function(){return t},set:function(e){t=e}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return m},set:function(t){m=t,b.reset(m)}},scale:{get:function(){return i},set:function(t){i=t,r.scale(i),h="function"===typeof i.rangeBands,e.utils.inheritOptionsD3(x,i,["domain","range","rangeBand","rangeBands"])}}}),e.utils.initOptions(x),e.utils.inheritOptionsD3(x,r,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),e.utils.inheritOptionsD3(x,i,["domain","range","rangeBand","rangeBands"]),x},e.models.boxPlot=function(){"use strict";var t,n,r,i,o,a,u={top:0,right:0,bottom:0,left:0},s=960,l=500,c=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),d=d3.scale.linear(),h=function(t){return t.label},p=function(t){return t.values.Q1},g=function(t){return t.values.Q2},v=function(t){return t.values.Q3},m=function(t){return t.values.whisker_low},y=function(t){return t.values.whisker_high},b=function(t){return t.color},x=function(t){return t.values.outliers},k=function(t,e,n){return t},w=function(t,e,n){return t},M=function(t,e,n){},S=e.utils.defaultColor(),_=null,A=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=250,E=null,O=e.utils.renderWatch(A,C);function N(c){return O.reset(),c.each((function(c){var N=s-u.left-u.right,T=l-u.top-u.bottom;_=d3.select(this),e.utils.initSVG(_),f.domain(t||c.map((function(t,e){return h(t,e)}))).rangeBands(n||[0,N],.1);var P=[];if(!r){var L=[];c.forEach((function(t,e){var n=p(t),r=v(t),i=m(t),o=y(t),a=x(t);a&&a.forEach((function(t,e){L.push(k(t,e,void 0))})),i&&L.push(i),n&&L.push(n),r&&L.push(r),o&&L.push(o)})),P=[d3.min(L),d3.max(L)]}d.domain(r||P),d.range(i||[T,0]),o=o||f,a=a||d.copy().range([d(0),d(0)]);var j=_.selectAll("g.nv-wrap").data([c]);j.enter().append("g").attr("class","nvd3 nv-wrap");j.attr("transform","translate("+u.left+","+u.top+")");var D=j.selectAll(".nv-boxplot").data((function(t){return t})),z=D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);D.attr("class","nv-boxplot").attr("transform",(function(t,e,n){return"translate("+(f(h(t,e))+.05*f.rangeBand())+", 0)"})).classed("hover",(function(t){return t.hover})),D.watchTransition(O,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay((function(t,e){return e*C/c.length})).attr("transform",(function(t,e){return"translate("+(f(h(t,e))+.05*f.rangeBand())+", 0)"})),D.exit().remove(),z.each((function(t,e){var n=d3.select(this);[m,y].forEach((function(r){if(void 0!==r(t)&&null!==r(t)){var i=r===m?"low":"high";n.append("line").style("stroke",b(t)||S(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",b(t)||S(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}}))}));var W=function(){return null===E?.9*f.rangeBand():Math.min(75,.9*f.rangeBand())},F=function(){return.45*f.rangeBand()-W()/2},I=function(){return.45*f.rangeBand()+W()/2};[m,y].forEach((function(t){var e=t===m?"low":"high",n=t===m?p:v;D.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(O,"nv-boxplot: boxplots").attr("x1",.45*f.rangeBand()).attr("y1",(function(e,n){return d(t(e))})).attr("x2",.45*f.rangeBand()).attr("y2",(function(t,e){return d(n(t))})),D.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(O,"nv-boxplot: boxplots").attr("x1",F).attr("y1",(function(e,n){return d(t(e))})).attr("x2",I).attr("y2",(function(e,n){return d(t(e))}))})),[m,y].forEach((function(t){var e=t===m?"low":"high";z.selectAll(".nv-boxplot-"+e).on("mouseover",(function(e,n,r){d3.select(this).classed("hover",!0),A.elementMouseover({series:{key:t(e),color:b(e)||S(e,r)},e:d3.event})})).on("mouseout",(function(e,n,r){d3.select(this).classed("hover",!1),A.elementMouseout({series:{key:t(e),color:b(e)||S(e,r)},e:d3.event})})).on("mousemove",(function(t,e){A.elementMousemove({e:d3.event})}))})),z.append("rect").attr("class","nv-boxplot-box").on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),A.elementMouseover({key:h(t),value:h(t),series:[{key:"Q3",value:v(t),color:b(t)||S(t,e)},{key:"Q2",value:g(t),color:b(t)||S(t,e)},{key:"Q1",value:p(t),color:b(t)||S(t,e)}],data:t,index:e,e:d3.event})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),A.elementMouseout({key:h(t),value:h(t),series:[{key:"Q3",value:v(t),color:b(t)||S(t,e)},{key:"Q2",value:g(t),color:b(t)||S(t,e)},{key:"Q1",value:p(t),color:b(t)||S(t,e)}],data:t,index:e,e:d3.event})})).on("mousemove",(function(t,e){A.elementMousemove({e:d3.event})})),D.select("rect.nv-boxplot-box").watchTransition(O,"nv-boxplot: boxes").attr("y",(function(t,e){return d(v(t))})).attr("width",W).attr("x",F).attr("height",(function(t,e){return Math.abs(d(v(t))-d(p(t)))||1})).style("fill",(function(t,e){return b(t)||S(t,e)})).style("stroke",(function(t,e){return b(t)||S(t,e)})),z.append("line").attr("class","nv-boxplot-median"),D.select("line.nv-boxplot-median").watchTransition(O,"nv-boxplot: boxplots line").attr("x1",F).attr("y1",(function(t,e){return d(g(t))})).attr("x2",I).attr("y2",(function(t,e){return d(g(t))}));var R=D.selectAll(".nv-boxplot-outlier").data((function(t){return x(t)||[]}));R.enter().append("circle").style("fill",(function(t,e,n){return M(t,e,n)||S(t,n)})).style("stroke",(function(t,e,n){return M(t,e,n)||S(t,n)})).style("z-index",9e3).on("mouseover",(function(t,e,n){d3.select(this).classed("hover",!0),A.elementMouseover({series:{key:w(t,e,n),color:M(t,e,n)||S(t,n)},e:d3.event})})).on("mouseout",(function(t,e,n){d3.select(this).classed("hover",!1),A.elementMouseout({series:{key:w(t,e,n),color:M(t,e,n)||S(t,n)},e:d3.event})})).on("mousemove",(function(t,e){A.elementMousemove({e:d3.event})})),R.attr("class","nv-boxplot-outlier"),R.watchTransition(O,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*f.rangeBand()).attr("cy",(function(t,e,n){return d(k(t,e,n))})).attr("r","3"),R.exit().remove(),o=f.copy(),a=d.copy()})),O.renderEnd("nv-boxplot immediate"),N}return N.dispatch=A,N.options=e.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},maxBoxWidth:{get:function(){return E},set:function(t){E=t}},x:{get:function(){return h},set:function(t){h=t}},q1:{get:function(){return p},set:function(t){p=t}},q2:{get:function(){return g},set:function(t){g=t}},q3:{get:function(){return v},set:function(t){v=t}},wl:{get:function(){return m},set:function(t){m=t}},wh:{get:function(){return y},set:function(t){y=t}},itemColor:{get:function(){return b},set:function(t){b=t}},outliers:{get:function(){return x},set:function(t){x=t}},outlierValue:{get:function(){return k},set:function(t){k=t}},outlierLabel:{get:function(){return w},set:function(t){w=t}},outlierColor:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return c},set:function(t){c=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return S},set:function(t){S=e.utils.getColor(t)}},duration:{get:function(){return C},set:function(t){C=t,O.reset(C)}}}),e.utils.initOptions(N),N},e.models.boxPlotChart=function(){"use strict";var t,n,r=e.models.boxPlot(),i=e.models.axis(),o=e.models.axis(),a={top:15,right:10,bottom:50,left:60},u=null,s=null,l=e.utils.getColor(),c=!0,f=!0,d=!1,h=!1,p=e.models.tooltip(),g="No Data Available.",v=d3.dispatch("beforeUpdate","renderEnd"),m=250;i.orient("bottom").showMaxMin(!1).tickFormat((function(t){return t})),o.orient(d?"right":"left").tickFormat(d3.format(",.1f")),p.duration(0);var y=e.utils.renderWatch(v,m);function b(l){return y.reset(),y.models(r),c&&y.models(i),f&&y.models(o),l.each((function(l){var p=d3.select(this);e.utils.initSVG(p);var y=(u||parseInt(p.style("width"))||960)-a.left-a.right,x=(s||parseInt(p.style("height"))||400)-a.top-a.bottom;if(b.update=function(){v.beforeUpdate(),p.transition().duration(m).call(b)},b.container=this,!l||!l.length){var k=p.selectAll(".nv-noData").data([g]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",a.left+y/2).attr("y",a.top+x/2).text((function(t){return t})),b}p.selectAll(".nv-noData").remove(),t=r.xScale(),n=r.yScale().clamp(!0);var w=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([l]),M=w.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),S=M.append("defs"),_=w.select("g");if(M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),M.append("g").attr("class","nv-barsWrap"),_.attr("transform","translate("+a.left+","+a.top+")"),d&&_.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),r.width(y).height(x),_.select(".nv-barsWrap").datum(l.filter((function(t){return!t.disabled}))).transition().call(r),S.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),_.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",t.rangeBand()*(h?2:1)).attr("height",16).attr("x",-t.rangeBand()/(h?1:2)),c){i.scale(t).ticks(e.utils.calcTicksX(y/100,l)).tickSize(-x,0),_.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),_.select(".nv-x.nv-axis").call(i);var A=_.select(".nv-x.nv-axis").selectAll("g");h&&A.selectAll("text").attr("transform",(function(t,e,n){return"translate(0,"+(n%2===0?"5":"17")+")"}))}f&&(o.scale(n).ticks(Math.floor(x/36)).tickSize(-y,0),_.select(".nv-y.nv-axis").call(o)),_.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",n(0)).attr("y2",n(0))})),y.renderEnd("nv-boxplot chart immediate"),b}return r.dispatch.on("elementMouseover.tooltip",(function(t){p.data(t).hidden(!1)})),r.dispatch.on("elementMouseout.tooltip",(function(t){p.data(t).hidden(!0)})),r.dispatch.on("elementMousemove.tooltip",(function(t){p()})),b.dispatch=v,b.boxplot=r,b.xAxis=i,b.yAxis=o,b.tooltip=p,b.options=e.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return s},set:function(t){s=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},showXAxis:{get:function(){return c},set:function(t){c=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},tooltipContent:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return m},set:function(t){m=t,y.reset(m),r.duration(m),i.duration(m),o.duration(m)}},color:{get:function(){return l},set:function(t){l=e.utils.getColor(t),r.color(l)}},rightAlignYAxis:{get:function(){return d},set:function(t){d=t,o.orient(t?"right":"left")}}}),e.utils.inheritOptions(b,r),e.utils.initOptions(b),b},e.models.bullet=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},n="left",r=!1,i=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[]},a=function(t){return t.markerLines?t.markerLines:[0]},u=function(t){return t.measures},s=function(t){return t.rangeLabels?t.rangeLabels:[]},l=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.markerLineLabels?t.markerLineLabels:[]},f=function(t){return t.measureLabels?t.measureLabels:[]},d=[0],h=380,p=30,g=null,v=null,m=e.utils.getColor(["#1f77b4"]),y=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),b=["Maximum","Mean","Minimum"],x=["Max","Avg","Min"],k=1e3;function w(t,e){var n=t.slice();t.sort((function(t,r){var i=n.indexOf(t),o=n.indexOf(r);return d3.descending(e[i],e[o])}))}function M(n){return n.each((function(n,v){var M=h-t.left-t.right,S=p-t.top-t.bottom;g=d3.select(this),e.utils.initSVG(g);var _=i.call(this,n,v).slice(),A=o.call(this,n,v).slice(),C=a.call(this,n,v).slice(),E=u.call(this,n,v).slice(),O=s.call(this,n,v).slice(),N=l.call(this,n,v).slice(),T=c.call(this,n,v).slice(),P=f.call(this,n,v).slice();w(O,_),w(N,A),w(T,C),w(P,E),_.sort(d3.descending),A.sort(d3.descending),C.sort(d3.descending),E.sort(d3.descending);var L=d3.scale.linear().domain(d3.extent(d3.merge([d,_]))).range(r?[M,0]:[0,M]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(L.range());this.__chart__=L;d3.min(_),d3.max(_),_[1];for(var j=g.selectAll("g.nv-wrap.nv-bullet").data([n]),D=j.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),z=j.select("g"),W=(v=0,_.length);v<W;v++){var F="nv-range nv-range"+v;v<=2&&(F=F+" nv-range"+x[v]),D.append("rect").attr("class",F)}D.append("rect").attr("class","nv-measure"),j.attr("transform","translate("+t.left+","+t.top+")");var I=function(t){return Math.abs(L(t)-L(0))},R=function(t){return L(t<0?t:0)};for(v=0,W=_.length;v<W;v++){var H=_[v];z.select("rect.nv-range"+v).datum(H).attr("height",S).transition().duration(k).attr("width",I(H)).attr("x",R(H))}z.select("rect.nv-measure").style("fill",m).attr("height",S/3).attr("y",S/3).on("mouseover",(function(){y.elementMouseover({value:E[0],label:P[0]||"Current",color:d3.select(this).style("fill")})})).on("mousemove",(function(){y.elementMousemove({value:E[0],label:P[0]||"Current",color:d3.select(this).style("fill")})})).on("mouseout",(function(){y.elementMouseout({value:E[0],label:P[0]||"Current",color:d3.select(this).style("fill")})})).transition().duration(k).attr("width",E<0?L(0)-L(E[0]):L(E[0])-L(0)).attr("x",R(E));var B=S/6,q=A.map((function(t,e){return{value:t,label:N[e]}}));D.selectAll("path.nv-markerTriangle").data(q).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+B+"L"+B+","+-B+" "+-B+","+-B+"Z").on("mouseover",(function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[L(t.value),S/2]})})).on("mousemove",(function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})})),z.selectAll("path.nv-markerTriangle").data(q).transition().duration(k).attr("transform",(function(t){return"translate("+L(t.value)+","+S/2+")"}));var V=C.map((function(t,e){return{value:t,label:T[e]}}));D.selectAll("line.nv-markerLine").data(V).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",(function(t){return L(t.value)})).attr("y1","2").attr("x2",(function(t){return L(t.value)})).attr("y2",S-2).on("mouseover",(function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[L(t.value),S/2]})})).on("mousemove",(function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})})),z.selectAll("line.nv-markerLine").data(V).transition().duration(k).attr("x1",(function(t){return L(t.value)})).attr("x2",(function(t){return L(t.value)})),j.selectAll(".nv-range").on("mouseover",(function(t,e){var n=O[e]||b[e];y.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})})).on("mousemove",(function(){y.elementMousemove({value:E[0],label:P[0]||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){var n=O[e]||b[e];y.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})}))})),M}return M.dispatch=y,M.options=e.utils.optionsFunc.bind(M),M._options=Object.create({},{ranges:{get:function(){return i},set:function(t){i=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return u},set:function(t){u=t}},forceX:{get:function(){return d},set:function(t){d=t}},width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},tickFormat:{get:function(){return v},set:function(t){v=t}},duration:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},orient:{get:function(){return n},set:function(t){r="right"==(n=t)||"bottom"==n}},color:{get:function(){return m},set:function(t){m=e.utils.getColor(t)}}}),e.utils.initOptions(M),M},e.models.bulletChart=function(){"use strict";var t=e.models.bullet(),n=e.models.tooltip(),r="left",i=!1,o={top:5,right:40,bottom:20,left:120},a=function(t){return t.ranges},u=function(t){return t.markers?t.markers:[]},s=function(t){return t.measures},l=null,c=55,f=null,d=null,h=null,p=d3.dispatch();function g(n){return n.each((function(r,h){var p=d3.select(this);e.utils.initSVG(p);var v=e.utils.availableWidth(l,p,o),m=c-o.top-o.bottom;if(g.update=function(){g(n)},g.container=this,!r||!a.call(this,r,h))return e.utils.noData(g,p),g;p.selectAll(".nv-noData").remove();var y=a.call(this,r,h).slice().sort(d3.descending),b=u.call(this,r,h).slice().sort(d3.descending),x=s.call(this,r,h).slice().sort(d3.descending),k=p.selectAll("g.nv-wrap.nv-bulletChart").data([r]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),M=k.select("g");w.append("g").attr("class","nv-bulletWrap"),w.append("g").attr("class","nv-titles"),k.attr("transform","translate("+o.left+","+o.top+")");var S=d3.scale.linear().domain([0,Math.max(y[0],b[0]||0,x[0])]).range(i?[v,0]:[0,v]),_=this.__chart__||d3.scale.linear().domain([0,1/0]).range(S.range());this.__chart__=S;var A=w.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");A.append("text").attr("class","nv-title").text((function(t){return t.title})),A.append("text").attr("class","nv-subtitle").attr("dy","1em").text((function(t){return t.subtitle})),t.width(v).height(m);var C=M.select(".nv-bulletWrap");d3.transition(C).call(t);var E=f||S.tickFormat(v/100),O=M.selectAll("g.nv-tick").data(S.ticks(d||v/50),(function(t){return this.textContent||E(t)})),N=O.enter().append("g").attr("class","nv-tick").attr("transform",(function(t){return"translate("+_(t)+",0)"})).style("opacity",1e-6);N.append("line").attr("y1",m).attr("y2",7*m/6),N.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*m/6).text(E);var T=d3.transition(O).transition().duration(t.duration()).attr("transform",(function(t){return"translate("+S(t)+",0)"})).style("opacity",1);T.select("line").attr("y1",m).attr("y2",7*m/6),T.select("text").attr("y",7*m/6),d3.transition(O.exit()).transition().duration(t.duration()).attr("transform",(function(t){return"translate("+S(t)+",0)"})).style("opacity",1e-6).remove()})),d3.timer.flush(),g}return n.duration(0).headerEnabled(!1),t.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:t.label,value:t.value,color:t.color},n.data(t).hidden(!1)})),t.dispatch.on("elementMouseout.tooltip",(function(t){n.hidden(!0)})),t.dispatch.on("elementMousemove.tooltip",(function(t){n()})),g.bullet=t,g.dispatch=p,g.tooltip=n,g.options=e.utils.optionsFunc.bind(g),g._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return u},set:function(t){u=t}},measures:{get:function(){return s},set:function(t){s=t}},width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},tickFormat:{get:function(){return f},set:function(t){f=t}},ticks:{get:function(){return d},set:function(t){d=t}},noData:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},orient:{get:function(){return r},set:function(t){i="right"==(r=t)||"bottom"==r}}}),e.utils.inheritOptions(g,t),e.utils.initOptions(g),g},e.models.candlestickBar=function(){"use strict";var t,n,r,i,o,a={top:0,right:0,bottom:0,left:0},u=null,s=null,l=Math.floor(1e4*Math.random()),c=d3.scale.linear(),f=d3.scale.linear(),d=function(t){return t.x},h=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},m=function(t){return t.low},y=[],b=[],x=!1,k=!0,w=e.utils.defaultColor(),M=!1,S=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function _(w){return w.each((function(w){t=d3.select(this);var M=e.utils.availableWidth(u,t,a),_=e.utils.availableHeight(s,t,a);e.utils.initSVG(t);var A=M/w[0].values.length*.45;c.domain(n||d3.extent(w[0].values.map(d).concat(y))),x?c.range(i||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):c.range(i||[5+A/2,M-A/2-5]),f.domain(r||[d3.min(w[0].values.map(m).concat(b)),d3.max(w[0].values.map(v).concat(b))]).range(o||[_,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([w[0].values]),E=C.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),O=E.append("defs"),N=E.append("g"),T=C.select("g");N.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+a.left+","+a.top+")"),t.on("click",(function(t,e){S.chartClick({data:t,index:e,pos:d3.event,id:l})})),O.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),C.select("#nv-chart-clip-path-"+l+" rect").attr("width",M).attr("height",_),T.attr("clip-path",k?"url(#nv-chart-clip-path-"+l+")":"");var P=C.select(".nv-ticks").selectAll(".nv-tick").data((function(t){return t}));P.exit().remove();var L=P.enter().append("g");P.attr("class",(function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}));L.append("line").attr("class","nv-candlestick-lines").attr("transform",(function(t,e){return"translate("+c(d(t,e))+",0)"})).attr("x1",0).attr("y1",(function(t,e){return f(v(t,e))})).attr("x2",0).attr("y2",(function(t,e){return f(m(t,e))})),L.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",(function(t,e){return"translate("+(c(d(t,e))-A/2)+","+(f(h(t,e))-(p(t,e)>g(t,e)?f(g(t,e))-f(p(t,e)):0))+")"})).attr("x",0).attr("y",0).attr("width",A).attr("height",(function(t,e){var n=p(t,e),r=g(t,e);return n>r?f(r)-f(n):f(n)-f(r)}));P.select(".nv-candlestick-lines").transition().attr("transform",(function(t,e){return"translate("+c(d(t,e))+",0)"})).attr("x1",0).attr("y1",(function(t,e){return f(v(t,e))})).attr("x2",0).attr("y2",(function(t,e){return f(m(t,e))})),P.select(".nv-candlestick-rects").transition().attr("transform",(function(t,e){return"translate("+(c(d(t,e))-A/2)+","+(f(h(t,e))-(p(t,e)>g(t,e)?f(g(t,e))-f(p(t,e)):0))+")"})).attr("x",0).attr("y",0).attr("width",A).attr("height",(function(t,e){var n=p(t,e),r=g(t,e);return n>r?f(r)-f(n):f(n)-f(r)}))})),_}return _.highlightPoint=function(e,n){_.clearHighlights(),t.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",n)},_.clearHighlights=function(){t.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},_.dispatch=S,_.options=e.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return s},set:function(t){s=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return b},set:function(t){b=t}},padData:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!=t.top?t.top:a.top,a.right=void 0!=t.right?t.right:a.right,a.bottom=void 0!=t.bottom?t.bottom:a.bottom,a.left=void 0!=t.left?t.left:a.left}},color:{get:function(){return w},set:function(t){w=e.utils.getColor(t)}}}),e.utils.initOptions(_),_},e.models.cumulativeLineChart=function(){"use strict";var t,n,r=e.models.line(),i=e.models.axis(),o=e.models.axis(),a=e.models.legend(),u=e.models.legend(),s=e.interactiveGuideline(),l=e.models.tooltip(),c={top:30,right:30,bottom:50,left:60},f=null,d=e.utils.defaultColor(),h=null,p=null,g=!0,v=!0,m=!0,y=!1,b=!0,x=!1,k=!0,w=r.id(),M=e.utils.state(),S=null,_=null,A=function(t){return t.average},C=d3.dispatch("stateChange","changeState","renderEnd"),E=250,O=!1;M.index=0,M.rescaleY=k,i.orient("bottom").tickPadding(7),o.orient(y?"right":"left"),l.valueFormatter((function(t,e){return o.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),u.updateState(!1);var N,T=d3.scale.linear(),P={i:0,x:0},L=e.utils.renderWatch(C,E);function j(l){return L.reset(),L.models(r),v&&L.models(i),m&&L.models(o),l.each((function(l){var _=d3.select(this);e.utils.initSVG(_),_.classed("nv-chart-"+w,!0);var L,W=e.utils.availableWidth(h,_,c),F=e.utils.availableHeight(p,_,c);if(j.update=function(){0===E?_.call(j):_.transition().duration(E).call(j)},j.container=this,M.setter(function(t){return function(e){void 0!==e.index&&(P.i=e.index),void 0!==e.rescaleY&&(k=e.rescaleY),void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(l),j.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled})),index:P.i,rescaleY:k}}}(l)).update(),M.disabled=l.map((function(t){return!!t.disabled})),!S)for(L in S={},M)M[L]instanceof Array?S[L]=M[L].slice(0):S[L]=M[L];var I=d3.behavior.drag().on("dragstart",(function(t,e){d3.select(j.container).style("cursor","ew-resize")})).on("drag",(function(t,e){P.x=d3.event.x,P.i=Math.round(T.invert(P.x)),$()})).on("dragend",(function(t,e){d3.select(j.container).style("cursor","auto"),M.index=P.i,C.stateChange(M)}));if(!(l&&l.length&&l.filter((function(t){return t.values.length})).length))return e.utils.noData(j,_),j;_.selectAll(".nv-noData").remove(),t=r.xScale(),n=r.yScale(),T.domain([0,l[0].values.length-1]).range([0,W]).clamp(!0);l=function(t,e){D||(D=r.y());return e.map((function(e,n){if(!e.values)return e;var r=e.values[t];if(null==r)return e;var i=D(r,t);return Math.abs(i)<1e-5&&!O?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map((function(t,e){return t.display={y:(D(t,e)-i)/i},t})),e)}))}(P.i,l);"undefined"===typeof N&&(N=z(l)),k?r.yDomain(null):(r.yDomain(N),r.clipEdge(!0));var R=x?"none":"all",H=_.selectAll("g.nv-wrap.nv-cumulativeLine").data([l]),B=H.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),q=H.select("g");if(B.append("g").attr("class","nv-interactive"),B.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-background"),B.append("g").attr("class","nv-linesWrap").style("pointer-events",R),B.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),B.append("g").attr("class","nv-legendWrap"),B.append("g").attr("class","nv-controlsWrap"),g?(a.width(W),q.select(".nv-legendWrap").datum(l).call(a),f||a.height()===c.top||(c.top=a.height(),F=e.utils.availableHeight(p,_,c)),q.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):q.select(".nv-legendWrap").selectAll("*").remove(),b){var V=[{key:"Re-scale y-axis",disabled:!k}];u.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),q.select(".nv-controlsWrap").datum(V).attr("transform","translate(0,"+-c.top+")").call(u)}else q.select(".nv-controlsWrap").selectAll("*").remove();H.attr("transform","translate("+c.left+","+c.top+")"),y&&q.select(".nv-y.nv-axis").attr("transform","translate("+W+",0)");var Y=l.filter((function(t){return t.tempDisabled}));H.select(".tempDisabled").remove(),Y.length&&H.append("text").attr("class","tempDisabled").attr("x",W/2).attr("y","-.71em").style("text-anchor","end").text(Y.map((function(t){return t.key})).join(", ")+" values cannot be calculated for this time period."),x&&(s.width(W).height(F).margin({left:c.left,top:c.top}).svgContainer(_).xScale(t),H.select(".nv-interactive").call(s)),B.select(".nv-background").append("rect"),q.select(".nv-background rect").attr("width",W).attr("height",F),r.y((function(t){return t.display.y})).width(W).height(F).color(l.map((function(t,e){return t.color||d(t,e)})).filter((function(t,e){return!l[e].disabled&&!l[e].tempDisabled})));var X=q.select(".nv-linesWrap").datum(l.filter((function(t){return!t.disabled&&!t.tempDisabled})));X.call(r),l.forEach((function(t,e){t.seriesIndex=e}));var G=l.filter((function(t){return!t.disabled&&!!A(t)})),U=q.select(".nv-avgLinesWrap").selectAll("line").data(G,(function(t){return t.key})),Z=function(t){var e=n(A(t));return e<0?0:e>F?F:e};U.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",(function(t,e){return r.color()(t,t.seriesIndex)})).attr("x1",0).attr("x2",W).attr("y1",Z).attr("y2",Z),U.style("stroke-opacity",(function(t){var e=n(A(t));return e<0||e>F?0:1})).attr("x1",0).attr("x2",W).attr("y1",Z).attr("y2",Z),U.exit().remove();var K=X.selectAll(".nv-indexLine").data([P]);function $(){K.data([P]);var t=j.duration();j.duration(0),j.update(),j.duration(t)}K.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(I),K.attr("transform",(function(t){return"translate("+T(t.i)+",0)"})).attr("height",F),v&&(i.scale(t)._ticks(e.utils.calcTicksX(W/70,l)).tickSize(-F,0),q.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),q.select(".nv-x.nv-axis").call(i)),m&&(o.scale(n)._ticks(e.utils.calcTicksY(F/36,l)).tickSize(-W,0),q.select(".nv-y.nv-axis").call(o)),q.select(".nv-background rect").on("click",(function(){P.x=d3.mouse(this)[0],P.i=Math.round(T.invert(P.x)),M.index=P.i,C.stateChange(M),$()})),r.dispatch.on("elementClick",(function(t){P.i=t.pointIndex,P.x=T(P.i),M.index=P.i,C.stateChange(M),$()})),u.dispatch.on("legendClick",(function(t,e){t.disabled=!t.disabled,k=!t.disabled,M.rescaleY=k,k||(N=z(l)),C.stateChange(M),j.update()})),a.dispatch.on("stateChange",(function(t){for(var e in t)M[e]=t[e];C.stateChange(M),j.update()})),s.dispatch.on("elementMousemove",(function(t){r.clearHighlights();var n,a,u,c=[];if(l.filter((function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)})).forEach((function(i,o){a=e.interactiveBisect(i.values,t.pointXValue,j.x()),r.highlightPoint(o,a,!0);var s=i.values[a];"undefined"!==typeof s&&("undefined"===typeof n&&(n=s),"undefined"===typeof u&&(u=j.xScale()(j.x()(s,a))),c.push({key:i.key,value:j.y()(s,a),color:d(i,i.seriesIndex)}))})),c.length>2){var f=j.yScale().invert(t.mouseY),h=.03*Math.abs(j.yScale().domain()[0]-j.yScale().domain()[1]),p=e.nearestValueIndex(c.map((function(t){return t.value})),f,h);null!==p&&(c[p].highlight=!0)}var g=i.tickFormat()(j.x()(n,a),a);s.tooltip.valueFormatter((function(t,e){return o.tickFormat()(t)})).data({value:g,series:c})(),s.renderGuideLine(u)})),s.dispatch.on("elementMouseout",(function(t){r.clearHighlights()})),C.on("changeState",(function(t){"undefined"!==typeof t.disabled&&(l.forEach((function(e,n){e.disabled=t.disabled[n]})),M.disabled=t.disabled),"undefined"!==typeof t.index&&(P.i=t.index,P.x=T(P.i),M.index=t.index,K.data([P])),"undefined"!==typeof t.rescaleY&&(k=t.rescaleY),j.update()}))})),L.renderEnd("cumulativeLineChart immediate"),j}r.dispatch.on("elementMouseover.tooltip",(function(t){var e={x:j.x()(t.point),y:j.y()(t.point),color:t.point.color};t.point=e,l.data(t).hidden(!1)})),r.dispatch.on("elementMouseout.tooltip",(function(t){l.hidden(!0)}));var D=null;function z(t){var e=t.filter((function(t){return!(t.disabled||t.tempDisabled)})).map((function(t,e){return d3.extent(t.values,(function(t){return t.display.y}))}));return[d3.min(e,(function(t){return t[0]})),d3.max(e,(function(t){return t[1]}))]}return j.dispatch=C,j.lines=r,j.legend=a,j.controls=u,j.xAxis=i,j.yAxis=o,j.interactiveLayer=s,j.state=M,j.tooltip=l,j.options=e.utils.optionsFunc.bind(j),j._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showControls:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return A},set:function(t){A=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return _},set:function(t){_=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},noErrorCheck:{get:function(){return O},set:function(t){O=t}},rescaleY:{get:function(){return k},set:function(t){k=t,j.state.rescaleY=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,f=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return d},set:function(t){d=e.utils.getColor(t),a.color(d)}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,!0===t&&(j.interactive(!1),j.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,o.orient(t?"right":"left")}},duration:{get:function(){return E},set:function(t){E=t,r.duration(E),i.duration(E),o.duration(E),L.reset(E)}}}),e.utils.inheritOptions(j,r),e.utils.initOptions(j),j},e.models.discreteBar=function(){"use strict";var t,n,r,i,o,a,u,s={top:0,right:0,bottom:0,left:0},l=960,c=500,f=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),h=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},v=[0],m=e.utils.defaultColor(),y=!1,b=d3.format(",.2f"),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),k="discreteBar",w=250,M=e.utils.renderWatch(x,w);function S(f){return M.reset(),f.each((function(f){var w=l-s.left-s.right,S=c-s.top-s.bottom;t=d3.select(this),e.utils.initSVG(t),f.forEach((function(t,e){t.values.forEach((function(t){t.series=e}))}));var _=n&&r?[]:f.map((function(t){return t.values.map((function(t,e){return{x:p(t,e),y:g(t,e),y0:t.y0}}))}));d.domain(n||d3.merge(_).map((function(t){return t.x}))).rangeBands(i||[0,w],.1),h.domain(r||d3.extent(d3.merge(_).map((function(t){return t.y})).concat(v))),y?h.range(o||[S-(h.domain()[0]<0?12:0),h.domain()[1]>0?12:0]):h.range(o||[S,0]),a=a||d,u=u||h.copy().range([h(0),h(0)]);var A=t.selectAll("g.nv-wrap.nv-discretebar").data([f]),C=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");A.select("g");C.append("g").attr("class","nv-groups"),A.attr("transform","translate("+s.left+","+s.top+")");var E=A.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t){return t.key}));E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().watchTransition(M,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})),E.watchTransition(M,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var O=E.selectAll("g.nv-bar").data((function(t){return t.values}));O.exit().remove();var N=O.enter().append("g").attr("transform",(function(t,e,n){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", "+h(0)+")"})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),x.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),x.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})})).on("mousemove",(function(t,e){x.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})})).on("click",(function(t,e){x.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()})).on("dblclick",(function(t,e){x.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}));N.append("rect").attr("height",0).attr("width",.9*d.rangeBand()/f.length),y?(N.append("text").attr("text-anchor","middle"),O.select("text").text((function(t,e){return b(g(t,e))})).watchTransition(M,"discreteBar: bars text").attr("x",.9*d.rangeBand()/2).attr("y",(function(t,e){return g(t,e)<0?h(g(t,e))-h(0)+12:-4}))):O.selectAll("text").remove(),O.attr("class",(function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"})).style("fill",(function(t,e){return t.color||m(t,e)})).style("stroke",(function(t,e){return t.color||m(t,e)})).select("rect").attr("class",k).watchTransition(M,"discreteBar: bars rect").attr("width",.9*d.rangeBand()/f.length),O.watchTransition(M,"discreteBar: bars").attr("transform",(function(t,e){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", "+(g(t,e)<0?h(0):h(0)-h(g(t,e))<1?h(0)-1:h(g(t,e)))+")"})).select("rect").attr("height",(function(t,e){return Math.max(Math.abs(h(g(t,e))-h(0)),1)})),a=d.copy(),u=h.copy()})),M.renderEnd("discreteBar immediate"),S}return S.dispatch=x,S.options=e.utils.optionsFunc.bind(S),S._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},forceY:{get:function(){return v},set:function(t){v=t}},showValues:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},valueFormat:{get:function(){return b},set:function(t){b=t}},id:{get:function(){return f},set:function(t){f=t}},rectClass:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return m},set:function(t){m=e.utils.getColor(t)}},duration:{get:function(){return w},set:function(t){w=t,M.reset(w)}}}),e.utils.initOptions(S),S},e.models.discreteBarChart=function(){"use strict";var t,n,r=e.models.discreteBar(),i=e.models.axis(),o=e.models.axis(),a=e.models.legend(),u=e.models.tooltip(),s={top:15,right:10,bottom:50,left:60},l=null,c=null,f=null,d=e.utils.getColor(),h=!1,p=!0,g=!0,v=!1,m=!1,y=!1,b=0,x=null,k=d3.dispatch("beforeUpdate","renderEnd"),w=250;i.orient("bottom").showMaxMin(!1).tickFormat((function(t){return t})),o.orient(v?"right":"left").tickFormat(d3.format(",.1f")),u.duration(0).headerEnabled(!1).valueFormatter((function(t,e){return o.tickFormat()(t,e)})).keyFormatter((function(t,e){return i.tickFormat()(t,e)}));var M=e.utils.renderWatch(k,w);function S(u){return M.reset(),M.models(r),p&&M.models(i),g&&M.models(o),u.each((function(u){var d=d3.select(this);e.utils.initSVG(d);var x=e.utils.availableWidth(c,d,s),M=e.utils.availableHeight(f,d,s);if(S.update=function(){k.beforeUpdate(),d.transition().duration(w).call(S)},S.container=this,!(u&&u.length&&u.filter((function(t){return t.values.length})).length))return e.utils.noData(S,d),S;d.selectAll(".nv-noData").remove(),t=r.xScale(),n=r.yScale().clamp(!0);var _=d.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([u]),A=_.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),C=A.append("defs"),E=_.select("g");if(A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),A.append("g").attr("class","nv-barsWrap"),A.append("g").attr("class","nv-legendWrap"),E.attr("transform","translate("+s.left+","+s.top+")"),h?(a.width(x),E.select(".nv-legendWrap").datum(u).call(a),l||a.height()===s.top||(s.top=a.height(),M=e.utils.availableHeight(f,d,s)),_.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")")):E.select(".nv-legendWrap").selectAll("*").remove(),v&&E.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),r.width(x).height(M),E.select(".nv-barsWrap").datum(u.filter((function(t){return!t.disabled}))).transition().call(r),C.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),E.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",t.rangeBand()*(m?2:1)).attr("height",16).attr("x",-t.rangeBand()/(m?1:2)),p){i.scale(t)._ticks(e.utils.calcTicksX(x/100,u)).tickSize(-M,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+(n.range()[0]+(r.showValues()&&n.domain()[0]<0?16:0))+")"),E.select(".nv-x.nv-axis").call(i);var O=E.select(".nv-x.nv-axis").selectAll("g");m&&O.selectAll("text").attr("transform",(function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})),b&&O.selectAll(".tick text").attr("transform","rotate("+b+" 0,0)").style("text-anchor",b>0?"start":"end"),y&&E.selectAll(".tick text").call(e.utils.wrapTicks,S.xAxis.rangeBand())}g&&(o.scale(n)._ticks(e.utils.calcTicksY(M/36,u)).tickSize(-x,0),E.select(".nv-y.nv-axis").call(o)),E.select(".nv-zeroLine line").attr("x1",0).attr("x2",v?-x:x).attr("y1",n(0)).attr("y2",n(0))})),M.renderEnd("discreteBar chart immediate"),S}return r.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:S.x()(t.data),value:S.y()(t.data),color:t.color},u.data(t).hidden(!1)})),r.dispatch.on("elementMouseout.tooltip",(function(t){u.hidden(!0)})),r.dispatch.on("elementMousemove.tooltip",(function(t){u()})),S.dispatch=k,S.discretebar=r,S.legend=a,S.xAxis=i,S.yAxis=o,S.tooltip=u,S.options=e.utils.optionsFunc.bind(S),S._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return h},set:function(t){h=t}},staggerLabels:{get:function(){return m},set:function(t){m=t}},rotateLabels:{get:function(){return b},set:function(t){b=t}},wrapLabels:{get:function(){return y},set:function(t){y=!!t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return s},set:function(t){void 0!==t.top&&(s.top=t.top,l=t.top),s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return w},set:function(t){w=t,M.reset(w),r.duration(w),i.duration(w),o.duration(w)}},color:{get:function(){return d},set:function(t){d=e.utils.getColor(t),r.color(d),a.color(d)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,o.orient(t?"right":"left")}}}),e.utils.inheritOptions(S,r),e.utils.initOptions(S),S},e.models.distribution=function(){"use strict";var t,n={top:0,right:0,bottom:0,left:0},r=400,i=8,o="x",a=function(t){return t[o]},u=e.utils.defaultColor(),s=d3.scale.linear(),l=250,c=d3.dispatch("renderEnd"),f=e.utils.renderWatch(c,l);function d(r){return f.reset(),r.each((function(r){"x"===o?(n.left,n.right):(n.top,n.bottom);var l="x"==o?"y":"x",c=d3.select(this);e.utils.initSVG(c),t=t||s;var d=c.selectAll("g.nv-distribution").data([r]),h=(d.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),d.select("g"));d.attr("transform","translate("+n.left+","+n.top+")");var p=h.selectAll("g.nv-dist").data((function(t){return t}),(function(t){return t.key}));p.enter().append("g"),p.attr("class",(function(t,e){return"nv-dist nv-series-"+e})).style("stroke",(function(t,e){return u(t,e)}));var g=p.selectAll("line.nv-dist"+o).data((function(t){return t.values}));g.enter().append("line").attr(o+"1",(function(e,n){return t(a(e,n))})).attr(o+"2",(function(e,n){return t(a(e,n))})),f.transition(p.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",(function(t,e){return s(a(t,e))})).attr(o+"2",(function(t,e){return s(a(t,e))})).style("stroke-opacity",0).remove(),g.attr("class",(function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e})).attr(l+"1",0).attr(l+"2",i),f.transition(g,"dist").attr(o+"1",(function(t,e){return s(a(t,e))})).attr(o+"2",(function(t,e){return s(a(t,e))})),t=s.copy()})),f.renderEnd("distribution immediate"),d}return d.options=e.utils.optionsFunc.bind(d),d.dispatch=c,d.margin=function(t){return arguments.length?(n.top="undefined"!=typeof t.top?t.top:n.top,n.right="undefined"!=typeof t.right?t.right:n.right,n.bottom="undefined"!=typeof t.bottom?t.bottom:n.bottom,n.left="undefined"!=typeof t.left?t.left:n.left,d):n},d.width=function(t){return arguments.length?(r=t,d):r},d.axis=function(t){return arguments.length?(o=t,d):o},d.size=function(t){return arguments.length?(i=t,d):i},d.getData=function(t){return arguments.length?(a=d3.functor(t),d):a},d.scale=function(t){return arguments.length?(s=t,d):s},d.color=function(t){return arguments.length?(u=e.utils.getColor(t),d):u},d.duration=function(t){return arguments.length?(l=t,f.reset(l),d):l},d},e.models.focus=function(t){"use strict";t=t||e.models.line();var n,r,i=e.models.axis(),o=e.models.axis(),a=d3.svg.brush(),u={top:10,right:0,bottom:30,left:0},s=e.utils.defaultColor(),l=null,c=70,f=!0,d=!1,h=!1,p=null,g=250,v=d3.dispatch("brush","onBrush","renderEnd"),m=!0;t.interactive(!1),t.pointActive((function(t){return!1}));var y=e.utils.renderWatch(v,g);function b(x){return y.reset(),y.models(t),f&&y.models(i),d&&y.models(o),x.each((function(y){var x=d3.select(this);e.utils.initSVG(x);var k=e.utils.availableWidth(l,x,u),w=c-u.top-u.bottom;b.update=function(){0===g?x.call(b):x.transition().duration(g).call(b)},b.container=this,n=t.xScale(),r=t.yScale();var M=x.selectAll("g.nv-focus").data([y]),S=M.enter().append("g").attr("class","nvd3 nv-focus").append("g"),_=M.select("g");M.attr("transform","translate("+u.left+","+u.top+")"),S.append("g").attr("class","nv-background").append("rect"),S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis"),S.append("g").attr("class","nv-contentWrap"),S.append("g").attr("class","nv-brushBackground"),S.append("g").attr("class","nv-x nv-brush"),h&&_.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)"),_.select(".nv-background rect").attr("width",k).attr("height",w),t.width(k).height(w).color(y.map((function(t,e){return t.color||s(t,e)})).filter((function(t,e){return!y[e].disabled})));var A=_.select(".nv-contentWrap").datum(y.filter((function(t){return!t.disabled})));d3.transition(A).call(t),a.x(n).on("brush",(function(){N(m)})),a.on("brushend",(function(){m||v.onBrush(a.empty()?n.domain():a.extent())})),p&&a.extent(p);var C=_.select(".nv-brushBackground").selectAll("g").data([p||a.extent()]),E=C.enter().append("g");E.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",w),E.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",w);var O=_.select(".nv-x.nv-brush").call(a);function N(t){p=a.empty()?null:a.extent();var e=a.empty()?n.domain():a.extent();v.brush({extent:e,brush:a}),a.empty()||a.extent(p),C.data([a.empty()?n.domain():p]).each((function(t,e){var r=n(t[0])-n.range()[0],i=k-n(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",n(t[1])).attr("width",i<0?0:i)})),t&&v.onBrush(e)}O.selectAll("rect").attr("height",w),O.selectAll(".resize").append("path").attr("d",(function(t){var e=+("e"==t),n=e?1:-1,r=w/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)})),N(!0),_.select(".nv-background rect").attr("width",k).attr("height",w),f&&(i.scale(n)._ticks(e.utils.calcTicksX(k/100,y)).tickSize(-w,0),_.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(_.select(".nv-x.nv-axis")).call(i)),d&&(o.scale(r)._ticks(e.utils.calcTicksY(w/36,y)).tickSize(-k,0),d3.transition(_.select(".nv-y.nv-axis")).call(o)),_.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")")})),y.renderEnd("focus immediate"),b}return b.dispatch=v,b.content=t,b.brush=a,b.xAxis=i,b.yAxis=o,b.options=e.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},showXAxis:{get:function(){return f},set:function(t){f=t}},showYAxis:{get:function(){return d},set:function(t){d=t}},brushExtent:{get:function(){return p},set:function(t){p=t}},syncBrushing:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return g},set:function(e){g=e,y.reset(g),t.duration(g),i.duration(g),o.duration(g)}},color:{get:function(){return s},set:function(n){s=e.utils.getColor(n),t.color(s)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return h},set:function(t){h=t,o.orient(h?"right":"left")}}}),e.utils.inheritOptions(b,t),e.utils.initOptions(b),b},e.models.forceDirectedGraph=function(){"use strict";var t={top:2,right:0,bottom:2,left:0},n=400,r=32,i=null,o=d3.dispatch("renderEnd"),a=e.utils.getColor(["#000"]),u=e.models.tooltip(),s=null,l=.1,c=.9,f=30,d=-120,h=.1,p=.8,g=.1,v=5,m=function(t){},y=function(t){},b=d3.functor(0),x=d3.functor(0),k=e.utils.renderWatch(o);function w(o){return k.reset(),o.each((function(o){i=d3.select(this),e.utils.initSVG(i);var s=e.utils.availableWidth(n,i,t),b=e.utils.availableHeight(r,i,t);if(i.attr("width",s).attr("height",b),!(o&&o.links&&o.nodes))return e.utils.noData(w,i),w;i.selectAll(".nv-noData").remove(),i.selectAll("*").remove();var x=new Set;o.nodes.forEach((function(t){Object.keys(t).forEach((function(t){x.add(t)}))}));var k=d3.layout.force().nodes(o.nodes).links(o.links).size([s,b]).linkStrength(l).friction(c).linkDistance(f).charge(d).gravity(h).theta(p).alpha(g).start(),M=i.selectAll(".link").data(o.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",(function(t){return Math.sqrt(t.value)})),S=i.selectAll(".node").data(o.nodes).enter().append("g").attr("class","nv-force-node").call(k.drag);S.append("circle").attr("r",v).style("fill",(function(t){return a(t)})).on("mouseover",(function(t){i.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),i.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=a(t);t.series=[],x.forEach((function(n){t.series.push({color:e,key:n,value:t[n]})})),u.data(t).hidden(!1)})).on("mouseout",(function(t){u.hidden(!0)})),u.headerFormatter((function(t){return"Node"})),y(M),m(S),k.on("tick",(function(){M.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),S.attr("transform",(function(t){return"translate("+t.x+", "+t.y+")"}))}))})),w}return w.options=e.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return r},set:function(t){r=t}},linkStrength:{get:function(){return l},set:function(t){l=t}},friction:{get:function(){return c},set:function(t){c=t}},linkDist:{get:function(){return f},set:function(t){f=t}},charge:{get:function(){return d},set:function(t){d=t}},gravity:{get:function(){return h},set:function(t){h=t}},theta:{get:function(){return p},set:function(t){p=t}},alpha:{get:function(){return g},set:function(t){g=t}},radius:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return b},set:function(t){b=d3.functor(t)}},y:{get:function(){return x},set:function(t){x=d3.functor(t)}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=e.utils.getColor(t)}},noData:{get:function(){return s},set:function(t){s=t}},nodeExtras:{get:function(){return m},set:function(t){m=t}},linkExtras:{get:function(){return y},set:function(t){y=t}}}),w.dispatch=o,w.tooltip=u,e.utils.initOptions(w),w},e.models.furiousLegend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},n=400,r=20,i=function(t){return t.key},o=function(t){return t},a=e.utils.getColor(),u=20,s=!0,l=28,c=!0,f=!0,d=!1,h=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";function v(m){function y(t,e){return"furious"!=g?"#000":h?t.disengaged?a(t,e):"#fff":h?void 0:t.disabled?a(t,e):"#fff"}function b(t,e){return h&&"furious"==g?t.disengaged?"#fff":a(t,e):t.disabled?"#fff":a(t,e)}return m.each((function(v){var m=n-t.left-t.right,x=d3.select(this);e.utils.initSVG(x);var k=x.selectAll("g.nv-legend").data([v]),w=(k.enter().append("g").attr("class","nvd3 nv-legend").append("g"),k.select("g"));k.attr("transform","translate("+t.left+","+t.top+")");var M,S=w.selectAll(".nv-series").data((function(t){return"furious"!=g?t:t.filter((function(t){return!!h||!t.disengaged}))})),_=S.enter().append("g").attr("class","nv-series");if("classic"==g)_.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),M=S.select("circle");else if("furious"==g){_.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),M=S.select("rect"),_.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),S.select(".nv-check-box").each((function(t,e){d3.select(this).selectAll("path").attr("stroke",y(t,e))}))}_.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var A,C=S.select("text.nv-legend-text");switch(S.on("mouseover",(function(t,e){p.legendMouseover(t,e)})).on("mouseout",(function(t,e){p.legendMouseout(t,e)})).on("click",(function(t,e){p.legendClick(t,e);var n=S.data();if(f){if("classic"==g)d?(n.forEach((function(t){t.disabled=!0})),t.disabled=!1):(t.disabled=!t.disabled,n.every((function(t){return t.disabled}))&&n.forEach((function(t){t.disabled=!1})));else if("furious"==g)if(h)t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!h){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter((function(t){return!t.disengaged})).every((function(t){return t.userDisabled}))&&n.forEach((function(t){t.disabled=t.userDisabled=!1}))}p.stateChange({disabled:n.map((function(t){return!!t.disabled})),disengaged:n.map((function(t){return!!t.disengaged}))})}})).on("dblclick",(function(t,e){if(("furious"!=g||!h)&&(p.legendDblclick(t,e),f)){var n=S.data();n.forEach((function(t){t.disabled=!0,"furious"==g&&(t.userDisabled=t.disabled)})),t.disabled=!1,"furious"==g&&(t.userDisabled=t.disabled),p.stateChange({disabled:n.map((function(t){return!!t.disabled}))})}})),S.classed("nv-disabled",(function(t){return t.userDisabled})),S.exit().remove(),C.attr("fill",y).text((function(t){return o(i(t))})),g){case"furious":A=23;break;case"classic":A=20}if(s){var E=[];S.each((function(t,n){var r,a;if(o(i(t))&&o(i(t)).length>u){var s=o(i(t)).substring(0,u);r=d3.select(this).select("text").text(s+"..."),d3.select(this).append("svg:title").text(o(i(t)))}else r=d3.select(this).select("text");try{if((a=r.node().getComputedTextLength())<=0)throw Error()}catch(c){a=e.utils.calcApproxTextWidth(r)}E.push(a+l)}));for(var O=0,N=0,T=[];N<m&&O<E.length;)T[O]=E[O],N+=E[O++];for(0===O&&(O=1);N>m&&O>1;){T=[],O--;for(var P=0;P<E.length;P++)E[P]>(T[P%O]||0)&&(T[P%O]=E[P]);N=T.reduce((function(t,e,n,r){return t+e}))}for(var L=[],j=0,D=0;j<O;j++)L[j]=D,D+=T[j];S.attr("transform",(function(t,e){return"translate("+L[e%O]+","+(5+Math.floor(e/O)*A)+")"})),c?w.attr("transform","translate("+(n-t.right-N)+","+t.top+")"):w.attr("transform","translate(0,"+t.top+")"),r=t.top+t.bottom+Math.ceil(E.length/O)*A}else{var z,W=5,F=5,I=0;S.attr("transform",(function(e,r){var i=d3.select(this).select("text").node().getComputedTextLength()+l;return z=F,n<t.left+t.right+z+i&&(F=z=5,W+=A),(F+=i)>I&&(I=F),"translate("+z+","+W+")"})),w.attr("transform","translate("+(n-t.right-I)+","+t.top+")"),r=t.top+t.bottom+W+15}"furious"==g&&M.attr("width",(function(t,e){return C[0][e].getComputedTextLength()+27})).attr("height",18).attr("y",-9).attr("x",-15),M.style("fill",b).style("stroke",(function(t,e){return t.color||a(t,e)}))})),v}return v.dispatch=p,v.options=e.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return r},set:function(t){r=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return u},set:function(t){u=t}},padding:{get:function(){return l},set:function(t){l=t}},updateState:{get:function(){return f},set:function(t){f=t}},radioButtonMode:{get:function(){return d},set:function(t){d=t}},expanded:{get:function(){return h},set:function(t){h=t}},vers:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=e.utils.getColor(t)}}}),e.utils.initOptions(v),v},e.models.historicalBar=function(){"use strict";var t,n,r,i,o={top:0,right:0,bottom:0,left:0},a=null,u=null,s=Math.floor(1e4*Math.random()),l=null,c=d3.scale.linear(),f=d3.scale.linear(),d=function(t){return t.x},h=function(t){return t.y},p=[],g=[0],v=!1,m=!0,y=e.utils.defaultColor(),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x=!0,k=e.utils.renderWatch(b,0);function w(M){return M.each((function(w){k.reset(),l=d3.select(this);var M=e.utils.availableWidth(a,l,o),S=e.utils.availableHeight(u,l,o);e.utils.initSVG(l),c.domain(t||d3.extent(w[0].values.map(d).concat(p))),v?c.range(r||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):c.range(r||[0,M]),f.domain(n||d3.extent(w[0].values.map(h).concat(g))).range(i||[S,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var _=l.selectAll("g.nv-wrap.nv-historicalBar-"+s).data([w[0].values]),A=_.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+s),C=A.append("defs"),E=A.append("g"),O=_.select("g");E.append("g").attr("class","nv-bars"),_.attr("transform","translate("+o.left+","+o.top+")"),l.on("click",(function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:s})})),C.append("clipPath").attr("id","nv-chart-clip-path-"+s).append("rect"),_.select("#nv-chart-clip-path-"+s+" rect").attr("width",M).attr("height",S),O.attr("clip-path",m?"url(#nv-chart-clip-path-"+s+")":"");var N=_.select(".nv-bars").selectAll(".nv-bar").data((function(t){return t}),(function(t,e){return d(t,e)}));N.exit().remove(),N.enter().append("rect").attr("x",0).attr("y",(function(t,n){return e.utils.NaNtoZero(f(Math.max(0,h(t,n))))})).attr("height",(function(t,n){return e.utils.NaNtoZero(Math.abs(f(h(t,n))-f(0)))})).attr("transform",(function(t,e){return"translate("+(c(d(t,e))-M/w[0].values.length*.45)+",0)"})).on("mouseover",(function(t,e){x&&(d3.select(this).classed("hover",!0),b.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))})).on("mouseout",(function(t,e){x&&(d3.select(this).classed("hover",!1),b.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))})).on("mousemove",(function(t,e){x&&b.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})})).on("click",(function(t,e){if(x){b.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}})).on("dblclick",(function(t,e){x&&(b.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())})),N.attr("fill",(function(t,e){return y(t,e)})).attr("class",(function(t,e,n){return(h(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e})).watchTransition(k,"bars").attr("transform",(function(t,e){return"translate("+(c(d(t,e))-M/w[0].values.length*.45)+",0)"})).attr("width",M/w[0].values.length*.9),N.watchTransition(k,"bars").attr("y",(function(t,n){var r=h(t,n)<0?f(0):f(0)-f(h(t,n))<1?f(0)-1:f(h(t,n));return e.utils.NaNtoZero(r)})).attr("height",(function(t,n){return e.utils.NaNtoZero(Math.max(Math.abs(f(h(t,n))-f(0)),1))}))})),k.renderEnd("historicalBar immediate"),w}return w.highlightPoint=function(t,e){l.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},w.clearHighlights=function(){l.select(".nv-bars .nv-bar.hover").classed("hover",!1)},w.dispatch=b,w.options=e.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},forceX:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return g},set:function(t){g=t}},padData:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return h},set:function(t){h=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return i},set:function(t){i=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},id:{get:function(){return s},set:function(t){s=t}},interactive:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return y},set:function(t){y=e.utils.getColor(t)}}}),e.utils.initOptions(w),w},e.models.historicalBarChart=function(t){"use strict";var n,r,i=t||e.models.historicalBar(),o=e.models.axis(),a=e.models.axis(),u=e.models.legend(),s=e.interactiveGuideline(),l=e.models.tooltip(),c={top:30,right:90,bottom:50,left:90},f=null,d=e.utils.defaultColor(),h=null,p=null,g=!1,v=!0,m=!0,y=!1,b=!1,x={},k=null,w=null,M=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),S=250;o.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),l.duration(0).headerEnabled(!1).valueFormatter((function(t,e){return a.tickFormat()(t,e)})).headerFormatter((function(t,e){return o.tickFormat()(t,e)}));var _=e.utils.renderWatch(M,0);function A(t){return t.each((function(l){_.reset(),_.models(i),v&&_.models(o),m&&_.models(a);var w=d3.select(this);e.utils.initSVG(w);var C,E=e.utils.availableWidth(h,w,c),O=e.utils.availableHeight(p,w,c);if(A.update=function(){w.transition().duration(S).call(A)},A.container=this,x.disabled=l.map((function(t){return!!t.disabled})),!k)for(C in k={},x)x[C]instanceof Array?k[C]=x[C].slice(0):k[C]=x[C];if(!(l&&l.length&&l.filter((function(t){return t.values.length})).length))return e.utils.noData(A,w),A;w.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var N=w.selectAll("g.nv-wrap.nv-historicalBarChart").data([l]),T=N.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),P=N.select("g");T.append("g").attr("class","nv-x nv-axis"),T.append("g").attr("class","nv-y nv-axis"),T.append("g").attr("class","nv-barsWrap"),T.append("g").attr("class","nv-legendWrap"),T.append("g").attr("class","nv-interactive"),g?(u.width(E),P.select(".nv-legendWrap").datum(l).call(u),f||u.height()===c.top||(c.top=u.height(),O=e.utils.availableHeight(p,w,c)),N.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):P.select(".nv-legendWrap").selectAll("*").remove(),N.attr("transform","translate("+c.left+","+c.top+")"),y&&P.select(".nv-y.nv-axis").attr("transform","translate("+E+",0)"),b&&(s.width(E).height(O).margin({left:c.left,top:c.top}).svgContainer(w).xScale(n),N.select(".nv-interactive").call(s)),i.width(E).height(O).color(l.map((function(t,e){return t.color||d(t,e)})).filter((function(t,e){return!l[e].disabled}))),P.select(".nv-barsWrap").datum(l.filter((function(t){return!t.disabled}))).transition().call(i),v&&(o.scale(n)._ticks(e.utils.calcTicksX(E/100,l)).tickSize(-O,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),P.select(".nv-x.nv-axis").transition().call(o)),m&&(a.scale(r)._ticks(e.utils.calcTicksY(O/36,l)).tickSize(-E,0),P.select(".nv-y.nv-axis").transition().call(a)),s.dispatch.on("elementMousemove",(function(t){i.clearHighlights();var n,r,u,c=[];l.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(o,a){r=e.interactiveBisect(o.values,t.pointXValue,A.x()),i.highlightPoint(r,!0);var s=o.values[r];void 0!==s&&(void 0===n&&(n=s),void 0===u&&(u=A.xScale()(A.x()(s,r))),c.push({key:o.key,value:A.y()(s,r),color:d(o,o.seriesIndex),data:o.values[r]}))}));var f=o.tickFormat()(A.x()(n,r));s.tooltip.valueFormatter((function(t,e){return a.tickFormat()(t)})).data({value:f,index:r,series:c})(),s.renderGuideLine(u)})),s.dispatch.on("elementMouseout",(function(t){M.tooltipHide(),i.clearHighlights()})),u.dispatch.on("legendClick",(function(e,n){e.disabled=!e.disabled,l.filter((function(t){return!t.disabled})).length||l.map((function(t){return t.disabled=!1,N.selectAll(".nv-series").classed("disabled",!1),t})),x.disabled=l.map((function(t){return!!t.disabled})),M.stateChange(x),t.transition().call(A)})),u.dispatch.on("legendDblclick",(function(t){l.forEach((function(t){t.disabled=!0})),t.disabled=!1,x.disabled=l.map((function(t){return!!t.disabled})),M.stateChange(x),A.update()})),M.on("changeState",(function(t){"undefined"!==typeof t.disabled&&(l.forEach((function(e,n){e.disabled=t.disabled[n]})),x.disabled=t.disabled),A.update()}))})),_.renderEnd("historicalBarChart immediate"),A}return i.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:A.x()(t.data),value:A.y()(t.data),color:t.color},l.data(t).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(t){l.hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(t){l()})),A.dispatch=M,A.bars=i,A.legend=u,A.xAxis=o,A.yAxis=a,A.interactiveLayer=s,A.tooltip=l,A.options=e.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,f=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return d},set:function(t){d=e.utils.getColor(t),u.color(d),i.color(d)}},duration:{get:function(){return S},set:function(t){S=t,_.reset(S),a.duration(S),o.duration(S)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,a.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,!0===t&&A.interactive(!1)}}}),e.utils.inheritOptions(A,i),e.utils.initOptions(A),A},e.models.ohlcBarChart=function(){var t=e.models.historicalBarChart(e.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator((function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"})),t},e.models.candlestickBarChart=function(){var t=e.models.historicalBarChart(e.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator((function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"})),t},e.models.legend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},n=400,r=20,i=function(t){return t.key},o=function(t){return t},a=e.utils.getColor(),u=20,s=!0,l=32,c=!0,f=!0,d=!0,h=!1,p=!1,g=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),v="classic";function m(y){function b(t,e){return"furious"!=v?"#000":p?t.disengaged?"#000":"#fff":p?void 0:(t.color||(t.color=a(t,e)),t.disabled?t.color:"#fff")}function x(t,e){return p&&"furious"==v&&t.disengaged?"#eee":t.color||a(t,e)}function k(t,e){return p&&"furious"==v?1:t.disabled?0:1}return y.each((function(a){var m=n-t.left-t.right,y=d3.select(this);e.utils.initSVG(y);var w=y.selectAll("g.nv-legend").data([a]),M=w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),S=w.select("g");c?w.attr("transform","translate("+-t.right+","+t.top+")"):w.attr("transform","translate("+t.left+","+t.top+")");var _,A,C=S.selectAll(".nv-series").data((function(t){return"furious"!=v?t:t.filter((function(t){return!!p||!t.disengaged}))})),E=C.enter().append("g").attr("class","nv-series");switch(v){case"furious":A=23;break;case"classic":A=20}if("classic"==v)E.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),_=C.select(".nv-legend-symbol");else if("furious"==v){E.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),_=C.select(".nv-legend-symbol"),E.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),C.select(".nv-check-box").each((function(t,e){d3.select(this).selectAll("path").attr("stroke",b(t,e))}))}E.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var O=C.select("text.nv-legend-text");C.on("mouseover",(function(t,e){g.legendMouseover(t,e)})).on("mouseout",(function(t,e){g.legendMouseout(t,e)})).on("click",(function(t,e){g.legendClick(t,e);var n=C.data();if(f){if("classic"==v)h?(n.forEach((function(t){t.disabled=!0})),t.disabled=!1):(t.disabled=!t.disabled,n.every((function(t){return t.disabled}))&&n.forEach((function(t){t.disabled=!1})));else if("furious"==v)if(p)t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!p){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter((function(t){return!t.disengaged})).every((function(t){return t.userDisabled}))&&n.forEach((function(t){t.disabled=t.userDisabled=!1}))}g.stateChange({disabled:n.map((function(t){return!!t.disabled})),disengaged:n.map((function(t){return!!t.disengaged}))})}})).on("dblclick",(function(t,e){if(d){if("furious"==v&&p)return;if(g.legendDblclick(t,e),f){var n=C.data();n.forEach((function(t){t.disabled=!0,"furious"==v&&(t.userDisabled=t.disabled)})),t.disabled=!1,"furious"==v&&(t.userDisabled=t.disabled),g.stateChange({disabled:n.map((function(t){return!!t.disabled}))})}}})),C.classed("nv-disabled",(function(t){return t.userDisabled})),C.exit().remove(),O.attr("fill",b).text((function(t){return o(i(t))}));var N=0;if(s){var T=[];C.each((function(t,n){var r,a;if(o(i(t))&&o(i(t)).length>u){var s=o(i(t)).substring(0,u);r=d3.select(this).select("text").text(s+"..."),d3.select(this).append("svg:title").text(o(i(t)))}else r=d3.select(this).select("text");try{if((a=r.node().getComputedTextLength())<=0)throw Error()}catch(c){a=e.utils.calcApproxTextWidth(r)}T.push(a+l)}));var P=0,L=[];for(N=0;N<m&&P<T.length;)L[P]=T[P],N+=T[P++];for(0===P&&(P=1);N>m&&P>1;){L=[],P--;for(var j=0;j<T.length;j++)T[j]>(L[j%P]||0)&&(L[j%P]=T[j]);N=L.reduce((function(t,e,n,r){return t+e}))}for(var D=[],z=0,W=0;z<P;z++)D[z]=W,W+=L[z];C.attr("transform",(function(t,e){return"translate("+D[e%P]+","+(5+Math.floor(e/P)*A)+")"})),c?S.attr("transform","translate("+(n-t.right-N)+","+t.top+")"):S.attr("transform","translate(0,"+t.top+")"),r=t.top+t.bottom+Math.ceil(T.length/P)*A}else{var F,I=5,R=5,H=0;C.attr("transform",(function(e,r){var i=d3.select(this).select("text").node().getComputedTextLength()+l;return F=R,n<t.left+t.right+F+i&&(R=F=5,I+=A),(R+=i)>H&&(H=R),N<F+H&&(N=F+H),"translate("+F+","+I+")"})),S.attr("transform","translate("+(n-t.right-H)+","+t.top+")"),r=t.top+t.bottom+I+15}"furious"==v&&(_.attr("width",(function(t,e){return O[0][e].getComputedTextLength()+27})).attr("height",18).attr("y",-9).attr("x",-15),M.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),S.select(".nv-legend-bg").transition().duration(300).attr("x",-A).attr("width",N+A-12).attr("height",r+10).attr("y",-t.top-10).attr("opacity",p?1:0));_.style("fill",x).style("fill-opacity",k).style("stroke",x)})),m}return m.dispatch=g,m.options=e.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return r},set:function(t){r=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return s},set:function(t){s=t}},maxKeyLength:{get:function(){return u},set:function(t){u=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},padding:{get:function(){return l},set:function(t){l=t}},updateState:{get:function(){return f},set:function(t){f=t}},enableDoubleClick:{get:function(){return d},set:function(t){d=t}},radioButtonMode:{get:function(){return h},set:function(t){h=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=e.utils.getColor(t)}}}),e.utils.initOptions(m),m},e.models.line=function(){"use strict";var t,n,r=e.models.scatter(),i={top:0,right:0,bottom:0,left:0},o=960,a=500,u=null,s=e.utils.defaultColor(),l=function(t){return t.x},c=function(t){return t.y},f=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},d=function(t){return t.area},h=!1,p="linear",g=250,v=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");r.pointSize(16).pointDomain([16,256]);var m,y,b=e.utils.renderWatch(v,g);function x(g){return b.reset(),b.models(r),g.each((function(g){u=d3.select(this);var v=e.utils.availableWidth(o,u,i),x=e.utils.availableHeight(a,u,i);e.utils.initSVG(u),t=r.xScale(),n=r.yScale(),m=m||t,y=y||n;var k=u.selectAll("g.nv-wrap.nv-line").data([g]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),M=w.append("defs"),S=w.append("g"),_=k.select("g");S.append("g").attr("class","nv-groups"),S.append("g").attr("class","nv-scatterWrap"),k.attr("transform","translate("+i.left+","+i.top+")"),r.width(v).height(x);var A=k.select(".nv-scatterWrap");A.call(r),M.append("clipPath").attr("id","nv-edge-clip-"+r.id()).append("rect"),k.select("#nv-edge-clip-"+r.id()+" rect").attr("width",v).attr("height",x>0?x:0),_.attr("clip-path",h?"url(#nv-edge-clip-"+r.id()+")":""),A.attr("clip-path",h?"url(#nv-edge-clip-"+r.id()+")":"");var C=k.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t){return t.key}));C.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",(function(t){return t.strokeWidth||1.5})).style("fill-opacity",1e-6),C.exit().remove(),C.attr("class",(function(t,e){return(t.classed||"")+" nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})).style("fill",(function(t,e){return s(t,e)})).style("stroke",(function(t,e){return s(t,e)})),C.watchTransition(b,"line: groups").style("stroke-opacity",1).style("fill-opacity",(function(t){return t.fillOpacity||.5}));var E=C.selectAll("path.nv-area").data((function(t){return d(t)?[t]:[]}));E.enter().append("path").attr("class","nv-area").attr("d",(function(t){return d3.svg.area().interpolate(p).defined(f).x((function(t,n){return e.utils.NaNtoZero(m(l(t,n)))})).y0((function(t,n){return e.utils.NaNtoZero(y(c(t,n)))})).y1((function(t,e){return y(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])})).apply(this,[t.values])})),C.exit().selectAll("path.nv-area").remove(),E.watchTransition(b,"line: areaPaths").attr("d",(function(r){return d3.svg.area().interpolate(p).defined(f).x((function(n,r){return e.utils.NaNtoZero(t(l(n,r)))})).y0((function(t,r){return e.utils.NaNtoZero(n(c(t,r)))})).y1((function(t,e){return n(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])})).apply(this,[r.values])}));var O=C.selectAll("path.nv-line").data((function(t){return[t.values]}));O.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(p).defined(f).x((function(t,n){return e.utils.NaNtoZero(m(l(t,n)))})).y((function(t,n){return e.utils.NaNtoZero(y(c(t,n)))}))),O.watchTransition(b,"line: linePaths").attr("d",d3.svg.line().interpolate(p).defined(f).x((function(n,r){return e.utils.NaNtoZero(t(l(n,r)))})).y((function(t,r){return e.utils.NaNtoZero(n(c(t,r)))}))),m=t.copy(),y=n.copy()})),b.renderEnd("line immediate"),x}return x.dispatch=v,x.scatter=r,r.dispatch.on("elementClick",(function(){v.elementClick.apply(this,arguments)})),r.dispatch.on("elementMouseover",(function(){v.elementMouseover.apply(this,arguments)})),r.dispatch.on("elementMouseout",(function(){v.elementMouseout.apply(this,arguments)})),x.options=e.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},defined:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return p},set:function(t){p=t}},clipEdge:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return g},set:function(t){g=t,b.reset(g),r.duration(g)}},isArea:{get:function(){return d},set:function(t){d=d3.functor(t)}},x:{get:function(){return l},set:function(t){l=t,r.x(t)}},y:{get:function(){return c},set:function(t){c=t,r.y(t)}},color:{get:function(){return s},set:function(t){s=e.utils.getColor(t),r.color(s)}}}),e.utils.inheritOptions(x,r),e.utils.initOptions(x),x},e.models.lineChart=function(){"use strict";var t,n,r=e.models.line(),i=e.models.axis(),o=e.models.axis(),a=e.models.legend(),u=e.interactiveGuideline(),s=e.models.tooltip(),l=e.models.focus(e.models.line()),c={top:30,right:20,bottom:50,left:60},f=null,d=e.utils.defaultColor(),h=null,p=null,g=!0,v="top",m=!0,y=!0,b=!1,x=!1,k=!1,w=e.utils.state(),M=null,S=null,_=d3.dispatch("stateChange","changeState","renderEnd"),A=250;i.orient("bottom").tickPadding(7),o.orient(b?"right":"left"),r.clipEdge(!0).duration(0),s.valueFormatter((function(t,e){return o.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),u.tooltip.valueFormatter((function(t,e){return o.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)}));var C=e.utils.renderWatch(_,A);function E(s){return C.reset(),C.models(r),m&&C.models(i),y&&C.models(o),s.each((function(s){var S=d3.select(this);e.utils.initSVG(S);var C,O=e.utils.availableWidth(h,S,c),N=e.utils.availableHeight(p,S,c)-(k?l.height():0);if(E.update=function(){0===A?S.call(E):S.transition().duration(A).call(E)},E.container=this,w.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(s),E.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(s)).update(),w.disabled=s.map((function(t){return!!t.disabled})),!M)for(C in M={},w)w[C]instanceof Array?M[C]=w[C].slice(0):M[C]=w[C];if(!(s&&s.length&&s.filter((function(t){return t.values.length})).length))return e.utils.noData(E,S),E;S.selectAll(".nv-noData").remove(),l.dispatch.on("onBrush",(function(t){I(t)})),t=r.xScale(),n=r.yScale();var T=S.selectAll("g.nv-wrap.nv-lineChart").data([s]),P=T.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),L=T.select("g");P.append("g").attr("class","nv-legendWrap");var j=P.append("g").attr("class","nv-focus");j.append("g").attr("class","nv-background").append("rect"),j.append("g").attr("class","nv-x nv-axis"),j.append("g").attr("class","nv-y nv-axis"),j.append("g").attr("class","nv-linesWrap"),j.append("g").attr("class","nv-interactive");P.append("g").attr("class","nv-focusWrap");g?(a.width(O),L.select(".nv-legendWrap").datum(s).call(a),"bottom"===v?(c.bottom=i.height()+a.height(),N=e.utils.availableHeight(p,S,c),L.select(".nv-legendWrap").attr("transform","translate(0,"+(N+i.height())+")")):"top"===v&&(f||a.height()===c.top||(c.top=a.height(),N=e.utils.availableHeight(p,S,c)-(k?l.height():0)),T.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")"))):L.select(".nv-legendWrap").selectAll("*").remove(),T.attr("transform","translate("+c.left+","+c.top+")"),b&&L.select(".nv-y.nv-axis").attr("transform","translate("+O+",0)"),x&&(u.width(O).height(N).margin({left:c.left,top:c.top}).svgContainer(S).xScale(t),T.select(".nv-interactive").call(u)),L.select(".nv-focus .nv-background rect").attr("width",O).attr("height",N),r.width(O).height(N).color(s.map((function(t,e){return t.color||d(t,e)})).filter((function(t,e){return!s[e].disabled})));var D=L.select(".nv-linesWrap").datum(s.filter((function(t){return!t.disabled})));function z(){m&&L.select(".nv-focus .nv-x.nv-axis").transition().duration(A).call(i)}function W(){y&&L.select(".nv-focus .nv-y.nv-axis").transition().duration(A).call(o)}if(m&&i.scale(t)._ticks(e.utils.calcTicksX(O/100,s)).tickSize(-N,0),y&&o.scale(n)._ticks(e.utils.calcTicksY(N/36,s)).tickSize(-O,0),L.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+N+")"),k||null!==l.brush.extent()){l.width(O),L.select(".nv-focusWrap").style("display",k?"initial":"none").attr("transform","translate(0,"+(N+c.bottom+l.margin().top)+")").call(l);var F=l.brush.empty()?l.xDomain():l.brush.extent();null!==F&&I(F)}else D.call(r),z(),W();function I(t){L.select(".nv-focus .nv-linesWrap").datum(s.filter((function(t){return!t.disabled})).map((function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter((function(e,n){return r.x()(e,n)>=t[0]&&r.x()(e,n)<=t[1]})),disableTooltip:e.disableTooltip}}))).transition().duration(A).call(r),z(),W()}a.dispatch.on("stateChange",(function(t){for(var e in t)w[e]=t[e];_.stateChange(w),E.update()})),u.dispatch.on("elementMousemove",(function(n){r.clearHighlights();var i,a,c,f=[];if(s.filter((function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip})).forEach((function(o,u){var s=null!==l.brush.extent()?l.brush.empty()?l.xScale().domain():l.brush.extent():t.domain(),h=o.values.filter((function(t,e){return s[0]<=s[1]?r.x()(t,e)>=s[0]&&r.x()(t,e)<=s[1]:r.x()(t,e)>=s[1]&&r.x()(t,e)<=s[0]})),p=h[a=e.interactiveBisect(h,n.pointXValue,r.x())],g=E.y()(p,a);null!==g&&r.highlightPoint(u,a,!0),void 0!==p&&(void 0===i&&(i=p),void 0===c&&(c=E.xScale()(E.x()(p,a))),f.push({key:o.key,value:g,color:d(o,o.seriesIndex),data:p}))})),f.length>2){var h=E.yScale().invert(n.mouseY),p=.03*Math.abs(E.yScale().domain()[0]-E.yScale().domain()[1]),g=e.nearestValueIndex(f.map((function(t){return t.value})),h,p);null!==g&&(f[g].highlight=!0)}u.tooltip.valueFormatter(u.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":o.tickFormat()(t)}).data({value:E.x()(i,a),index:a,series:f})(),u.renderGuideLine(c)})),u.dispatch.on("elementClick",(function(t){var n,i=[];s.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(r){var o=e.interactiveBisect(r.values,t.pointXValue,E.x()),a=r.values[o];if("undefined"!==typeof a){"undefined"===typeof n&&(n=E.xScale()(E.x()(a,o)));var u=E.yScale()(E.y()(a,o));i.push({point:a,pointIndex:o,pos:[n,u],seriesIndex:r.seriesIndex,series:r})}})),r.dispatch.elementClick(i)})),u.dispatch.on("elementMouseout",(function(t){r.clearHighlights()})),_.on("changeState",(function(t){"undefined"!==typeof t.disabled&&s.length===t.disabled.length&&(s.forEach((function(e,n){e.disabled=t.disabled[n]})),w.disabled=t.disabled),E.update()}))})),C.renderEnd("lineChart immediate"),E}return r.dispatch.on("elementMouseover.tooltip",(function(t){t.series.disableTooltip||s.data(t).hidden(!1)})),r.dispatch.on("elementMouseout.tooltip",(function(t){s.hidden(!0)})),E.dispatch=_,E.lines=r,E.legend=a,E.focus=l,E.xAxis=i,E.x2Axis=l.xAxis,E.yAxis=o,E.y2Axis=l.yAxis,E.interactiveLayer=u,E.tooltip=s,E.state=w,E.dispatch=_,E.options=e.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},legendPosition:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return S},set:function(t){S=t}},focusEnable:{get:function(){return k},set:function(t){k=t}},focusHeight:{get:function(){return l.height()},set:function(t){l.height(t)}},focusShowAxisX:{get:function(){return l.showXAxis()},set:function(t){l.showXAxis(t)}},focusShowAxisY:{get:function(){return l.showYAxis()},set:function(t){l.showYAxis(t)}},brushExtent:{get:function(){return l.brushExtent()},set:function(t){l.brushExtent(t)}},focusMargin:{get:function(){return l.margin},set:function(t){void 0!==t.top&&(c.top=t.top,f=t.top),l.margin.right=void 0!==t.right?t.right:l.margin.right,l.margin.bottom=void 0!==t.bottom?t.bottom:l.margin.bottom,l.margin.left=void 0!==t.left?t.left:l.margin.left}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return A},set:function(t){A=t,C.reset(A),r.duration(A),l.duration(A),i.duration(A),o.duration(A)}},color:{get:function(){return d},set:function(t){d=e.utils.getColor(t),a.color(d),r.color(d),l.color(d)}},interpolate:{get:function(){return r.interpolate()},set:function(t){r.interpolate(t),l.interpolate(t)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t),l.xTickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),l.yTickFormat(t)}},x:{get:function(){return r.x()},set:function(t){r.x(t),l.x(t)}},y:{get:function(){return r.y()},set:function(t){r.y(t),l.y(t)}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,o.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(t){(x=t)&&(r.interactive(!1),r.useVoronoi(!1))}}}),e.utils.inheritOptions(E,r),e.utils.initOptions(E),E},e.models.lineWithFocusChart=function(){return e.models.lineChart().margin({bottom:30}).focusEnable(!0)},e.models.linePlusBarChart=function(){"use strict";var t,n,r,i,o,a,u,s=e.models.line(),l=e.models.line(),c=e.models.historicalBar(),f=e.models.historicalBar(),d=e.models.axis(),h=e.models.axis(),p=e.models.axis(),g=e.models.axis(),v=e.models.axis(),m=e.models.axis(),y=e.models.legend(),b=d3.svg.brush(),x=e.models.tooltip(),k={top:30,right:30,bottom:30,left:60},w=null,M={top:0,right:30,bottom:20,left:60},S=null,_=null,A=function(t){return t.x},C=function(t){return t.y},E=e.utils.defaultColor(),O=!0,N=!0,T=!1,P=!0,L=50,j=null,D=null,z=d3.dispatch("brush","stateChange","changeState"),W=0,F=e.utils.state(),I=null,R=" (left axis)",H=" (right axis)",B=!1;s.clipEdge(!0),l.interactive(!1),l.pointActive((function(t){return!1})),d.orient("bottom").tickPadding(5),p.orient("left"),g.orient("right"),h.orient("bottom").tickPadding(5),v.orient("left"),m.orient("right"),x.headerEnabled(!0).headerFormatter((function(t,e){return d.tickFormat()(t,e)}));var q=function(t){return t.every((function(t){return t.disabled}))};function V(x){return x.each((function(x){var D=d3.select(this);e.utils.initSVG(D);var Y,X=e.utils.availableWidth(S,D,k),G=e.utils.availableHeight(_,D,k)-(N?L:0),U=L-M.top-M.bottom;if(V.update=function(){D.transition().duration(W).call(V)},V.container=this,F.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(x),V.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(x)).update(),F.disabled=x.map((function(t){return!!t.disabled})),!I)for(Y in I={},F)F[Y]instanceof Array?I[Y]=F[Y].slice(0):I[Y]=F[Y];if(!(x&&x.length&&x.filter((function(t){return t.values.length})).length))return e.utils.noData(V,D),V;D.selectAll(".nv-noData").remove();var Z=x.filter((function(t){return!t.disabled&&t.bar})),K=x.filter((function(t){return!t.bar}));n=Z.length&&!B?c.xScale():s.xScale(),r=h.scale(),i=B?s.yScale():c.yScale(),o=B?c.yScale():s.yScale(),a=B?l.yScale():f.yScale(),u=B?f.yScale():l.yScale();var $=x.filter((function(t){return!t.disabled&&(B?!t.bar:t.bar)})).map((function(t){return t.values.map((function(t,e){return{x:A(t,e),y:C(t,e)}}))})),J=x.filter((function(t){return!t.disabled&&(B?t.bar:!t.bar)})).map((function(t){return t.values.map((function(t,e){return{x:A(t,e),y:C(t,e)}}))}));n.range([0,X]),r.domain(d3.extent(d3.merge($.concat(J)),(function(t){return t.x}))).range([0,X]);var Q=D.selectAll("g.nv-wrap.nv-linePlusBar").data([x]),tt=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),et=Q.select("g");tt.append("g").attr("class","nv-legendWrap");var nt=tt.append("g").attr("class","nv-focus");nt.append("g").attr("class","nv-x nv-axis"),nt.append("g").attr("class","nv-y1 nv-axis"),nt.append("g").attr("class","nv-y2 nv-axis"),nt.append("g").attr("class","nv-barsWrap"),nt.append("g").attr("class","nv-linesWrap");var rt=tt.append("g").attr("class","nv-context");if(rt.append("g").attr("class","nv-x nv-axis"),rt.append("g").attr("class","nv-y1 nv-axis"),rt.append("g").attr("class","nv-y2 nv-axis"),rt.append("g").attr("class","nv-barsWrap"),rt.append("g").attr("class","nv-linesWrap"),rt.append("g").attr("class","nv-brushBackground"),rt.append("g").attr("class","nv-x nv-brush"),O){var it=y.align()?X/2:X,ot=y.align()?it:0;y.width(it),et.select(".nv-legendWrap").datum(x.map((function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=B?t.originalKey+(t.bar?H:R):t.originalKey+(t.bar?R:H),t}))).call(y),w||y.height()===k.top||(k.top=y.height(),G=e.utils.availableHeight(_,D,k)-L),et.select(".nv-legendWrap").attr("transform","translate("+ot+","+-k.top+")")}else et.select(".nv-legendWrap").selectAll("*").remove();Q.attr("transform","translate("+k.left+","+k.top+")"),et.select(".nv-context").style("display",N?"initial":"none"),f.width(X).height(U).color(x.map((function(t,e){return t.color||E(t,e)})).filter((function(t,e){return!x[e].disabled&&x[e].bar}))),l.width(X).height(U).color(x.map((function(t,e){return t.color||E(t,e)})).filter((function(t,e){return!x[e].disabled&&!x[e].bar})));var at=et.select(".nv-context .nv-barsWrap").datum(Z.length?Z:[{values:[]}]),ut=et.select(".nv-context .nv-linesWrap").datum(q(K)?[{values:[]}]:K.filter((function(t){return!t.disabled})));et.select(".nv-context").attr("transform","translate(0,"+(G+k.bottom+M.top)+")"),at.transition().call(f),ut.transition().call(l),P&&(h._ticks(e.utils.calcTicksX(X/100,x)).tickSize(-U,0),et.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),et.select(".nv-context .nv-x.nv-axis").transition().call(h)),T&&(v.scale(a)._ticks(U/36).tickSize(-X,0),m.scale(u)._ticks(U/36).tickSize(Z.length?0:-X,0),et.select(".nv-context .nv-y3.nv-axis").style("opacity",Z.length?1:0).attr("transform","translate(0,"+r.range()[0]+")"),et.select(".nv-context .nv-y2.nv-axis").style("opacity",K.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),et.select(".nv-context .nv-y1.nv-axis").transition().call(v),et.select(".nv-context .nv-y2.nv-axis").transition().call(m)),b.x(r).on("brush",ft),j&&b.extent(j);var st=et.select(".nv-brushBackground").selectAll("g").data([j||b.extent()]),lt=st.enter().append("g");lt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",U),lt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",U);var ct=et.select(".nv-x.nv-brush").call(b);function ft(){j=b.empty()?null:b.extent(),t=b.empty()?r.domain():b.extent(),z.brush({extent:t,brush:b}),b.empty()||b.extent(j),st.data([b.empty()?r.domain():j]).each((function(t,e){var n=r(t[0])-r.range()[0],i=r.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",i<0?0:i)})),c.width(X).height(G).color(x.map((function(t,e){return t.color||E(t,e)})).filter((function(t,e){return!x[e].disabled&&x[e].bar}))),s.width(X).height(G).color(x.map((function(t,e){return t.color||E(t,e)})).filter((function(t,e){return!x[e].disabled&&!x[e].bar})));var a=et.select(".nv-focus .nv-barsWrap").datum(Z.length?Z.map((function(e,n){return{key:e.key,values:e.values.filter((function(e,n){return c.x()(e,n)>=t[0]&&c.x()(e,n)<=t[1]}))}})):[{values:[]}]),u=et.select(".nv-focus .nv-linesWrap").datum(q(K)?[{values:[]}]:K.filter((function(t){return!t.disabled})).map((function(e,n){return{area:e.area,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,key:e.key,values:e.values.filter((function(e,n){return s.x()(e,n)>=t[0]&&s.x()(e,n)<=t[1]}))}})));n=Z.length&&!B?c.xScale():s.xScale(),d.scale(n)._ticks(e.utils.calcTicksX(X/100,x)).tickSize(-G,0),d.domain([Math.ceil(t[0]),Math.floor(t[1])]),et.select(".nv-x.nv-axis").transition().duration(W).call(d),a.transition().duration(W).call(c),u.transition().duration(W).call(s),et.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),p.scale(i)._ticks(e.utils.calcTicksY(G/36,x)).tickSize(-X,0),g.scale(o)._ticks(e.utils.calcTicksY(G/36,x)),B?g.tickSize(K.length?0:-X,0):g.tickSize(Z.length?0:-X,0);var l=Z.length?1:0,f=K.length&&!q(K)?1:0,h=B?f:l,v=B?l:f;et.select(".nv-focus .nv-y1.nv-axis").style("opacity",h),et.select(".nv-focus .nv-y2.nv-axis").style("opacity",v).attr("transform","translate("+n.range()[1]+",0)"),et.select(".nv-focus .nv-y1.nv-axis").transition().duration(W).call(p),et.select(".nv-focus .nv-y2.nv-axis").transition().duration(W).call(g)}ct.selectAll("rect").attr("height",U),ct.selectAll(".resize").append("path").attr("d",(function(t){var e=+("e"==t),n=e?1:-1,r=U/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)})),y.dispatch.on("stateChange",(function(t){for(var e in t)F[e]=t[e];z.stateChange(F),V.update()})),z.on("changeState",(function(t){"undefined"!==typeof t.disabled&&(x.forEach((function(e,n){e.disabled=t.disabled[n]})),F.disabled=t.disabled),V.update()})),ft()})),V}return s.dispatch.on("elementMouseover.tooltip",(function(t){x.duration(100).valueFormatter((function(t,e){return(B?{main:p,focus:v}:{main:g,focus:m}).main.tickFormat()(t,e)})).data(t).hidden(!1)})),s.dispatch.on("elementMouseout.tooltip",(function(t){x.hidden(!0)})),c.dispatch.on("elementMouseover.tooltip",(function(t){t.value=V.x()(t.data),t.series={value:V.y()(t.data),color:t.color},x.duration(0).valueFormatter((function(t,e){return(B?{main:g,focus:m}:{main:p,focus:v}).main.tickFormat()(t,e)})).data(t).hidden(!1)})),c.dispatch.on("elementMouseout.tooltip",(function(t){x.hidden(!0)})),c.dispatch.on("elementMousemove.tooltip",(function(t){x()})),V.dispatch=z,V.legend=y,V.lines=s,V.lines2=l,V.bars=c,V.bars2=f,V.xAxis=d,V.x2Axis=h,V.y1Axis=p,V.y2Axis=g,V.y3Axis=v,V.y4Axis=m,V.tooltip=x,V.options=e.utils.optionsFunc.bind(V),V._options=Object.create({},{width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return _},set:function(t){_=t}},showLegend:{get:function(){return O},set:function(t){O=t}},brushExtent:{get:function(){return j},set:function(t){j=t}},noData:{get:function(){return D},set:function(t){D=t}},focusEnable:{get:function(){return N},set:function(t){N=t}},focusHeight:{get:function(){return L},set:function(t){L=t}},focusShowAxisX:{get:function(){return P},set:function(t){P=t}},focusShowAxisY:{get:function(){return T},set:function(t){T=t}},legendLeftAxisHint:{get:function(){return R},set:function(t){R=t}},legendRightAxisHint:{get:function(){return H},set:function(t){H=t}},margin:{get:function(){return k},set:function(t){void 0!==t.top&&(k.top=t.top,w=t.top),k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},focusMargin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},duration:{get:function(){return W},set:function(t){W=t}},color:{get:function(){return E},set:function(t){E=e.utils.getColor(t),y.color(E)}},x:{get:function(){return A},set:function(t){A=t,s.x(t),l.x(t),c.x(t),f.x(t)}},y:{get:function(){return C},set:function(t){C=t,s.y(t),l.y(t),c.y(t),f.y(t)}},switchYAxisOrder:{get:function(){return B},set:function(t){if(B!==t){var e=p;p=g,g=e;var n=v;v=m,m=n}B=t,p.orient("left"),g.orient("right"),v.orient("left"),m.orient("right")}}}),e.utils.inheritOptions(V,s),e.utils.initOptions(V),V},e.models.multiBar=function(){"use strict";var t,n,r,i,o,a,u,s={top:0,right:0,bottom:0,left:0},l=960,c=500,f=d3.scale.ordinal(),d=d3.scale.linear(),h=Math.floor(1e4*Math.random()),p=null,g=function(t){return t.x},v=function(t){return t.y},m=[0],y=!0,b=!1,x="zero",k=e.utils.defaultColor(),w=!1,M=null,S=500,_=.1,A=.75,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=e.utils.renderWatch(C,S),O=0;function N(T){return E.reset(),T.each((function(N){var T=l-s.left-s.right,P=c-s.top-s.bottom;p=d3.select(this),e.utils.initSVG(p);var L=0;if(w&&N.length&&(w=[{values:N[0].values.map((function(t){return{x:t.x,y:0,series:t.series,size:.01}}))}]),b){var j=d3.layout.stack().offset(x).values((function(t){return t.values})).y(v)(!N.length&&w?w:N);j.forEach((function(t,e){t.nonStackable?(N[e].nonStackableSeries=L++,j[e]=N[e]):e>0&&j[e-1].nonStackable&&j[e].values.map((function(t,n){t.y0-=j[e-1].values[n].y,t.y1=t.y0+t.y}))})),N=j}N.forEach((function(t,e){t.values.forEach((function(n){n.series=e,n.key=t.key}))})),b&&N.length>0&&N[0].values.map((function(t,e){var n=0,r=0;N.map((function(t,i){if(!N[i].nonStackable){var o=t.values[e];o.size=Math.abs(o.y),o.y<0?(o.y1=r,r-=o.size):(o.y1=o.size+n,n+=o.size)}}))}));var D=n&&r?[]:N.map((function(t,e){return t.values.map((function(t,n){return{x:g(t,n),y:v(t,n),y0:t.y0,y1:t.y1,idx:e}}))}));f.domain(n||d3.merge(D).map((function(t){return t.x}))).rangeBands(i||[0,T],_),d.domain(r||d3.extent(d3.merge(D).map((function(t){var e=t.y;return b&&!N[t.idx].nonStackable&&(e=t.y>0?t.y1:t.y1+t.y),e})).concat(m))).range(o||[P,0]),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1])),a=a||f,u=u||d;var z=p.selectAll("g.nv-wrap.nv-multibar").data([N]),W=z.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),F=W.append("defs"),I=W.append("g"),R=z.select("g");I.append("g").attr("class","nv-groups"),z.attr("transform","translate("+s.left+","+s.top+")"),F.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect"),z.select("#nv-edge-clip-"+h+" rect").attr("width",T).attr("height",P),R.attr("clip-path",y?"url(#nv-edge-clip-"+h+")":"");var H=z.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t,e){return e}));H.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var B=E.transition(H.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,S)).attr("y",(function(t,e,n){var r=u(0)||0;return b&&N[t.series]&&!N[t.series].nonStackable&&(r=u(t.y0)),r})).attr("height",0).remove();B.delay&&B.delay((function(t,e){return e*(S/(O+1))-e})),H.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})).style("fill",(function(t,e){return k(t,e)})).style("stroke",(function(t,e){return k(t,e)})),H.style("stroke-opacity",1).style("fill-opacity",A);var q=H.selectAll("rect.nv-bar").data((function(t){return w&&!N.length?w.values:t.values}));q.exit().remove();q.enter().append("rect").attr("class",(function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"})).attr("x",(function(t,e,n){return b&&!N[n].nonStackable?0:n*f.rangeBand()/N.length})).attr("y",(function(t,e,n){return u(b&&!N[n].nonStackable?t.y0:0)||0})).attr("height",0).attr("width",(function(t,e,n){return f.rangeBand()/(b&&!N[n].nonStackable?1:N.length)})).attr("transform",(function(t,e){return"translate("+f(g(t,e))+",0)"}));q.style("fill",(function(t,e,n){return k(t,n,e)})).style("stroke",(function(t,e,n){return k(t,n,e)})).on("mouseover",(function(t,e,n){d3.select(this).classed("hover",!0),C.elementMouseover({data:t,index:e,series:N[n],color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e,n){d3.select(this).classed("hover",!1),C.elementMouseout({data:t,index:e,series:N[n],color:d3.select(this).style("fill")})})).on("mousemove",(function(t,e,n){C.elementMousemove({data:t,index:e,series:N[n],color:d3.select(this).style("fill")})})).on("click",(function(t,e,n){C.elementClick({data:t,index:e,series:N[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()})).on("dblclick",(function(t,e,n){C.elementDblClick({data:t,index:e,series:N[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()})),q.attr("class",(function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"})).attr("transform",(function(t,e){return"translate("+f(g(t,e))+",0)"})),M&&(t||(t=N.map((function(){return!0}))),q.style("fill",(function(e,n,r){return d3.rgb(M(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()})).style("stroke",(function(e,n,r){return d3.rgb(M(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()})));var V=q.watchTransition(E,"multibar",Math.min(250,S)).delay((function(t,e){return e*S/N[0].values.length}));b?V.attr("y",(function(t,e,n){return N[n].nonStackable?v(t,e)<0?d(0):d(0)-d(v(t,e))<-1?d(0)-1:d(v(t,e))||0:d(t.y1)})).attr("height",(function(t,e,n){return N[n].nonStackable?Math.max(Math.abs(d(v(t,e))-d(0)),0)||0:Math.max(Math.abs(d(t.y+t.y0)-d(t.y0)),0)})).attr("x",(function(t,e,n){var r=0;return N[n].nonStackable&&(r=t.series*f.rangeBand()/N.length,N.length!==L&&(r=N[n].nonStackableSeries*f.rangeBand()/(2*L))),r})).attr("width",(function(t,e,n){if(N[n].nonStackable){var r=f.rangeBand()/L;return N.length!==L&&(r=f.rangeBand()/(2*L)),r}return f.rangeBand()})):V.attr("x",(function(t,e){return t.series*f.rangeBand()/N.length})).attr("width",f.rangeBand()/N.length).attr("y",(function(t,e){return v(t,e)<0?d(0):d(0)-d(v(t,e))<1?d(0)-1:d(v(t,e))||0})).attr("height",(function(t,e){return Math.max(Math.abs(d(v(t,e))-d(0)),1)||0})),a=f.copy(),u=d.copy(),N[0]&&N[0].values&&(O=N[0].values.length)})),E.renderEnd("multibar immediate"),N}return N.dispatch=C,N.options=e.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return m},set:function(t){m=t}},stacked:{get:function(){return b},set:function(t){b=t}},stackOffset:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return h},set:function(t){h=t}},hideable:{get:function(){return w},set:function(t){w=t}},groupSpacing:{get:function(){return _},set:function(t){_=t}},fillOpacity:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return S},set:function(t){S=t,E.reset(S)}},color:{get:function(){return k},set:function(t){k=e.utils.getColor(t)}},barColor:{get:function(){return M},set:function(t){M=t?e.utils.getColor(t):null}}}),e.utils.initOptions(N),N},e.models.multiBarChart=function(){"use strict";var t,n,r=e.models.multiBar(),i=e.models.axis(),o=e.models.axis(),a=e.interactiveGuideline(),u=e.models.legend(),s=e.models.legend(),l=e.models.tooltip(),c={top:30,right:20,bottom:50,left:60},f=null,d=null,h=null,p=e.utils.defaultColor(),g=!0,v={},m=!0,y=null,b=!0,x=!0,k=!1,w=!0,M=!1,S=!1,_=0,A=e.utils.state(),C=null,E=null,O=d3.dispatch("stateChange","changeState","renderEnd"),N=function(){return g?180:0},T=250,P=!1;A.stacked=!1,r.stacked(!1),i.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat((function(t){return t})),o.orient(k?"right":"left").tickFormat(d3.format(",.1f")),l.duration(0).valueFormatter((function(t,e){return o.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),a.tooltip.valueFormatter((function(t,e){return null==t?"N/A":o.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),a.tooltip.valueFormatter((function(t,e){return null==t?"N/A":o.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),a.tooltip.duration(0).valueFormatter((function(t,e){return o.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),s.updateState(!1);var L=e.utils.renderWatch(O),j=!1;function D(E){return L.reset(),L.models(r),b&&L.models(i),x&&L.models(o),E.each((function(E){var L=d3.select(this);e.utils.initSVG(L);var z,W=e.utils.availableWidth(d,L,c),F=e.utils.availableHeight(h,L,c);if(D.update=function(){0===T?L.call(D):L.transition().duration(T).call(D)},D.container=this,A.setter(function(t){return function(e){void 0!==e.stacked&&(j=e.stacked),void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(E),D.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled})),stacked:j}}}(E)).update(),A.disabled=E.map((function(t){return!!t.disabled})),!C)for(z in C={},A)A[z]instanceof Array?C[z]=A[z].slice(0):C[z]=A[z];if(!(E&&E.length&&E.filter((function(t){return t.values.length})).length))return e.utils.noData(D,L),D;L.selectAll(".nv-noData").remove(),t=r.xScale(),n=r.yScale();var I=L.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([E]),R=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),H=I.select("g");if(R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-barsWrap"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),R.append("g").attr("class","nv-interactive"),m?"bottom"===y?(u.width(W-c.right),H.select(".nv-legendWrap").datum(E).call(u),c.bottom=i.height()+u.height(),F=e.utils.availableHeight(h,L,c),H.select(".nv-legendWrap").attr("transform","translate(0,"+(F+i.height())+")")):(u.width(W-N()),H.select(".nv-legendWrap").datum(E).call(u),f||u.height()===c.top||(c.top=u.height(),F=e.utils.availableHeight(h,L,c)),H.select(".nv-legendWrap").attr("transform","translate("+N()+","+-c.top+")")):H.select(".nv-legendWrap").selectAll("*").remove(),g){var B=[{key:v.grouped||"Grouped",disabled:r.stacked()},{key:v.stacked||"Stacked",disabled:!r.stacked()}];s.width(N()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+-c.top+")").call(s)}else H.select(".nv-controlsWrap").selectAll("*").remove();if(I.attr("transform","translate("+c.left+","+c.top+")"),k&&H.select(".nv-y.nv-axis").attr("transform","translate("+W+",0)"),r.disabled(E.map((function(t){return t.disabled}))).width(W).height(F).color(E.map((function(t,e){return t.color||p(t,e)})).filter((function(t,e){return!E[e].disabled}))),H.select(".nv-barsWrap").datum(E.filter((function(t){return!t.disabled}))).call(r),b){i.scale(t)._ticks(e.utils.calcTicksX(W/100,E)).tickSize(-F,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),H.select(".nv-x.nv-axis").call(i);var q=H.select(".nv-x.nv-axis > g").selectAll("g");if(q.selectAll("line, text").style("opacity",1),M){var V=function(t,e){return"translate("+t+","+e+")"};q.selectAll("text").attr("transform",(function(t,e,n){return V(0,n%2==0?5:17)}));var Y=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;H.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",(function(t,e){return V(0,0===e||Y%2!==0?17:5)}))}S&&H.selectAll(".tick text").call(e.utils.wrapTicks,D.xAxis.rangeBand()),w&&q.filter((function(t,e){return e%Math.ceil(E[0].values.length/(W/100))!==0})).selectAll("text, line").style("opacity",0),_&&q.selectAll(".tick text").attr("transform","rotate("+_+" 0,0)").style("text-anchor",_>0?"start":"end"),H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}x&&(o.scale(n)._ticks(e.utils.calcTicksY(F/36,E)).tickSize(-W,0),H.select(".nv-y.nv-axis").call(o)),P&&(a.width(W).height(F).margin({left:c.left,top:c.top}).svgContainer(L).xScale(t),I.select(".nv-interactive").call(a)),u.dispatch.on("stateChange",(function(t){for(var e in t)A[e]=t[e];O.stateChange(A),D.update()})),s.dispatch.on("legendClick",(function(t,e){if(t.disabled){switch(B=B.map((function(t){return t.disabled=!0,t})),t.disabled=!1,t.key){case"Grouped":case v.grouped:r.stacked(!1);break;case"Stacked":case v.stacked:r.stacked(!0)}A.stacked=r.stacked(),O.stateChange(A),D.update()}})),O.on("changeState",(function(t){"undefined"!==typeof t.disabled&&(E.forEach((function(e,n){e.disabled=t.disabled[n]})),A.disabled=t.disabled),"undefined"!==typeof t.stacked&&(r.stacked(t.stacked),A.stacked=t.stacked,j=t.stacked),D.update()})),P?(a.dispatch.on("elementMousemove",(function(e){if(void 0!=e.pointXValue){var n,r,i,o,u=[];E.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(a,s){r=t.domain().indexOf(e.pointXValue);var l=a.values[r];void 0!==l&&(o=l.x,void 0===n&&(n=l),void 0===i&&(i=e.mouseX),u.push({key:a.key,value:D.y()(l,r),color:p(a,a.seriesIndex),data:a.values[r]}))})),a.tooltip.data({value:o,index:r,series:u})(),a.renderGuideLine(i)}})),a.dispatch.on("elementMouseout",(function(t){a.tooltip.hidden(!0)}))):(r.dispatch.on("elementMouseover.tooltip",(function(t){t.value=D.x()(t.data),t.series={key:t.data.key,value:D.y()(t.data),color:t.color},l.data(t).hidden(!1)})),r.dispatch.on("elementMouseout.tooltip",(function(t){l.hidden(!0)})),r.dispatch.on("elementMousemove.tooltip",(function(t){l()})))})),L.renderEnd("multibarchart immediate"),D}return D.dispatch=O,D.multibar=r,D.legend=u,D.controls=s,D.xAxis=i,D.yAxis=o,D.state=A,D.tooltip=l,D.interactiveLayer=a,D.options=e.utils.optionsFunc.bind(D),D._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return E},set:function(t){E=t}},reduceXTicks:{get:function(){return w},set:function(t){w=t}},rotateLabels:{get:function(){return _},set:function(t){_=t}},staggerLabels:{get:function(){return M},set:function(t){M=t}},wrapLabels:{get:function(){return S},set:function(t){S=!!t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,f=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return T},set:function(t){T=t,r.duration(T),i.duration(T),o.duration(T),L.reset(T)}},color:{get:function(){return p},set:function(t){p=e.utils.getColor(t),u.color(p)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,o.orient(k?"right":"left")}},useInteractiveGuideline:{get:function(){return P},set:function(t){P=t}},barColor:{get:function(){return r.barColor},set:function(t){r.barColor(t),u.color((function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()}))}}}),e.utils.inheritOptions(D,r),e.utils.initOptions(D),D},e.models.multiBarHorizontal=function(){"use strict";var t,n,r,i,o,a,u,s={top:0,right:0,bottom:0,left:0},l=960,c=500,f=Math.floor(1e4*Math.random()),d=null,h=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},v=function(t){return t.y},m=function(t){return t.yErr},y=[0],b=e.utils.defaultColor(),x=null,k=!1,w=!1,M=60,S=.1,_=.75,A=d3.format(",.2f"),C=250,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),O=e.utils.renderWatch(E,C);function N(f){return O.reset(),f.each((function(f){var C=l-s.left-s.right,N=c-s.top-s.bottom;d=d3.select(this),e.utils.initSVG(d),k&&(f=d3.layout.stack().offset("zero").values((function(t){return t.values})).y(v)(f)),f.forEach((function(t,e){t.values.forEach((function(n){n.series=e,n.key=t.key}))})),k&&f[0].values.map((function(t,e){var n=0,r=0;f.map((function(t){var i=t.values[e];i.size=Math.abs(i.y),i.y<0?(i.y1=r-i.size,r-=i.size):(i.y1=n,n+=i.size)}))}));var T=n&&r?[]:f.map((function(t){return t.values.map((function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0,y1:t.y1}}))}));h.domain(n||d3.merge(T).map((function(t){return t.x}))).rangeBands(i||[0,N],S),p.domain(r||d3.extent(d3.merge(T).map((function(t){return k?t.y>0?t.y1+t.y:t.y1:t.y})).concat(y))),w&&!k?p.range(o||[p.domain()[0]<0?M:0,C-(p.domain()[1]>0?M:0)]):p.range(o||[0,C]),a=a||h,u=u||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var P=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([f]),L=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),j=(L.append("defs"),L.append("g"));P.select("g");j.append("g").attr("class","nv-groups"),P.attr("transform","translate("+s.left+","+s.top+")");var D=P.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t,e){return e}));D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),D.exit().watchTransition(O,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),D.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})).style("fill",(function(t,e){return b(t,e)})).style("stroke",(function(t,e){return b(t,e)})),D.watchTransition(O,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",_);var z=D.selectAll("g.nv-bar").data((function(t){return t.values}));z.exit().remove();var W=z.enter().append("g").attr("transform",(function(t,e,n){return"translate("+u(k?t.y0:0)+","+(k?0:n*h.rangeBand()/f.length+h(g(t,e)))+")"}));W.append("rect").attr("width",0).attr("height",h.rangeBand()/(k?1:f.length)),z.on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),E.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),E.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){E.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})})).on("mousemove",(function(t,e){E.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})})).on("click",(function(t,e){E.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()})).on("dblclick",(function(t,e){E.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})),m(f[0],0)&&(W.append("polyline"),z.select("polyline").attr("fill","none").attr("points",(function(t,e){var n=m(t,e),r=.8*h.rangeBand()/(2*(k?1:f.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map((function(n){return p(n+(v(t,e)<0?0:v(t,e)))-p(0)})))[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]].map((function(t){return t.join(",")})).join(" ")})).attr("transform",(function(t,e){return"translate(0, "+h.rangeBand()/(2*(k?1:f.length))+")"}))),W.append("text"),w&&!k?(z.select("text").attr("text-anchor",(function(t,e){return v(t,e)<0?"end":"start"})).attr("y",h.rangeBand()/(2*f.length)).attr("dy",".32em").text((function(t,e){var n=A(v(t,e)),r=m(t,e);return void 0===r?n:r.length?n+"+"+A(Math.abs(r[1]))+"-"+A(Math.abs(r[0])):n+"\xb1"+A(Math.abs(r))})),z.watchTransition(O,"multibarhorizontal: bars").select("text").attr("x",(function(t,e){return v(t,e)<0?-4:p(v(t,e))-p(0)+4}))):z.selectAll("text").text(""),z.selectAll("text.nv-bar-label").text(""),z.attr("class",(function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"})),x&&(t||(t=f.map((function(){return!0}))),z.style("fill",(function(e,n,r){return d3.rgb(x(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()})).style("stroke",(function(e,n,r){return d3.rgb(x(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()}))),k?z.watchTransition(O,"multibarhorizontal: bars").attr("transform",(function(t,e){return"translate("+p(t.y1)+","+h(g(t,e))+")"})).select("rect").attr("width",(function(t,e){return Math.abs(p(v(t,e)+t.y0)-p(t.y0))||0})).attr("height",h.rangeBand()):z.watchTransition(O,"multibarhorizontal: bars").attr("transform",(function(t,e){return"translate("+(v(t,e)<0?p(v(t,e)):p(0))+","+(t.series*h.rangeBand()/f.length+h(g(t,e)))+")"})).select("rect").attr("height",h.rangeBand()/f.length).attr("width",(function(t,e){return Math.max(Math.abs(p(v(t,e))-p(0)),1)||0})),a=h.copy(),u=p.copy()})),O.renderEnd("multibarHorizontal immediate"),N}return N.dispatch=E,N.options=e.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},yErr:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return k},set:function(t){k=t}},showValues:{get:function(){return w},set:function(t){w=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return f},set:function(t){f=t}},valueFormat:{get:function(){return A},set:function(t){A=t}},valuePadding:{get:function(){return M},set:function(t){M=t}},groupSpacing:{get:function(){return S},set:function(t){S=t}},fillOpacity:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return C},set:function(t){C=t,O.reset(C)}},color:{get:function(){return b},set:function(t){b=e.utils.getColor(t)}},barColor:{get:function(){return x},set:function(t){x=t?e.utils.getColor(t):null}}}),e.utils.initOptions(N),N},e.models.multiBarHorizontalChart=function(){"use strict";var t,n,r=e.models.multiBarHorizontal(),i=e.models.axis(),o=e.models.axis(),a=e.models.legend().height(30),u=e.models.legend().height(30),s=e.models.tooltip(),l={top:30,right:20,bottom:50,left:60},c=null,f=null,d=null,h=e.utils.defaultColor(),p=!0,g="top",v={},m=!0,y="top",b=!0,x=!0,k=!1,w=e.utils.state(),M=null,S=null,_=d3.dispatch("stateChange","changeState","renderEnd"),A=function(){return p?180:0},C=250;w.stacked=!1,r.stacked(k),i.orient("left").tickPadding(5).showMaxMin(!1).tickFormat((function(t){return t})),o.orient("bottom").tickFormat(d3.format(",.1f")),s.duration(0).valueFormatter((function(t,e){return o.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),u.updateState(!1);var E=e.utils.renderWatch(_,C);function O(s){return E.reset(),E.models(r),b&&E.models(i),x&&E.models(o),s.each((function(s){var S=d3.select(this);e.utils.initSVG(S);var E,N=e.utils.availableWidth(f,S,l),T=e.utils.availableHeight(d,S,l);if(O.update=function(){S.transition().duration(C).call(O)},O.container=this,k=r.stacked(),w.setter(function(t){return function(e){void 0!==e.stacked&&(k=e.stacked),void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(s),O.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled})),stacked:k}}}(s)).update(),w.disabled=s.map((function(t){return!!t.disabled})),!M)for(E in M={},w)w[E]instanceof Array?M[E]=w[E].slice(0):M[E]=w[E];if(!(s&&s.length&&s.filter((function(t){return t.values.length})).length))return e.utils.noData(O,S),O;S.selectAll(".nv-noData").remove(),t=r.xScale(),n=r.yScale().clamp(!0);var P=S.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([s]),L=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),j=P.select("g");if(L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-controlsWrap"),m?(a.width(N-A()),j.select(".nv-legendWrap").datum(s).call(a),"bottom"===y?(l.bottom=i.height()+a.height(),T=e.utils.availableHeight(d,S,l),j.select(".nv-legendWrap").attr("transform","translate("+A()+","+(T+i.height())+")")):"top"===y&&(c||a.height()===l.top||(l.top=a.height(),T=e.utils.availableHeight(d,S,l)),j.select(".nv-legendWrap").attr("transform","translate("+A()+","+-l.top+")"))):j.select(".nv-legendWrap").selectAll("*").remove(),p){var D=[{key:v.grouped||"Grouped",disabled:r.stacked()},{key:v.stacked||"Stacked",disabled:!r.stacked()}];u.width(A()).color(["#444","#444","#444"]),"bottom"===g?(l.bottom=i.height()+a.height(),T=e.utils.availableHeight(d,S,l),j.select(".nv-controlsWrap").datum(D).attr("transform","translate(0,"+(T+i.height())+")").call(u)):"top"===g&&j.select(".nv-controlsWrap").datum(D).attr("transform","translate(0,"+-l.top+")").call(u)}else j.select(".nv-controlsWrap").selectAll("*").remove();(P.attr("transform","translate("+l.left+","+l.top+")"),r.disabled(s.map((function(t){return t.disabled}))).width(N).height(T).color(s.map((function(t,e){return t.color||h(t,e)})).filter((function(t,e){return!s[e].disabled}))),j.select(".nv-barsWrap").datum(s.filter((function(t){return!t.disabled}))).transition().call(r),b)&&(i.scale(t)._ticks(e.utils.calcTicksY(T/24,s)).tickSize(-N,0),j.select(".nv-x.nv-axis").call(i),j.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));x&&(o.scale(n)._ticks(e.utils.calcTicksX(N/100,s)).tickSize(-T,0),j.select(".nv-y.nv-axis").attr("transform","translate(0,"+T+")"),j.select(".nv-y.nv-axis").call(o)),j.select(".nv-zeroLine line").attr("x1",n(0)).attr("x2",n(0)).attr("y1",0).attr("y2",-T),a.dispatch.on("stateChange",(function(t){for(var e in t)w[e]=t[e];_.stateChange(w),O.update()})),u.dispatch.on("legendClick",(function(t,e){if(t.disabled){switch(D=D.map((function(t){return t.disabled=!0,t})),t.disabled=!1,t.key){case"Grouped":case v.grouped:r.stacked(!1);break;case"Stacked":case v.stacked:r.stacked(!0)}w.stacked=r.stacked(),_.stateChange(w),k=r.stacked(),O.update()}})),_.on("changeState",(function(t){"undefined"!==typeof t.disabled&&(s.forEach((function(e,n){e.disabled=t.disabled[n]})),w.disabled=t.disabled),"undefined"!==typeof t.stacked&&(r.stacked(t.stacked),w.stacked=t.stacked,k=t.stacked),O.update()}))})),E.renderEnd("multibar horizontal chart immediate"),O}return r.dispatch.on("elementMouseover.tooltip",(function(t){t.value=O.x()(t.data),t.series={key:t.data.key,value:O.y()(t.data),color:t.color},s.data(t).hidden(!1)})),r.dispatch.on("elementMouseout.tooltip",(function(t){s.hidden(!0)})),r.dispatch.on("elementMousemove.tooltip",(function(t){s()})),O.dispatch=_,O.multibar=r,O.legend=a,O.controls=u,O.xAxis=i,O.yAxis=o,O.state=w,O.tooltip=s,O.options=e.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},controlsPosition:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,c=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return C},set:function(t){C=t,E.reset(C),r.duration(C),i.duration(C),o.duration(C)}},color:{get:function(){return h},set:function(t){h=e.utils.getColor(t),a.color(h)}},barColor:{get:function(){return r.barColor},set:function(t){r.barColor(t),a.color((function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()}))}}}),e.utils.inheritOptions(O,r),e.utils.initOptions(O),O},e.models.multiChart=function(){"use strict";var t,n,r={top:30,right:20,bottom:50,left:60},i=null,o=e.utils.defaultColor(),a=null,u=null,s=!0,l=null,c=function(t){return t.x},f=function(t){return t.y},d="linear",h=!0,p=e.interactiveGuideline(),g=!1,v=" (right axis)",m=250,y=d3.scale.linear(),b=d3.scale.linear(),x=d3.scale.linear(),k=e.models.line().yScale(b).duration(m),w=e.models.line().yScale(x).duration(m),M=e.models.scatter().yScale(b).duration(m),S=e.models.scatter().yScale(x).duration(m),_=e.models.multiBar().stacked(!1).yScale(b).duration(m),A=e.models.multiBar().stacked(!1).yScale(x).duration(m),C=e.models.stackedArea().yScale(b).duration(m),E=e.models.stackedArea().yScale(x).duration(m),O=e.models.axis().scale(y).orient("bottom").tickPadding(5).duration(m),N=e.models.axis().scale(b).orient("left").duration(m),T=e.models.axis().scale(x).orient("right").duration(m),P=e.models.legend().height(30),L=e.models.tooltip(),j=d3.dispatch(),D=[k,w,M,S,_,A,C,E];function z(l){return l.each((function(l){var h=d3.select(this);e.utils.initSVG(h),z.update=function(){h.transition().call(z)},z.container=this;var m=e.utils.availableWidth(a,h,r),j=e.utils.availableHeight(u,h,r),W=l.filter((function(t){return"line"==t.type&&1==t.yAxis})),F=l.filter((function(t){return"line"==t.type&&2==t.yAxis})),I=l.filter((function(t){return"scatter"==t.type&&1==t.yAxis})),R=l.filter((function(t){return"scatter"==t.type&&2==t.yAxis})),H=l.filter((function(t){return"bar"==t.type&&1==t.yAxis})),B=l.filter((function(t){return"bar"==t.type&&2==t.yAxis})),q=l.filter((function(t){return"area"==t.type&&1==t.yAxis})),V=l.filter((function(t){return"area"==t.type&&2==t.yAxis}));if(!(l&&l.length&&l.filter((function(t){return t.values.length})).length))return e.utils.noData(z,h),z;h.selectAll(".nv-noData").remove();var Y=l.filter((function(t){return!t.disabled&&1==t.yAxis})).map((function(t){return t.values.map((function(t,e){return{x:c(t),y:f(t)}}))})),X=l.filter((function(t){return!t.disabled&&2==t.yAxis})).map((function(t){return t.values.map((function(t,e){return{x:c(t),y:f(t)}}))}));y.domain(d3.extent(d3.merge(Y.concat(X)),(function(t){return t.x}))).range([0,m]);var G=h.selectAll("g.wrap.multiChart").data([l]),U=G.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y1 nv-axis"),U.append("g").attr("class","nv-y2 nv-axis"),U.append("g").attr("class","stack1Wrap"),U.append("g").attr("class","stack2Wrap"),U.append("g").attr("class","bars1Wrap"),U.append("g").attr("class","bars2Wrap"),U.append("g").attr("class","scatters1Wrap"),U.append("g").attr("class","scatters2Wrap"),U.append("g").attr("class","lines1Wrap"),U.append("g").attr("class","lines2Wrap"),U.append("g").attr("class","legendWrap"),U.append("g").attr("class","nv-interactive");var Z=G.select("g"),K=l.map((function(t,e){return l[e].color||o(t,e)}));if(s){var $=P.align()?m/2:m,J=P.align()?$:0;P.width($),P.color(K),Z.select(".legendWrap").datum(l.map((function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":v),t}))).call(P),i||P.height()===r.top||(r.top=P.height(),j=e.utils.availableHeight(u,h,r)),Z.select(".legendWrap").attr("transform","translate("+J+","+-r.top+")")}else Z.select(".legendWrap").selectAll("*").remove();k.width(m).height(j).interpolate(d).color(K.filter((function(t,e){return!l[e].disabled&&1==l[e].yAxis&&"line"==l[e].type}))),w.width(m).height(j).interpolate(d).color(K.filter((function(t,e){return!l[e].disabled&&2==l[e].yAxis&&"line"==l[e].type}))),M.width(m).height(j).color(K.filter((function(t,e){return!l[e].disabled&&1==l[e].yAxis&&"scatter"==l[e].type}))),S.width(m).height(j).color(K.filter((function(t,e){return!l[e].disabled&&2==l[e].yAxis&&"scatter"==l[e].type}))),_.width(m).height(j).color(K.filter((function(t,e){return!l[e].disabled&&1==l[e].yAxis&&"bar"==l[e].type}))),A.width(m).height(j).color(K.filter((function(t,e){return!l[e].disabled&&2==l[e].yAxis&&"bar"==l[e].type}))),C.width(m).height(j).interpolate(d).color(K.filter((function(t,e){return!l[e].disabled&&1==l[e].yAxis&&"area"==l[e].type}))),E.width(m).height(j).interpolate(d).color(K.filter((function(t,e){return!l[e].disabled&&2==l[e].yAxis&&"area"==l[e].type}))),Z.attr("transform","translate("+r.left+","+r.top+")");var Q=Z.select(".lines1Wrap").datum(W.filter((function(t){return!t.disabled}))),tt=Z.select(".scatters1Wrap").datum(I.filter((function(t){return!t.disabled}))),et=Z.select(".bars1Wrap").datum(H.filter((function(t){return!t.disabled}))),nt=Z.select(".stack1Wrap").datum(q.filter((function(t){return!t.disabled}))),rt=Z.select(".lines2Wrap").datum(F.filter((function(t){return!t.disabled}))),it=Z.select(".scatters2Wrap").datum(R.filter((function(t){return!t.disabled}))),ot=Z.select(".bars2Wrap").datum(B.filter((function(t){return!t.disabled}))),at=Z.select(".stack2Wrap").datum(V.filter((function(t){return!t.disabled}))),ut=[];_.stacked()&&H.length&&((ut=H.filter((function(t){return!t.disabled})).map((function(t){return t.values}))).length>0&&(ut=ut.reduce((function(t,e){return t.map((function(t,n){return{x:t.x,y:t.y+e[n].y}}))}))));H.length&&ut.push({x:0,y:0});var st=[];A.stacked()&&B.length&&((st=B.filter((function(t){return!t.disabled})).map((function(t){return t.values}))).length>0&&(st=st.reduce((function(t,e){return t.map((function(t,n){return{x:t.x,y:t.y+e[n].y}}))}))));function lt(t){var e=2===t.series.yAxis?T:N;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},L.duration(0).headerFormatter((function(t,e){return O.tickFormat()(t,e)})).valueFormatter((function(t,n){return e.tickFormat()(t,n)})).data(t).hidden(!1)}function ct(t){var e=2===t.series.yAxis?T:N;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},L.duration(100).headerFormatter((function(t,e){return O.tickFormat()(t,e)})).valueFormatter((function(t,n){return e.tickFormat()(t,n)})).data(t).hidden(!1)}function ft(t){var e=2===t.series.yAxis?T:N;t.point.x=C.x()(t.point),t.point.y=C.y()(t.point),L.duration(0).headerFormatter((function(t,e){return O.tickFormat()(t,e)})).valueFormatter((function(t,n){return e.tickFormat()(t,n)})).data(t).hidden(!1)}function dt(t){var e=2===t.series.yAxis?T:N;t.value=_.x()(t.data),t.series={value:_.y()(t.data),color:t.color,key:t.data.key},L.duration(0).headerFormatter((function(t,e){return O.tickFormat()(t,e)})).valueFormatter((function(t,n){return e.tickFormat()(t,n)})).data(t).hidden(!1)}function ht(){for(var t=0,e=D.length;t<e;t++){var n=D[t];try{n.clearHighlights()}catch(r){}}}B.length&&st.push({x:0,y:0}),b.domain(t||d3.extent(d3.merge(Y).concat(ut),(function(t){return t.y}))).range([0,j]),x.domain(n||d3.extent(d3.merge(X).concat(st),(function(t){return t.y}))).range([0,j]),k.yDomain(b.domain()),M.yDomain(b.domain()),_.yDomain(b.domain()),C.yDomain(b.domain()),w.yDomain(x.domain()),S.yDomain(x.domain()),A.yDomain(x.domain()),E.yDomain(x.domain()),q.length&&d3.transition(nt).call(C),V.length&&d3.transition(at).call(E),H.length&&d3.transition(et).call(_),B.length&&d3.transition(ot).call(A),W.length&&d3.transition(Q).call(k),F.length&&d3.transition(rt).call(w),I.length&&d3.transition(tt).call(M),R.length&&d3.transition(it).call(S),O._ticks(e.utils.calcTicksX(m/100,l)).tickSize(-j,0),Z.select(".nv-x.nv-axis").attr("transform","translate(0,"+j+")"),d3.transition(Z.select(".nv-x.nv-axis")).call(O),N._ticks(e.utils.calcTicksY(j/36,l)).tickSize(-m,0),d3.transition(Z.select(".nv-y1.nv-axis")).call(N),T._ticks(e.utils.calcTicksY(j/36,l)).tickSize(-m,0),d3.transition(Z.select(".nv-y2.nv-axis")).call(T),Z.select(".nv-y1.nv-axis").classed("nv-disabled",!Y.length).attr("transform","translate("+y.range()[0]+",0)"),Z.select(".nv-y2.nv-axis").classed("nv-disabled",!X.length).attr("transform","translate("+y.range()[1]+",0)"),P.dispatch.on("stateChange",(function(t){z.update()})),g&&(p.width(m).height(j).margin({left:r.left,top:r.top}).svgContainer(h).xScale(y),G.select(".nv-interactive").call(p)),g?(p.dispatch.on("elementMousemove",(function(t){ht();var n,r,i,a=[];l.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(u,s){var l=y.domain(),c=u.values.filter((function(t,e){return z.x()(t,e)>=l[0]&&z.x()(t,e)<=l[1]})),f=c[r=e.interactiveBisect(c,t.pointXValue,z.x())],d=z.y()(f,r);null!==d&&function(e,n,r){for(var i=0,o=D.length;i<o;i++){var a=D[i];try{a.highlightPoint(e,n,r)}catch(t){}}}(s,r,!0),void 0!==f&&(void 0===n&&(n=f),void 0===i&&(i=y(z.x()(f,r))),a.push({key:u.key,value:d,color:o(u,u.seriesIndex),data:f,yAxis:2==u.yAxis?T:N}))}));p.tooltip.headerFormatter((function(t,e){return O.tickFormat()(t,e)})).valueFormatter(p.tooltip.valueFormatter()||function(t,e){var n=a[e].yAxis;return null==t?"N/A":n.tickFormat()(t)}).data({value:z.x()(n,r),index:r,series:a})(),p.renderGuideLine(i)})),p.dispatch.on("elementMouseout",(function(t){ht()}))):(k.dispatch.on("elementMouseover.tooltip",lt),w.dispatch.on("elementMouseover.tooltip",lt),k.dispatch.on("elementMouseout.tooltip",(function(t){L.hidden(!0)})),w.dispatch.on("elementMouseout.tooltip",(function(t){L.hidden(!0)})),M.dispatch.on("elementMouseover.tooltip",ct),S.dispatch.on("elementMouseover.tooltip",ct),M.dispatch.on("elementMouseout.tooltip",(function(t){L.hidden(!0)})),S.dispatch.on("elementMouseout.tooltip",(function(t){L.hidden(!0)})),C.dispatch.on("elementMouseover.tooltip",ft),E.dispatch.on("elementMouseover.tooltip",ft),C.dispatch.on("elementMouseout.tooltip",(function(t){L.hidden(!0)})),E.dispatch.on("elementMouseout.tooltip",(function(t){L.hidden(!0)})),_.dispatch.on("elementMouseover.tooltip",dt),A.dispatch.on("elementMouseover.tooltip",dt),_.dispatch.on("elementMouseout.tooltip",(function(t){L.hidden(!0)})),A.dispatch.on("elementMouseout.tooltip",(function(t){L.hidden(!0)})),_.dispatch.on("elementMousemove.tooltip",(function(t){L()})),A.dispatch.on("elementMousemove.tooltip",(function(t){L()})))})),z}return z.dispatch=j,z.legend=P,z.lines1=k,z.lines2=w,z.scatters1=M,z.scatters2=S,z.bars1=_,z.bars2=A,z.stack1=C,z.stack2=E,z.xAxis=O,z.yAxis1=N,z.yAxis2=T,z.tooltip=L,z.interactiveLayer=p,z.options=e.utils.optionsFunc.bind(z),z._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return s},set:function(t){s=t}},yDomain1:{get:function(){return t},set:function(e){t=e}},yDomain2:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return l},set:function(t){l=t}},interpolate:{get:function(){return d},set:function(t){d=t}},legendRightAxisHint:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return r},set:function(t){void 0!==t.top&&(r.top=t.top,i=t.top),r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return o},set:function(t){o=e.utils.getColor(t)}},x:{get:function(){return c},set:function(t){c=t,k.x(t),w.x(t),M.x(t),S.x(t),_.x(t),A.x(t),C.x(t),E.x(t)}},y:{get:function(){return f},set:function(t){f=t,k.y(t),w.y(t),M.y(t),S.y(t),C.y(t),E.y(t),_.y(t),A.y(t)}},useVoronoi:{get:function(){return h},set:function(t){h=t,k.useVoronoi(t),w.useVoronoi(t),C.useVoronoi(t),E.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return g},set:function(t){(g=t)&&(k.interactive(!1),k.useVoronoi(!1),w.interactive(!1),w.useVoronoi(!1),C.interactive(!1),C.useVoronoi(!1),E.interactive(!1),E.useVoronoi(!1),M.interactive(!1),S.interactive(!1))}},duration:{get:function(){return m},set:function(t){m=t,[k,w,C,E,M,S,O,N,T].forEach((function(t){t.duration(m)}))}}}),e.utils.initOptions(z),z},e.models.ohlcBar=function(){"use strict";var t,n,r,i,o={top:0,right:0,bottom:0,left:0},a=null,u=null,s=Math.floor(1e4*Math.random()),l=null,c=d3.scale.linear(),f=d3.scale.linear(),d=function(t){return t.x},h=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},m=function(t){return t.low},y=[],b=[],x=!1,k=!0,w=e.utils.defaultColor(),M=!1,S=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function _(M){return M.each((function(M){l=d3.select(this);var _=e.utils.availableWidth(a,l,o),A=e.utils.availableHeight(u,l,o);e.utils.initSVG(l);var C=_/M[0].values.length*.9;c.domain(t||d3.extent(M[0].values.map(d).concat(y))),x?c.range(r||[.5*_/M[0].values.length,_*(M[0].values.length-.5)/M[0].values.length]):c.range(r||[5+C/2,_-C/2-5]),f.domain(n||[d3.min(M[0].values.map(m).concat(b)),d3.max(M[0].values.map(v).concat(b))]).range(i||[A,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var E=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([M[0].values]),O=E.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),N=O.append("defs"),T=O.append("g"),P=E.select("g");T.append("g").attr("class","nv-ticks"),E.attr("transform","translate("+o.left+","+o.top+")"),l.on("click",(function(t,e){S.chartClick({data:t,index:e,pos:d3.event,id:s})})),N.append("clipPath").attr("id","nv-chart-clip-path-"+s).append("rect"),E.select("#nv-chart-clip-path-"+s+" rect").attr("width",_).attr("height",A),P.attr("clip-path",k?"url(#nv-chart-clip-path-"+s+")":"");var L=E.select(".nv-ticks").selectAll(".nv-tick").data((function(t){return t}));L.exit().remove(),L.enter().append("path").attr("class",(function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e})).attr("d",(function(t,e){return"m0,0l0,"+(f(p(t,e))-f(v(t,e)))+"l"+-C/2+",0l"+C/2+",0l0,"+(f(m(t,e))-f(p(t,e)))+"l0,"+(f(g(t,e))-f(m(t,e)))+"l"+C/2+",0l"+-C/2+",0z"})).attr("transform",(function(t,e){return"translate("+c(d(t,e))+","+f(v(t,e))+")"})).attr("fill",(function(t,e){return w[0]})).attr("stroke",(function(t,e){return w[0]})).attr("x",0).attr("y",(function(t,e){return f(Math.max(0,h(t,e)))})).attr("height",(function(t,e){return Math.abs(f(h(t,e))-f(0))})),L.attr("class",(function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e})),d3.transition(L).attr("transform",(function(t,e){return"translate("+c(d(t,e))+","+f(v(t,e))+")"})).attr("d",(function(t,e){var n=_/M[0].values.length*.9;return"m0,0l0,"+(f(p(t,e))-f(v(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(f(m(t,e))-f(p(t,e)))+"l0,"+(f(g(t,e))-f(m(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}))})),_}return _.highlightPoint=function(t,e){_.clearHighlights(),l.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},_.clearHighlights=function(){l.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},_.dispatch=S,_.options=e.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return i},set:function(t){i=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return b},set:function(t){b=t}},padData:{get:function(){return x},set:function(t){x=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return s},set:function(t){s=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return w},set:function(t){w=e.utils.getColor(t)}}}),e.utils.initOptions(_),_},e.models.parallelCoordinates=function(){"use strict";var t,n,r,i={top:30,right:0,bottom:10,left:0},o=null,a=null,u=null,s=null,l=d3.scale.ordinal(),c={},f="undefined values",d=[],h=[],p=[],g=!0,v=e.utils.defaultColor(),m=[],y=[],b=[],x=[],k=1,w=d3.svg.line(),M=d3.svg.axis(),S=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),_=e.utils.renderWatch(S);function A(C){return _.reset(),C.each((function(_){var A=d3.select(this);if(u=e.utils.availableWidth(o,A,i),s=e.utils.availableHeight(a,A,i),e.utils.initSVG(A),void 0===_[0].values){var C=[];_.forEach((function(t){var e={};Object.keys(t).forEach((function(n){"name"!==n&&(e[n]=t[n])})),C.push({key:t.name,values:e})})),_=C}var E=_.map((function(t){return t.values}));0===y.length&&(y=_),p=d.sort((function(t,e){return t.currentPosition-e.currentPosition})).map((function(t){return t.key})),h=d.filter((function(t){return!t.disabled})),l.rangePoints([0,u],1).domain(h.map((function(t){return t.key})));var O={},N=!1,T=[];p.forEach((function(t){var e=d3.extent(E,(function(e){return+e[t]})),n=e[0],r=e[1],i=!1;(isNaN(n)||isNaN(r))&&(i=!0,n=0,r=0),n===r&&(n-=1,r+=1);var o=m.filter((function(e){return e.dimension==t}));0!==o.length&&(i?(n=c[t].domain()[0],r=c[t].domain()[1]):!o[0].hasOnlyNaN&&g?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,O[t]=c[t].domain()[1],N=!0)),c[t]=d3.scale.linear().domain([n,r]).range([.9*(s-12),0]),x=[],c[t].brush=d3.svg.brush().y(c[t]).on("brushstart",X).on("brush",G).on("brushend",U)}));var P=A.selectAll("g.nv-wrap.nv-parallelCoordinates").data([_]),L=P.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),j=P.select("g");L.append("g").attr("class","nv-parallelCoordinates background"),L.append("g").attr("class","nv-parallelCoordinates foreground"),L.append("g").attr("class","nv-parallelCoordinates missingValuesline"),P.attr("transform","translate("+i.left+","+i.top+")"),w.interpolate("cardinal").tension(k),M.orient("left");var D,z,W=d3.behavior.drag().on("dragstart",(function(t){b[t.key]=this.parentNode.__origin__=l(t.key),n.attr("visibility","hidden")})).on("drag",(function(e){b[e.key]=Math.min(u,Math.max(0,this.parentNode.__origin__+=d3.event.x)),t.attr("d",V),h.sort((function(t,e){return K(t.key)-K(e.key)})),h.forEach((function(t,e){return t.currentPosition=e})),l.domain(h.map((function(t){return t.key}))),r.attr("transform",(function(t){return"translate("+K(t.key)+")"}))})).on("dragend",(function(e,r){delete this.parentNode.__origin__,delete b[e.key],d3.select(this.parentNode).attr("transform","translate("+l(e.key)+")"),t.attr("d",V),n.attr("d",V).attr("visibility",null),S.dimensionsOrder(h)})),F=l.range()[1]-l.range()[0];if(F=isNaN(F)?l.range()[0]:F,!isNaN(F)){var I=[0+F/2,s-12,u-F/2,s-12];(D=P.select(".missingValuesline").selectAll("line").data([I])).enter().append("line"),D.exit().remove(),D.attr("x1",(function(t){return t[0]})).attr("y1",(function(t){return t[1]})).attr("x2",(function(t){return t[2]})).attr("y2",(function(t){return t[3]})),(z=P.select(".missingValuesline").selectAll("text").data([f])).append("text").data([f]),z.enter().append("text"),z.exit().remove(),z.attr("y",s).attr("x",u-92-F/2).text((function(t){return t}))}(n=P.select(".background").selectAll("path").data(_)).enter().append("path"),n.exit().remove(),n.attr("d",V),(t=P.select(".foreground").selectAll("path").data(_)).enter().append("path"),t.exit().remove(),t.attr("d",V).style("stroke-width",(function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth})).attr("stroke",(function(t,e){return t.color||v(t,e)})),t.on("mouseover",(function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),S.elementMouseover({label:t.name,color:t.color||v(t,e),values:t.values,dimensions:h})})),t.on("mouseout",(function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),S.elementMouseout({label:t.name,index:e})})),t.on("mousemove",(function(t,e){S.elementMousemove()})),t.on("click",(function(t){S.elementClick({id:t.id})}));var R=(r=j.selectAll(".dimension").data(h)).enter().append("g").attr("class","nv-parallelCoordinates dimension");r.attr("transform",(function(t){return"translate("+l(t.key)+",0)"})),R.append("g").attr("class","nv-axis"),R.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",(function(t,e){S.elementMouseover({label:t.tooltip||t.key,color:t.color})})).on("mouseout",(function(t,e){S.elementMouseout({label:t.tooltip})})).on("mousemove",(function(t,e){S.elementMousemove()})).call(W),R.append("g").attr("class","nv-brushBackground"),r.exit().remove(),r.select(".nv-label").text((function(t){return t.key})),Y(g);var H=p.filter((function(t){return!c[t].brush.empty()})),B=H.map((function(t){return c[t].brush.extent()})),q=y.slice(0);function V(t){return w(h.map((function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||N){var n=c[e.key].domain(),r=c[e.key].range(),i=n[0]-(n[1]-n[0])/9;if(x.indexOf(e.key)<0){var o=d3.scale.linear().domain([i,n[1]]).range([s-12,r[1]]);c[e.key].brush.y(o),x.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[l(e.key),c[e.key](i)]}return void 0!==D&&(x.length>0||N?(D.style("display","inline"),z.style("display","inline")):(D.style("display","none"),z.style("display","none"))),[l(e.key),c[e.key](t.values[e.key])]})))}function Y(t){m.forEach((function(e){var n=c[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(c[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(O[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&c[e.dimension].brush.extent(e.extent)})),r.select(".nv-brushBackground").each((function(t){d3.select(this).call(c[t.key].brush)})).selectAll("rect").attr("x",-8).attr("width",16),Z()}function X(){!1===g&&(g=!0,Y(!0))}function G(){H=p.filter((function(t){return!c[t].brush.empty()})),B=H.map((function(t){return c[t].brush.extent()})),m=[],H.forEach((function(t,e){m[e]={dimension:t,extent:B[e],hasNaN:!1,hasOnlyNaN:!1}})),y=[],t.style("display",(function(t){var e=H.every((function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||B[n][0]!=c[e].brush.y().domain()[0])||B[n][0]<=t.values[e]&&t.values[e]<=B[n][1]&&!isNaN(parseFloat(t.values[e]))}));return e&&y.push(t),e?null:"none"})),Z(),S.brush({filters:m,active:y})}function U(){var t=H.length>0;m.forEach((function(t){t.extent[0]===c[t.dimension].brush.y().domain()[0]&&x.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<c[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)})),S.brushEnd(y,t)}function Z(){r.select(".nv-axis").each((function(t,e){var n=m.filter((function(e){return e.dimension==t.key}));T[t.key]=c[t.key].domain(),0!=n.length&&g&&(T[t.key]=[],n[0].extent[1]>c[t.key].domain()[0]&&(T[t.key]=[n[0].extent[1]]),n[0].extent[0]>=c[t.key].domain()[0]&&T[t.key].push(n[0].extent[0])),d3.select(this).call(M.scale(c[t.key]).tickFormat(t.format).tickValues(T[t.key]))}))}function K(t){var e=b[t];return null==e?l(t):e}y=[],t.style("display",(function(t){var e=H.every((function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||B[n][0]!=c[e].brush.y().domain()[0])||B[n][0]<=t.values[e]&&t.values[e]<=B[n][1]&&!isNaN(parseFloat(t.values[e]))}));return e&&y.push(t),e?null:"none"})),(m.length>0||!e.utils.arrayEquals(y,q))&&S.activeChanged(y)})),A}return A.dispatch=S,A.options=e.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return g},set:function(t){g=t}},filters:{get:function(){return m},set:function(t){m=t}},active:{get:function(){return y},set:function(t){y=t}},lineTension:{get:function(){return k},set:function(t){k=t}},undefinedValuesLabel:{get:function(){return f},set:function(t){f=t}},dimensions:{get:function(){return d.map((function(t){return t.key}))},set:function(t){e.deprecated("dimensions","use dimensionData instead"),0===d.length?t.forEach((function(t){d.push({key:t})})):t.forEach((function(t,e){d[e].key=t}))}},dimensionNames:{get:function(){return d.map((function(t){return t.key}))},set:function(t){e.deprecated("dimensionNames","use dimensionData instead"),p=[],0===d.length?t.forEach((function(t){d.push({key:t})})):t.forEach((function(t,e){d[e].key=t}))}},dimensionFormats:{get:function(){return d.map((function(t){return t.format}))},set:function(t){e.deprecated("dimensionFormats","use dimensionData instead"),0===d.length?t.forEach((function(t){d.push({format:t})})):t.forEach((function(t,e){d[e].format=t}))}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return v},set:function(t){v=e.utils.getColor(t)}}}),e.utils.initOptions(A),A},e.models.parallelCoordinatesChart=function(){"use strict";var t=e.models.parallelCoordinates(),n=e.models.legend(),r=e.models.tooltip(),i=(e.models.tooltip(),{top:0,right:0,bottom:0,left:0}),o=null,a=null,u=null,s=!0,l=e.utils.defaultColor(),c=e.utils.state(),f=[],d=!0,h=null,p=null,g="undefined",v=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),m=e.utils.renderWatch(v);function y(r){return m.reset(),m.models(t),r.each((function(r){var l=d3.select(this);e.utils.initSVG(l);var p,g=e.utils.availableWidth(a,l,i),m=e.utils.availableHeight(u,l,i);if(y.update=function(){l.call(y)},y.container=this,c.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(f),y.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(f)).update(),c.disabled=f.map((function(t){return!!t.disabled})),(f=f.map((function(t){return t.disabled=!!t.disabled,t}))).forEach((function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition})),!h)for(p in h={},c)c[p]instanceof Array?h[p]=c[p].slice(0):h[p]=c[p];if(!r||!r.length)return e.utils.noData(y,l),y;l.selectAll(".nv-noData").remove();var b=l.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([r]),x=b.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),k=b.select("g");x.append("g").attr("class","nv-parallelCoordinatesWrap"),x.append("g").attr("class","nv-legendWrap"),k.select("rect").attr("width",g).attr("height",m>0?m:0),s?(n.width(g).color((function(t){return"rgb(188,190,192)"})),k.select(".nv-legendWrap").datum(f.sort((function(t,e){return t.originalPosition-e.originalPosition}))).call(n),o||n.height()===i.top||(i.top=n.height(),m=e.utils.availableHeight(u,l,i)),b.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-i.top+")")):k.select(".nv-legendWrap").selectAll("*").remove(),b.attr("transform","translate("+i.left+","+i.top+")"),t.width(g).height(m).dimensionData(f).displayBrush(d),k.select(".nv-parallelCoordinatesWrap ").datum(r).transition().call(t),t.dispatch.on("brushEnd",(function(t,e){e?(d=!0,v.brushEnd(t)):d=!1})),n.dispatch.on("stateChange",(function(t){for(var e in t)c[e]=t[e];v.stateChange(c),y.update()})),t.dispatch.on("dimensionsOrder",(function(t){f.sort((function(t,e){return t.currentPosition-e.currentPosition}));var e=!1;f.forEach((function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)})),v.dimensionsOrder(f,e)})),v.on("changeState",(function(t){"undefined"!==typeof t.disabled&&(f.forEach((function(e,n){e.disabled=t.disabled[n]})),c.disabled=t.disabled),y.update()}))})),m.renderEnd("parraleleCoordinateChart immediate"),y}return r.contentGenerator((function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach((function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"})),e+="</tbody>"),e+="</table>"})),t.dispatch.on("elementMouseover.tooltip",(function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach((function(n){var r,i=t.dimensions.filter((function(t){return t.key===n}))[0];i&&(r=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?g:i.format(t.values[n]),e.series.push({idx:i.currentPosition,key:n,value:r,color:i.color}))})),e.series.sort((function(t,e){return t.idx-e.idx}))),r.data(e).hidden(!1)})),t.dispatch.on("elementMouseout.tooltip",(function(t){r.hidden(!0)})),t.dispatch.on("elementMousemove.tooltip",(function(){r()})),y.dispatch=v,y.parallelCoordinates=t,y.legend=n,y.tooltip=r,y.options=e.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return s},set:function(t){s=t}},defaultState:{get:function(){return h},set:function(t){h=t}},dimensionData:{get:function(){return f},set:function(t){f=t}},displayBrush:{get:function(){return d},set:function(t){d=t}},noData:{get:function(){return p},set:function(t){p=t}},nanValue:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return l},set:function(r){l=e.utils.getColor(r),n.color(l),t.color(l)}}}),e.utils.inheritOptions(y,t),e.utils.initOptions(y),y},e.models.pie=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},n=500,r=500,i=function(t){return t.x},o=function(t){return t.y},a=Math.floor(1e4*Math.random()),u=null,s=e.utils.defaultColor(),l=d3.format(",.2f"),c=!0,f=!1,d="key",h=.02,p=!1,g=!1,v=!1,m=!0,y=0,b=!1,x=!1,k=!1,w=!1,M=0,S=.5,_=250,A=[],C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=[],O=[],N=e.utils.renderWatch(C);function T(P){return N.reset(),P.each((function(T){var P=n-t.left-t.right,L=r-t.top-t.bottom,j=Math.min(P,L)/2,D=[],z=[];if(u=d3.select(this),0===A.length)for(var W=j-j/10,F=S*j,I=0;I<T[0].length;I++)D.push(W),z.push(F);else m?(D=A.map((function(t){return(t.outer-t.outer/10)*j})),z=A.map((function(t){return(t.inner-t.inner/10)*j})),S=d3.min(A.map((function(t){return t.inner-t.inner/10})))):(D=A.map((function(t){return t.outer*j})),z=A.map((function(t){return t.inner*j})),S=d3.min(A.map((function(t){return t.inner}))));e.utils.initSVG(u);var R=u.selectAll(".nv-wrap.nv-pie").data(T),H=R.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+a).append("g"),B=R.select("g"),q=H.append("g").attr("class","nv-pie");H.append("g").attr("class","nv-pieLabels"),R.attr("transform","translate("+t.left+","+t.top+")"),B.select(".nv-pie").attr("transform","translate("+P/2+","+L/2+")"),B.select(".nv-pieLabels").attr("transform","translate("+P/2+","+L/2+")"),u.on("click",(function(t,e){C.chartClick({data:t,index:e,pos:d3.event,id:a})})),E=[],O=[];for(I=0;I<T[0].length;I++){var V=d3.svg.arc().outerRadius(D[I]),Y=d3.svg.arc().outerRadius(D[I]+5);!1!==x&&(V.startAngle(x),Y.startAngle(x)),!1!==w&&(V.endAngle(w),Y.endAngle(w)),g&&(V.innerRadius(z[I]),Y.innerRadius(z[I])),V.cornerRadius&&M&&(V.cornerRadius(M),Y.cornerRadius(M)),E.push(V),O.push(Y)}var X=d3.layout.pie().sort(null).value((function(t){return t.disabled?0:o(t)}));X.padAngle&&k&&X.padAngle(k),g&&v&&(q.append("text").attr("class","nv-pie-title"),R.select(".nv-pie-title").style("text-anchor","middle").text((function(t){return v})).style("font-size",Math.min(P,L)*S*2/(v.length+2)+"px").attr("dy","0.35em").attr("transform",(function(t,e){return"translate(0, "+y+")"})));var G=R.select(".nv-pie").selectAll(".nv-slice").data(X),U=R.select(".nv-pieLabels").selectAll(".nv-label").data(X);G.exit().remove(),U.exit().remove();var Z=G.enter().append("g");Z.attr("class","nv-slice"),Z.on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),m&&d3.select(this).select("path").transition().duration(70).attr("d",O[e]),C.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})})),Z.on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),m&&d3.select(this).select("path").transition().duration(50).attr("d",E[e]),C.elementMouseout({data:t.data,index:e})})),Z.on("mousemove",(function(t,e){C.elementMousemove({data:t.data,index:e})})),Z.on("click",(function(t,e){C.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})})),Z.on("dblclick",(function(t,e){C.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})})),G.attr("fill",(function(t,e){return s(t.data,e)})),G.attr("stroke",(function(t,e){return s(t.data,e)}));Z.append("path").each((function(t){this._current=t}));if(G.select("path").transition().duration(_).attr("d",(function(t,e){return E[e](t)})).attrTween("d",(function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,g||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return E[e](n(t))}})),c){var K=[];for(I=0;I<T[0].length;I++)K.push(E[I]),f?g&&(K[I]=d3.svg.arc().outerRadius(E[I].outerRadius()),!1!==x&&K[I].startAngle(x),!1!==w&&K[I].endAngle(w)):g||K[I].innerRadius(0);U.enter().append("g").classed("nv-label",!0).each((function(t,e){var n=d3.select(this);n.attr("transform",(function(t,e){if(b){t.outerRadius=D[e]+10,t.innerRadius=D[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+K[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=j+10,t.innerRadius=j+15,"translate("+K[e].centroid(t)+")"})),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",b?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")}));var $={},J=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},Q=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};U.watchTransition(N,"pie labels").attr("transform",(function(t,e){if(b){t.outerRadius=D[e]+10,t.innerRadius=D[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+K[e].centroid(t)+") rotate("+n+")"}t.outerRadius=j+10,t.innerRadius=j+15;var r=K[e].centroid(t),i=Q(t);if(t.value&&i>=h){var o=J(r);$[o]&&(r[1]-=14),$[J(r)]=!0}return"translate("+r+")"})),U.select(".nv-label text").style("text-anchor",(function(t,e){return b?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"})).text((function(t,e){var n=Q(t),r="";if(!t.value||n<h)return"";if("function"===typeof d)r=d(t,e,{key:i(t.data),value:o(t.data),percent:l(n)});else switch(d){case"key":r=i(t.data);break;case"value":r=l(o(t.data));break;case"percent":r=d3.format("%")(n)}return r})),p&&U.each((function(t,n){if(this.getBBox){var r=this.getBBox(),i=K[n].centroid(t),o={x:i[0]+r.x,y:i[1]+r.y},a={x:o.x+r.width,y:o.y},u={x:o.x,y:o.y+r.height},s={x:o.x+r.width,y:o.y+r.height};t.visible=e.utils.pointIsInArc(o,t,V)&&e.utils.pointIsInArc(a,t,V)&&e.utils.pointIsInArc(u,t,V)&&e.utils.pointIsInArc(s,t,V)}})).style("display",(function(t){return t.visible?null:"none"}))}})),N.renderEnd("pie immediate"),T}return T.dispatch=C,T.options=e.utils.optionsFunc.bind(T),T._options=Object.create({},{arcsRadius:{get:function(){return A},set:function(t){A=t}},width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return r},set:function(t){r=t}},showLabels:{get:function(){return c},set:function(t){c=t}},title:{get:function(){return v},set:function(t){v=t}},titleOffset:{get:function(){return y},set:function(t){y=t}},labelThreshold:{get:function(){return h},set:function(t){h=t}},hideOverlapLabels:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return l},set:function(t){l=t}},x:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return a},set:function(t){a=t}},endAngle:{get:function(){return w},set:function(t){w=t}},startAngle:{get:function(){return x},set:function(t){x=t}},padAngle:{get:function(){return k},set:function(t){k=t}},cornerRadius:{get:function(){return M},set:function(t){M=t}},donutRatio:{get:function(){return S},set:function(t){S=t}},labelsOutside:{get:function(){return f},set:function(t){f=t}},labelSunbeamLayout:{get:function(){return b},set:function(t){b=t}},donut:{get:function(){return g},set:function(t){g=t}},growOnHover:{get:function(){return m},set:function(t){m=t}},pieLabelsOutside:{get:function(){return f},set:function(t){f=t,e.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return f},set:function(t){f=t,e.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return l},set:function(t){l=t,e.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top="undefined"!=typeof e.top?e.top:t.top,t.right="undefined"!=typeof e.right?e.right:t.right,t.bottom="undefined"!=typeof e.bottom?e.bottom:t.bottom,t.left="undefined"!=typeof e.left?e.left:t.left}},duration:{get:function(){return _},set:function(t){_=t,N.reset(_)}},y:{get:function(){return o},set:function(t){o=d3.functor(t)}},color:{get:function(){return s},set:function(t){s=e.utils.getColor(t)}},labelType:{get:function(){return d},set:function(t){d=t||"key"}}}),e.utils.initOptions(T),T},e.models.pieChart=function(){"use strict";var t=e.models.pie(),n=e.models.legend(),r=e.models.tooltip(),i={top:30,right:20,bottom:20,left:20},o=null,a=null,u=null,s=!1,l=!0,c="top",f=e.utils.defaultColor(),d=e.utils.state(),h=null,p=null,g=250,v=d3.dispatch("stateChange","changeState","renderEnd");r.duration(0).headerEnabled(!1).valueFormatter((function(e,n){return t.valueFormat()(e,n)}));var m=e.utils.renderWatch(v);function y(r){return m.reset(),m.models(t),r.each((function(r){var s=d3.select(this);e.utils.initSVG(s);var f,p=e.utils.availableWidth(a,s,i),g=e.utils.availableHeight(u,s,i);if(y.update=function(){s.transition().call(y)},y.container=this,d.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(r),y.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(r)).update(),d.disabled=r.map((function(t){return!!t.disabled})),!h)for(f in h={},d)d[f]instanceof Array?h[f]=d[f].slice(0):h[f]=d[f];if(!r||!r.length)return e.utils.noData(y,s),y;s.selectAll(".nv-noData").remove();var m=s.selectAll("g.nv-wrap.nv-pieChart").data([r]),b=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),x=m.select("g");if(b.append("g").attr("class","nv-pieWrap"),b.append("g").attr("class","nv-legendWrap"),l)if("top"===c)n.width(p).key(t.x()),m.select(".nv-legendWrap").datum(r).call(n),o||n.height()===i.top||(i.top=n.height(),g=e.utils.availableHeight(u,s,i)),m.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")");else if("right"===c){var k=e.models.legend().width();p/2<k&&(k=p/2),n.height(g).key(t.x()),n.width(k),p-=n.width(),m.select(".nv-legendWrap").datum(r).call(n).attr("transform","translate("+p+",0)")}else"bottom"===c&&(n.width(p).key(t.x()),m.select(".nv-legendWrap").datum(r).call(n),i.bottom=n.height(),g=e.utils.availableHeight(u,s,i),m.select(".nv-legendWrap").attr("transform","translate(0,"+g+")"));else x.select(".nv-legendWrap").selectAll("*").remove();m.attr("transform","translate("+i.left+","+i.top+")"),t.width(p).height(g);var w=x.select(".nv-pieWrap").datum([r]);d3.transition(w).call(t),n.dispatch.on("stateChange",(function(t){for(var e in t)d[e]=t[e];v.stateChange(d),y.update()})),v.on("changeState",(function(t){"undefined"!==typeof t.disabled&&(r.forEach((function(e,n){e.disabled=t.disabled[n]})),d.disabled=t.disabled),y.update()}))})),m.renderEnd("pieChart immediate"),y}return t.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:y.x()(t.data),value:y.y()(t.data),color:t.color,percent:t.percent},s||(delete t.percent,delete t.series.percent),r.data(t).hidden(!1)})),t.dispatch.on("elementMouseout.tooltip",(function(t){r.hidden(!0)})),t.dispatch.on("elementMousemove.tooltip",(function(t){r()})),y.legend=n,y.dispatch=v,y.pie=t,y.tooltip=r,y.options=e.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},noData:{get:function(){return p},set:function(t){p=t}},showTooltipPercent:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},legendPosition:{get:function(){return c},set:function(t){c=t}},defaultState:{get:function(){return h},set:function(t){h=t}},color:{get:function(){return f},set:function(e){f=e,n.color(f),t.color(f)}},duration:{get:function(){return g},set:function(e){g=e,m.reset(g),t.duration(g)}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),e.utils.inheritOptions(y,t),e.utils.initOptions(y),y},e.models.sankey=function(){"use strict";var t={},n=24,r=8,i=[1,1],o=[],a=[],u=!0,s=function(t){o.forEach((function(t){t.sourceLinks=[],t.targetLinks=[]})),a.forEach((function(t){var e=t.source,n=t.target;"number"===typeof e&&(e=t.source=o[t.source]),"number"===typeof n&&(n=t.target=o[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})),o.forEach((function(t){t.value=Math.max(d3.sum(t.sourceLinks,d),d3.sum(t.targetLinks,d))})),function(){var t,e=o,r=0;for(;e.length&&r<o.length;)t=[],e.forEach((function(e){e.x=r,e.dx=n,e.sourceLinks.forEach((function(e){t.indexOf(e.target)<0&&t.push(e.target)}))})),e=t,++r;u&&function(t){o.forEach((function(e){e.sourceLinks.length||(e.x=t-1)}))}(r);a=(i[0]-n)/(r-1),o.forEach((function(t){t.x*=a}));var a}(),function(t){var e=d3.nest().key((function(t){return t.x})).sortKeys(d3.ascending).entries(o).map((function(t){return t.values}));(function(){var t=d3.min(e,(function(t){return(i[1]-(t.length-1)*r)/d3.sum(t,d)}));e.forEach((function(e){e.forEach((function(e,n){e.y=n,e.dy=e.value*t}))})),a.forEach((function(e){e.dy=e.value*t}))})(),l(),f();for(var n=1;t>0;--t)s(n*=.99),l(),f(),u(n),l(),f();function u(t){function n(t){return(t.source.y+t.sy+t.dy/2)*t.value}e.forEach((function(e,r){e.forEach((function(e){if(e.targetLinks.length){var r=d3.sum(e.targetLinks,n)/d3.sum(e.targetLinks,d);e.y+=(r-c(e))*t}}))}))}function s(t){function n(t){return(t.target.y+t.ty+t.dy/2)*t.value}e.slice().reverse().forEach((function(e){e.forEach((function(e){if(e.sourceLinks.length){var r=d3.sum(e.sourceLinks,n)/d3.sum(e.sourceLinks,d);e.y+=(r-c(e))*t}}))}))}function l(){e.forEach((function(t){var e,n,o,a=0,u=t.length;for(t.sort(h),o=0;o<u;++o)(n=a-(e=t[o]).y)>0&&(e.y+=n),a=e.y+e.dy+r;if((n=a-r-i[1])>0)for(a=e.y-=n,o=u-2;o>=0;--o)(n=(e=t[o]).y+e.dy+r-a)>0&&(e.y-=n),a=e.y}))}function h(t,e){return t.y-e.y}}(t)},l=function(){var t=.5;function e(e){var n=e.source.x+e.source.dx,r=e.target.x,i=d3.interpolateNumber(n,r),o=i(t),a=i(1-t),u=e.source.y+e.sy+e.dy/2,s=e.target.y+e.ty+e.dy/2;return"M"+n+","+u+"C"+o+","+u+" "+a+","+s+" "+r+","+s}return e.curvature=function(n){return arguments.length?(t=+n,e):t},e},c=function(t){return t.y+t.dy/2};function f(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}o.forEach((function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)})),o.forEach((function(t){var e=0,n=0;t.sourceLinks.forEach((function(t){t.sy=e,e+=t.dy})),t.targetLinks.forEach((function(t){t.ty=n,n+=t.dy}))}))}function d(t){return t.value}return t.options=e.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return n},set:function(t){n=+t}},nodePadding:{get:function(){return r},set:function(t){r=t}},nodes:{get:function(){return o},set:function(t){o=t}},links:{get:function(){return a},set:function(t){a=t}},size:{get:function(){return i},set:function(t){i=t}},sinksRight:{get:function(){return u},set:function(t){u=t}},layout:{get:function(){s(32)},set:function(t){s(t)}},relayout:{get:function(){f()},set:function(t){}},center:{get:function(){return c()},set:function(t){"function"===typeof t&&(c=t)}},link:{get:function(){return l()},set:function(t){return"function"===typeof t&&(l=t),l()}}}),e.utils.initOptions(t),t},e.models.sankeyChart=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},n=e.models.sankey(),r=600,i=400,o=36,a=40,u="units",s=void 0,l=d3.format(",.0f"),c=function(t){return l(t)+" "+u},f=d3.scale.category20(),d=function(t){return t.source.name+" \u2192 "+t.target.name+"\n"+c(t.value)},h=function(t){return t.color=f(t.name.replace(/ .*/,""))},p=function(t){return d3.rgb(t.color).darker(2)},g=function(t){return t.name+"\n"+c(t.value)},v=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};function m(t){return t.each((function(e){var u={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},l=!1,c=!1;if(("object"===typeof e.nodes&&e.nodes.length)>=0&&("object"===typeof e.links&&e.links.length)>=0&&(l=!0),e.nodes&&e.nodes.length>0&&e.links&&e.links.length>0&&(c=!0),!l)return console.error("NVD3 Sankey chart error:","invalid data format for",e),console.info("Valid data format is: ",u,JSON.stringify(u)),v(t,"Error loading chart, data is invalid"),!1;if(!c)return v(t,"No data available"),!1;var f=t.append("svg").attr("width",r).attr("height",i).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");n.nodeWidth(o).nodePadding(a).size([r,i]);var m=n.link();n.nodes(e.nodes).links(e.links).layout(32).center(s);var y=f.append("g").selectAll(".link").data(e.links).enter().append("path").attr("class","link").attr("d",m).style("stroke-width",(function(t){return Math.max(1,t.dy)})).sort((function(t,e){return e.dy-t.dy}));y.append("title").text(d);var b=f.append("g").selectAll(".node").data(e.nodes).enter().append("g").attr("class","node").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).call(d3.behavior.drag().origin((function(t){return t})).on("dragstart",(function(){this.parentNode.appendChild(this)})).on("drag",(function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(i-t.dy,d3.event.y)))+")"),n.relayout(),y.attr("d",m)})));b.append("rect").attr("height",(function(t){return t.dy})).attr("width",n.nodeWidth()).style("fill",h).style("stroke",p).append("title").text(g),b.append("text").attr("x",-6).attr("y",(function(t){return t.dy/2})).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text((function(t){return t.name})).filter((function(t){return t.x<r/2})).attr("x",6+n.nodeWidth()).attr("text-anchor","start")})),m}return m.options=e.utils.optionsFunc.bind(m),m._options=Object.create({},{units:{get:function(){return u},set:function(t){u=t}},width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},format:{get:function(){return c},set:function(t){c=t}},linkTitle:{get:function(){return d},set:function(t){d=t}},nodeWidth:{get:function(){return o},set:function(t){o=t}},nodePadding:{get:function(){return a},set:function(t){a=t}},center:{get:function(){return s},set:function(t){s=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},nodeStyle:{get:function(){return{}},set:function(t){h=void 0!==t.fillColor?t.fillColor:h,p=void 0!==t.strokeColor?t.strokeColor:p,g=void 0!==t.title?t.title:g}}}),e.utils.initOptions(m),m},e.models.scatter=function(){"use strict";var t,n,r,i,o,a,u,s,l={top:0,right:0,bottom:0,left:0},c=null,f=null,d=e.utils.defaultColor(),h=null,p=Math.floor(1e5*Math.random()),g=null,v=d3.scale.linear(),m=d3.scale.linear(),y=d3.scale.linear(),b=function(t){return t.x},x=function(t){return t.y},k=function(t){return t.size||1},w=function(t){return t.shape||"circle"},M=[],S=[],_=[],A=!0,C=function(t){return!t.notActive},E=!1,O=.1,N=!1,T=!0,P=!1,L=function(){return 25},j=null,D=null,z=null,W=null,F=null,I=null,R=!1,H=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),B=!0,q=250,V=300,Y=!1,X=!1,G=e.utils.renderWatch(H,q),U=[16,256],Z={};function K(t){var e;return e=t[0].series+":"+t[1],Z[e]=Z[e]||{}}function $(t){var e;e=t[0].series+":"+t[1],delete Z[e]}function J(t){var e,n,r,i=K(t),o=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],r=arguments[e+1](t[0],t[1]),i[n]===r&&i.hasOwnProperty(n)||(i[n]=r,o=!0);return o}function Q(q){return G.reset(),q.each((function(q){g=d3.select(this);var Z=e.utils.availableWidth(c,g,l),K=e.utils.availableHeight(f,g,l);e.utils.initSVG(g),q.forEach((function(t,e){t.values.forEach((function(t){t.series=e}))}));var tt="function"===typeof Q.yScale().base,et=j&&D&&F?[]:d3.merge(q.map((function(t){return t.values.map((function(t,e){return{x:b(t,e),y:x(t,e),size:k(t,e)}}))})));if(v.domain(j||d3.extent(et.map((function(t){return t.x})).concat(M))),E&&q[0]?v.range(z||[(Z*O+Z)/(2*q[0].values.length),Z-Z*(1+O)/(2*q[0].values.length)]):v.range(z||[0,Z]),tt){var nt=d3.min(et.map((function(t){if(0!==t.y)return t.y})));m.clamp(!0).domain(D||d3.extent(et.map((function(t){return 0!==t.y?t.y:.1*nt})).concat(S))).range(W||[K,0])}else m.domain(D||d3.extent(et.map((function(t){return t.y})).concat(S))).range(W||[K,0]);y.domain(F||d3.extent(et.map((function(t){return t.size})).concat(_))).range(I||U),R=v.domain()[0]===v.domain()[1]||m.domain()[0]===m.domain()[1],v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(v.domain()[0])&&v.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),t=t||v,n=n||m,r=r||y;var rt=v(1)!==t(1)||m(1)!==n(1)||y(1)!==r(1);u=u||f;var it=(a=a||c)!==c||u!==f,ot=(i=i||[])[0]!==v.domain()[0]||i[1]!==v.domain()[1];i=v.domain(),o=o||[],ot=ot||o[0]!==m.domain()[0]||o[1]!==m.domain()[1],o=m.domain();var at=g.selectAll("g.nv-wrap.nv-scatter").data([q]),ut=at.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+p),st=ut.append("defs"),lt=ut.append("g"),ct=at.select("g");function ft(){if(X=!1,!A)return!1;if(!0===B){at.select(".nv-point-paths").selectAll("path").remove();var t=d3.merge(q.map((function(t,n){return t.values.map((function(t,r){var i=b(t,r),o=x(t,r);return[e.utils.NaNtoZero(v(i))+1e-4*Math.random(),e.utils.NaNtoZero(m(o))+1e-4*Math.random(),n,r,t]})).filter((function(t,e){return C(t[4],e)}))})));if(0==t.length)return!1;t.length<3&&(t.push([v.range()[0]-20,m.range()[0]-20,null,null]),t.push([v.range()[1]+20,m.range()[1]+20,null,null]),t.push([v.range()[0]-20,m.range()[0]+20,null,null]),t.push([v.range()[1]+20,m.range()[1]-20,null,null]));var n=d3.geom.polygon([[-10,-10],[-10,f+10],[c+10,f+10],[c+10,-10]]);t=t.sort((function(t,e){return t[0]-e[0]||t[1]-e[1]}));for(var r=0;r<t.length-1;)Math.abs(t[r][0]-t[r+1][0])<1e-4&&Math.abs(t[r][1]-t[r+1][1])<1e-4?t.splice(r+1,1):r++;var i=d3.geom.voronoi(t).map((function(e,r){return{data:n.clip(e),series:t[r][2],point:t[r][3]}})),o=at.select(".nv-point-paths").selectAll("path").data(i),a=o.enter().append("svg:path").attr("d",(function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"})).attr("id",(function(t,e){return"nv-path-"+e})).attr("clip-path",(function(t,e){return"url(#nv-clip-"+p+"-"+e+")"}));if(P&&a.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),T){at.select(".nv-point-clips").selectAll("*").remove();at.select(".nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",(function(t,e){return"nv-clip-"+p+"-"+e})).append("svg:circle").attr("cx",(function(t){return t[0]})).attr("cy",(function(t){return t[1]})).attr("r",L)}var u=function(t,e,n){if(X)return 0;var r=q[e.series];if(void 0!==r){var i=r.values[e.point];i.color=d(r,e.series),i.x=b(i),i.y=x(i);var o=g.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,u=window.pageXOffset||document.documentElement.scrollLeft;n({point:i,series:r,pos:{left:v(b(i,e.point))+o.left+u+l.left+10,top:m(x(i,e.point))+o.top+a+l.top+10},relativePos:[v(b(i,e.point))+l.left,m(x(i,e.point))+l.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};o.on("click",(function(t){u(this,t,H.elementClick)})).on("dblclick",(function(t){u(this,t,H.elementDblClick)})).on("mouseover",(function(t){u(this,t,H.elementMouseover)})).on("mouseout",(function(t,e){u(this,t,H.elementMouseout)}))}else at.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",(function(t,e){if(X||!q[t.series])return 0;var n=q[t.series],r=n.values[e];H.elementClick({point:r,series:n,pos:[v(b(r,e))+l.left,m(x(r,e))+l.top],relativePos:[v(b(r,e))+l.left,m(x(r,e))+l.top],seriesIndex:t.series,pointIndex:e,event:d3.event,element:this})})).on("dblclick",(function(t,e){if(X||!q[t.series])return 0;var n=q[t.series],r=n.values[e];H.elementDblClick({point:r,series:n,pos:[v(b(r,e))+l.left,m(x(r,e))+l.top],relativePos:[v(b(r,e))+l.left,m(x(r,e))+l.top],seriesIndex:t.series,pointIndex:e})})).on("mouseover",(function(t,e){if(X||!q[t.series])return 0;var n=q[t.series],r=n.values[e];H.elementMouseover({point:r,series:n,pos:[v(b(r,e))+l.left,m(x(r,e))+l.top],relativePos:[v(b(r,e))+l.left,m(x(r,e))+l.top],seriesIndex:t.series,pointIndex:e,color:d(t,e)})})).on("mouseout",(function(t,e){if(X||!q[t.series])return 0;var n=q[t.series],r=n.values[e];H.elementMouseout({point:r,series:n,pos:[v(b(r,e))+l.left,m(x(r,e))+l.top],relativePos:[v(b(r,e))+l.left,m(x(r,e))+l.top],seriesIndex:t.series,pointIndex:e,color:d(t,e)})}))}at.classed("nv-single-point",R),lt.append("g").attr("class","nv-groups"),lt.append("g").attr("class","nv-point-paths"),ut.append("g").attr("class","nv-point-clips"),at.attr("transform","translate("+l.left+","+l.top+")"),st.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect").attr("transform","translate( -10, -10)"),at.select("#nv-edge-clip-"+p+" rect").attr("width",Z+20).attr("height",K>0?K+20:0),ct.attr("clip-path",N?"url(#nv-edge-clip-"+p+")":""),X=!0;var dt=at.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t){return t.key}));dt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),dt.exit().remove(),dt.attr("class",(function(t,e){return(t.classed||"")+" nv-group nv-series-"+e})).classed("nv-noninteractive",!A).classed("hover",(function(t){return t.hover})),dt.watchTransition(G,"scatter: groups").style("fill",(function(t,e){return d(t,e)})).style("stroke",(function(t,e){return t.pointBorderColor||h||d(t,e)})).style("stroke-opacity",1).style("fill-opacity",.5);var ht=dt.selectAll("path.nv-point").data((function(t){return t.values.map((function(t,e){return[t,e]})).filter((function(t,e){return C(t[0],e)}))}));if(ht.enter().append("path").attr("class",(function(t){return"nv-point nv-point-"+t[1]})).style("fill",(function(t){return t.color})).style("stroke",(function(t){return t.color})).attr("transform",(function(r){return"translate("+e.utils.NaNtoZero(t(b(r[0],r[1])))+","+e.utils.NaNtoZero(n(x(r[0],r[1])))+")"})).attr("d",e.utils.symbol().type((function(t){return w(t[0])})).size((function(t){return y(k(t[0],t[1]))}))),ht.exit().each($).remove(),dt.exit().selectAll("path.nv-point").watchTransition(G,"scatter exit").attr("transform",(function(t){return"translate("+e.utils.NaNtoZero(v(b(t[0],t[1])))+","+e.utils.NaNtoZero(m(x(t[0],t[1])))+")"})).remove(),ht.filter((function(t){return J(t,"x",b,"y",x)||rt||it||ot})).watchTransition(G,"scatter points").attr("transform",(function(t){return"translate("+e.utils.NaNtoZero(v(b(t[0],t[1])))+","+e.utils.NaNtoZero(m(x(t[0],t[1])))+")"})),ht.filter((function(t){return J(t,"shape",w,"size",k)||rt||it||ot})).watchTransition(G,"scatter points").attr("d",e.utils.symbol().type((function(t){return w(t[0])})).size((function(t){return y(k(t[0],t[1]))}))),Y){var pt=dt.selectAll(".nv-label").data((function(t){return t.values.map((function(t,e){return[t,e]})).filter((function(t,e){return C(t[0],e)}))}));pt.enter().append("text").style("fill",(function(t,e){return t.color})).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",(function(r){return"translate("+(e.utils.NaNtoZero(t(b(r[0],r[1])))+Math.sqrt(y(k(r[0],r[1]))/Math.PI)+2)+","+e.utils.NaNtoZero(n(x(r[0],r[1])))+")"})).text((function(t,e){return t[0].label})),pt.exit().remove(),dt.exit().selectAll("path.nv-label").watchTransition(G,"scatter exit").attr("transform",(function(t){return"translate("+(e.utils.NaNtoZero(v(b(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2)+","+e.utils.NaNtoZero(m(x(t[0],t[1])))+")"})).remove(),pt.each((function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)})),pt.watchTransition(G,"scatter labels").attr("transform",(function(t){return"translate("+(e.utils.NaNtoZero(v(b(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2)+","+e.utils.NaNtoZero(m(x(t[0],t[1])))+")"}))}V?(clearTimeout(s),s=setTimeout(ft,V)):ft(),t=v.copy(),n=m.copy(),r=y.copy(),a=c,u=f})),G.renderEnd("scatter immediate"),Q}return Q.dispatch=H,Q.options=e.utils.optionsFunc.bind(Q),Q._calls=new function(){this.clearHighlights=function(){return e.dom.write((function(){g.selectAll(".nv-point.hover").classed("hover",!1)})),null},this.highlightPoint=function(t,n,r){e.dom.write((function(){g.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+n).classed("hover",r)}))}},H.on("elementMouseover.point",(function(t){A&&Q._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)})),H.on("elementMouseout.point",(function(t){A&&Q._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)})),Q._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return f},set:function(t){f=t}},xScale:{get:function(){return v},set:function(t){v=t}},yScale:{get:function(){return m},set:function(t){m=t}},pointScale:{get:function(){return y},set:function(t){y=t}},xDomain:{get:function(){return j},set:function(t){j=t}},yDomain:{get:function(){return D},set:function(t){D=t}},pointDomain:{get:function(){return F},set:function(t){F=t}},xRange:{get:function(){return z},set:function(t){z=t}},yRange:{get:function(){return W},set:function(t){W=t}},pointRange:{get:function(){return I},set:function(t){I=t}},forceX:{get:function(){return M},set:function(t){M=t}},forceY:{get:function(){return S},set:function(t){S=t}},forcePoint:{get:function(){return _},set:function(t){_=t}},interactive:{get:function(){return A},set:function(t){A=t}},pointActive:{get:function(){return C},set:function(t){C=t}},padDataOuter:{get:function(){return O},set:function(t){O=t}},padData:{get:function(){return E},set:function(t){E=t}},clipEdge:{get:function(){return N},set:function(t){N=t}},clipVoronoi:{get:function(){return T},set:function(t){T=t}},clipRadius:{get:function(){return L},set:function(t){L=t}},showVoronoi:{get:function(){return P},set:function(t){P=t}},id:{get:function(){return p},set:function(t){p=t}},interactiveUpdateDelay:{get:function(){return V},set:function(t){V=t}},showLabels:{get:function(){return Y},set:function(t){Y=t}},pointBorderColor:{get:function(){return h},set:function(t){h=t}},x:{get:function(){return b},set:function(t){b=d3.functor(t)}},y:{get:function(){return x},set:function(t){x=d3.functor(t)}},pointSize:{get:function(){return k},set:function(t){k=d3.functor(t)}},pointShape:{get:function(){return w},set:function(t){w=d3.functor(t)}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return q},set:function(t){q=t,G.reset(q)}},color:{get:function(){return d},set:function(t){d=e.utils.getColor(t)}},useVoronoi:{get:function(){return B},set:function(t){!1===(B=t)&&(T=!1)}}}),e.utils.initOptions(Q),Q},e.models.scatterChart=function(){"use strict";var t=e.models.scatter(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),o=e.models.distribution(),a=e.models.distribution(),u=e.models.tooltip(),s={top:30,right:20,bottom:50,left:75},l=null,c=null,f=null,d=null,h=e.utils.defaultColor(),p=t.xScale(),g=t.yScale(),v=!1,m=!1,y=!0,b=!0,x=!0,k=!1,w=e.utils.state(),M=null,S=d3.dispatch("stateChange","changeState","renderEnd"),_=null,A=250,C=!1;t.xScale(p).yScale(g),n.orient("bottom").tickPadding(10),r.orient(k?"right":"left").tickPadding(10),o.axis("x"),a.axis("y"),u.headerFormatter((function(t,e){return n.tickFormat()(t,e)})).valueFormatter((function(t,e){return r.tickFormat()(t,e)}));var E=e.utils.renderWatch(S,A);function O(_){return E.reset(),E.models(t),b&&E.models(n),x&&E.models(r),v&&E.models(o),m&&E.models(a),_.each((function(_){d=d3.select(this),e.utils.initSVG(d);var N,T=e.utils.availableWidth(c,d,s),P=e.utils.availableHeight(f,d,s);if(O.update=function(){0===A?d.call(O):d.transition().duration(A).call(O)},O.container=this,w.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(_),O.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(_)).update(),w.disabled=_.map((function(t){return!!t.disabled})),!M)for(N in M={},w)w[N]instanceof Array?M[N]=w[N].slice(0):M[N]=w[N];if(!(_&&_.length&&_.filter((function(t){return t.values.length})).length))return e.utils.noData(O,d),E.renderEnd("scatter immediate"),O;d.selectAll(".nv-noData").remove(),p=t.xScale(),g=t.yScale();var L=d.selectAll("g.nv-wrap.nv-scatterChart").data([_]),j=L.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id()).append("g"),D=L.select("g");if(j.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),j.append("g").attr("class","nv-x nv-axis"),j.append("g").attr("class","nv-y nv-axis"),j.append("g").attr("class","nv-scatterWrap"),j.append("g").attr("class","nv-regressionLinesWrap"),j.append("g").attr("class","nv-distWrap"),j.append("g").attr("class","nv-legendWrap"),k&&D.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),y){var z=T;i.width(z),L.select(".nv-legendWrap").datum(_).call(i),l||i.height()===s.top||(s.top=i.height(),P=e.utils.availableHeight(f,d,s)),L.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")")}else D.select(".nv-legendWrap").selectAll("*").remove();L.attr("transform","translate("+s.left+","+s.top+")"),t.width(T).height(P).color(_.map((function(t,e){return t.color=t.color||h(t,e),t.color})).filter((function(t,e){return!_[e].disabled}))).showLabels(C),L.select(".nv-scatterWrap").datum(_.filter((function(t){return!t.disabled}))).call(t),L.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var W=L.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data((function(t){return t}));W.enter().append("g").attr("class","nv-regLines");var F=W.selectAll(".nv-regLine").data((function(t){return[t]}));F.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),F.filter((function(t){return t.intercept&&t.slope})).watchTransition(E,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",(function(t,e){return g(p.domain()[0]*t.slope+t.intercept)})).attr("y2",(function(t,e){return g(p.domain()[1]*t.slope+t.intercept)})).style("stroke",(function(t,e,n){return h(t,n)})).style("stroke-opacity",(function(t,e){return t.disabled||"undefined"===typeof t.slope||"undefined"===typeof t.intercept?0:1})),b&&(n.scale(p)._ticks(e.utils.calcTicksX(T/100,_)).tickSize(-P,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(n)),x&&(r.scale(g)._ticks(e.utils.calcTicksY(P/36,_)).tickSize(-T,0),D.select(".nv-y.nv-axis").call(r)),v&&(o.getData(t.x()).scale(p).width(T).color(_.map((function(t,e){return t.color||h(t,e)})).filter((function(t,e){return!_[e].disabled}))),j.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),D.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(_.filter((function(t){return!t.disabled}))).call(o)),m&&(a.getData(t.y()).scale(g).width(P).color(_.map((function(t,e){return t.color||h(t,e)})).filter((function(t,e){return!_[e].disabled}))),j.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),D.select(".nv-distributionY").attr("transform","translate("+(k?T:-a.size())+",0)").datum(_.filter((function(t){return!t.disabled}))).call(a)),i.dispatch.on("stateChange",(function(t){for(var e in t)w[e]=t[e];S.stateChange(w),O.update()})),S.on("changeState",(function(t){"undefined"!==typeof t.disabled&&(_.forEach((function(e,n){e.disabled=t.disabled[n]})),w.disabled=t.disabled),O.update()})),t.dispatch.on("elementMouseout.tooltip",(function(e){u.hidden(!0),d.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),d.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",a.size())})),t.dispatch.on("elementMouseover.tooltip",(function(t){d.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-P),d.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+o.size()),u.data(t).hidden(!1)})),p.copy(),g.copy()})),E.renderEnd("scatter with line immediate"),O}return O.dispatch=S,O.scatter=t,O.legend=i,O.xAxis=n,O.yAxis=r,O.distX=o,O.distY=a,O.tooltip=u,O.options=e.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return f},set:function(t){f=t}},container:{get:function(){return d},set:function(t){d=t}},showDistX:{get:function(){return v},set:function(t){v=t}},showDistY:{get:function(){return m},set:function(t){m=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return _},set:function(t){_=t}},duration:{get:function(){return A},set:function(t){A=t}},showLabels:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return s},set:function(t){void 0!==t.top&&(s.top=t.top,l=t.top),s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,r.orient(t?"right":"left")}},color:{get:function(){return h},set:function(t){h=e.utils.getColor(t),i.color(h),o.color(h),a.color(h)}}}),e.utils.inheritOptions(O,t),e.utils.initOptions(O),O},e.models.sparkline=function(){"use strict";var t,n,r,i,o={top:2,right:0,bottom:2,left:0},a=400,u=32,s=null,l=!0,c=d3.scale.linear(),f=d3.scale.linear(),d=function(t){return t.x},h=function(t){return t.y},p=e.utils.getColor(["#000"]),g=!0,v=!0,m=d3.dispatch("renderEnd"),y=e.utils.renderWatch(m);function b(l){return y.reset(),l.each((function(l){var m=a-o.left-o.right,y=u-o.top-o.bottom;s=d3.select(this),e.utils.initSVG(s),c.domain(t||d3.extent(l,d)).range(r||[0,m]),f.domain(n||d3.extent(l,h)).range(i||[y,0]);var b=s.selectAll("g.nv-wrap.nv-sparkline").data([l]);b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),b.select("g");b.attr("transform","translate("+o.left+","+o.top+")");var x=b.selectAll("path").data((function(t){return[t]}));x.enter().append("path"),x.exit().remove(),x.style("stroke",(function(t,e){return t.color||p(t,e)})).attr("d",d3.svg.line().x((function(t,e){return c(d(t,e))})).y((function(t,e){return f(h(t,e))})));var k=b.selectAll("circle.nv-point").data((function(t){var e=t.map((function(t,e){return h(t,e)}));function n(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var r=n(e.lastIndexOf(f.domain()[1])),i=n(e.indexOf(f.domain()[0])),o=n(e.length-1);return[g?i:null,g?r:null,v?o:null].filter((function(t){return null!=t}))}));k.enter().append("circle"),k.exit().remove(),k.attr("cx",(function(t,e){return c(d(t,t.pointIndex))})).attr("cy",(function(t,e){return f(h(t,t.pointIndex))})).attr("r",2).attr("class",(function(t,e){return d(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":h(t,t.pointIndex)==f.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"}))})),y.renderEnd("sparkline immediate"),b}return b.options=e.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return i},set:function(t){i=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return f},set:function(t){f=t}},animate:{get:function(){return l},set:function(t){l=t}},showMinMaxPoints:{get:function(){return g},set:function(t){g=t}},showCurrentPoint:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return d},set:function(t){d=d3.functor(t)}},y:{get:function(){return h},set:function(t){h=d3.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return p},set:function(t){p=e.utils.getColor(t)}}}),b.dispatch=m,e.utils.initOptions(b),b},e.models.sparklinePlus=function(){"use strict";var t,n,r=e.models.sparkline(),i={top:15,right:100,bottom:10,left:50},o=null,a=null,u=[],s=!1,l=d3.format(",r"),c=d3.format(",.2f"),f=!0,d=!0,h=!1,p=null,g=d3.dispatch("renderEnd"),v=e.utils.renderWatch(g);function m(p){return v.reset(),v.models(r),p.each((function(p){var g=d3.select(this);e.utils.initSVG(g);var v=e.utils.availableWidth(o,g,i),y=e.utils.availableHeight(a,g,i);if(m.update=function(){g.call(m)},m.container=this,!p||!p.length)return e.utils.noData(m,g),m;g.selectAll(".nv-noData").remove();var b=r.y()(p[p.length-1],p.length-1);t=r.xScale(),n=r.yScale();var x=g.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),k=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),w=x.select("g");k.append("g").attr("class","nv-sparklineWrap"),k.append("g").attr("class","nv-valueWrap"),k.append("g").attr("class","nv-hoverArea"),x.attr("transform","translate("+i.left+","+i.top+")");var M=w.select(".nv-sparklineWrap");if(r.width(v).height(y),M.call(r),f){var S=w.select(".nv-valueWrap").selectAll(".nv-currentValue").data([b]);S.enter().append("text").attr("class","nv-currentValue").attr("dx",h?-8:8).attr("dy",".9em").style("text-anchor",h?"end":"start"),S.attr("x",v+(h?i.right:0)).attr("y",d?function(t){return n(t)}:0).style("fill",r.color()(p[p.length-1],p.length-1)).text(c(b))}function _(){if(!s){var e=w.selectAll(".nv-hoverValue").data(u),n=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",(function(e){return"translate("+t(r.x()(p[e],e))+",0)"})).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),u.length&&(n.append("line").attr("x1",0).attr("y1",-i.top).attr("x2",0).attr("y2",y),n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-i.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(l(r.x()(p[u[0]],u[0]))),n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-i.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(c(r.y()(p[u[0]],u[0]))))}}k.select(".nv-hoverArea").append("rect").on("mousemove",(function(){if(s)return;var e=d3.mouse(this)[0]-i.left;u=[function(t,e){for(var n=Math.abs(r.x()(t[0],0)-e),i=0,o=0;o<t.length;o++)Math.abs(r.x()(t[o],o)-e)<n&&(n=Math.abs(r.x()(t[o],o)-e),i=o);return i}(p,Math.round(t.invert(e)))],_()})).on("click",(function(){s=!s})).on("mouseout",(function(){u=[],_()})),w.select(".nv-hoverArea rect").attr("transform",(function(t){return"translate("+-i.left+","+-i.top+")"})).attr("width",v+i.left+i.right).attr("height",y+i.top)})),v.renderEnd("sparklinePlus immediate"),m}return m.dispatch=g,m.sparkline=r,m.options=e.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},xTickFormat:{get:function(){return l},set:function(t){l=t}},yTickFormat:{get:function(){return c},set:function(t){c=t}},showLastValue:{get:function(){return f},set:function(t){f=t}},alignValue:{get:function(){return d},set:function(t){d=t}},rightAlignValue:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),e.utils.inheritOptions(m,r),e.utils.initOptions(m),m},e.models.stackedArea=function(){"use strict";var t,n,r={top:0,right:0,bottom:0,left:0},i=960,o=500,a=e.utils.defaultColor(),u=Math.floor(1e5*Math.random()),s=null,l=function(t){return t.x},c=function(t){return t.y},f=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},d="stack",h="zero",p="default",g="linear",v=!1,m=e.models.scatter(),y=250,b=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");m.pointSize(2.2).pointDomain([2.2,2.2]);var x=e.utils.renderWatch(b,y);function k(d){return x.reset(),x.models(m),d.each((function(d){var y=i-r.left-r.right,w=o-r.top-r.bottom;s=d3.select(this),e.utils.initSVG(s),t=m.xScale(),n=m.yScale();var M=d;d.forEach((function(t,e){t.seriesIndex=e,t.values=t.values.map((function(t,n){return t.index=n,t.seriesIndex=e,t}))}));var S=d.filter((function(t){return!t.disabled}));d=d3.layout.stack().order(p).offset(h).values((function(t){return t.values})).x(l).y(c).out((function(t,e,n){t.display={y:n,y0:e}}))(S);var _=s.selectAll("g.nv-wrap.nv-stackedarea").data([d]),A=_.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),C=A.append("defs"),E=A.append("g"),O=_.select("g");E.append("g").attr("class","nv-areaWrap"),E.append("g").attr("class","nv-scatterWrap"),_.attr("transform","translate("+r.left+","+r.top+")"),0==m.forceY().length&&m.forceY().push(0),m.width(y).height(w).x(l).y((function(t){if(void 0!==t.display)return t.display.y+t.display.y0})).color(d.map((function(t,e){return t.color=t.color||a(t,t.seriesIndex),t.color}))),O.select(".nv-scatterWrap").datum(d).call(m),C.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),_.select("#nv-edge-clip-"+u+" rect").attr("width",y).attr("height",w),O.attr("clip-path",v?"url(#nv-edge-clip-"+u+")":"");var N=d3.svg.area().defined(f).x((function(e,n){return t(l(e,n))})).y0((function(t){return n(t.display.y0)})).y1((function(t){return n(t.display.y+t.display.y0)})).interpolate(g),T=d3.svg.area().defined(f).x((function(e,n){return t(l(e,n))})).y0((function(t){return n(t.display.y0)})).y1((function(t){return n(t.display.y0)})),P=O.select(".nv-areaWrap").selectAll("path.nv-area").data((function(t){return t}));P.enter().append("path").attr("class",(function(t,e){return"nv-area nv-area-"+e})).attr("d",(function(t,e){return T(t.values,t.seriesIndex)})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),b.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),b.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})})).on("click",(function(t,e){d3.select(this).classed("hover",!1),b.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})})),P.exit().remove(),P.style("fill",(function(t,e){return t.color||a(t,t.seriesIndex)})).style("stroke",(function(t,e){return t.color||a(t,t.seriesIndex)})),P.watchTransition(x,"stackedArea path").attr("d",(function(t,e){return N(t.values,e)})),m.dispatch.on("elementMouseover.area",(function(t){O.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!0)})),m.dispatch.on("elementMouseout.area",(function(t){O.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!1)})),k.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,a=[];for(n=0;n<o;++n){for(e=0,r=0;e<M.length;e++)r+=c(M[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}})),x.renderEnd("stackedArea immediate"),k}return k.dispatch=b,k.scatter=m,m.dispatch.on("elementClick",(function(){b.elementClick.apply(this,arguments)})),m.dispatch.on("elementMouseover",(function(){b.elementMouseover.apply(this,arguments)})),m.dispatch.on("elementMouseout",(function(){b.elementMouseout.apply(this,arguments)})),k.interpolate=function(t){return arguments.length?(g=t,k):g},k.duration=function(t){return arguments.length?(y=t,x.reset(y),m.duration(y),k):y},k.dispatch=b,k.scatter=m,k.options=e.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return o},set:function(t){o=t}},defined:{get:function(){return f},set:function(t){f=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},offset:{get:function(){return h},set:function(t){h=t}},order:{get:function(){return p},set:function(t){p=t}},interpolate:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return l},set:function(t){l=d3.functor(t)}},y:{get:function(){return c},set:function(t){c=d3.functor(t)}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return a},set:function(t){a=e.utils.getColor(t)}},style:{get:function(){return d},set:function(t){switch(d=t){case"stack":k.offset("zero"),k.order("default");break;case"stream":k.offset("wiggle"),k.order("inside-out");break;case"stream-center":k.offset("silhouette"),k.order("inside-out");break;case"expand":k.offset("expand"),k.order("default");break;case"stack_percent":k.offset(k.d3_stackedOffset_stackPercent),k.order("default")}}},duration:{get:function(){return y},set:function(t){y=t,x.reset(y),m.duration(y)}}}),e.utils.inheritOptions(k,m),e.utils.initOptions(k),k},e.models.stackedAreaChart=function(){"use strict";var t,n,r=e.models.stackedArea(),i=e.models.axis(),o=e.models.axis(),a=e.models.legend(),u=e.models.legend(),s=e.interactiveGuideline(),l=e.models.tooltip(),c=e.models.focus(e.models.stackedArea()),f={top:10,right:25,bottom:50,left:60},d=null,h=null,p=null,g=e.utils.defaultColor(),v=!0,m=!0,y="top",b=!0,x=!0,k=!1,w=!1,M=!1,S=!0,_="TOTAL",A=e.utils.state(),C=null,E=null,O=d3.dispatch("stateChange","changeState","renderEnd"),N=250,T=["Stacked","Stream","Expanded"],P={},L=250;A.style=r.style(),i.orient("bottom").tickPadding(7),o.orient(k?"right":"left"),l.headerFormatter((function(t,e){return i.tickFormat()(t,e)})).valueFormatter((function(t,e){return o.tickFormat()(t,e)})),s.tooltip.headerFormatter((function(t,e){return i.tickFormat()(t,e)})).valueFormatter((function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}));var j=null,D=null;u.updateState(!1);var z=e.utils.renderWatch(O),W=(r.style(),d3.format("%"));function F(l){return z.reset(),z.models(r),b&&z.models(i),x&&z.models(o),l.each((function(l){var E=d3.select(this);e.utils.initSVG(E);var z,I=e.utils.availableWidth(h,E,f),R=e.utils.availableHeight(p,E,f)-(w?c.height():0);if(F.update=function(){E.transition().duration(L).call(F)},F.container=this,A.setter(function(t){return function(e){void 0!==e.style&&e.style,void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(l),F.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled})),style:r.style()}}}(l)).update(),A.disabled=l.map((function(t){return!!t.disabled})),!C)for(z in C={},A)A[z]instanceof Array?C[z]=A[z].slice(0):C[z]=A[z];if(!(l&&l.length&&l.filter((function(t){return t.values.length})).length))return e.utils.noData(F,E),F;E.selectAll(".nv-noData").remove(),t=r.xScale(),n=r.yScale();var H=E.selectAll("g.nv-wrap.nv-stackedAreaChart").data([l]),B=H.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),q=H.select("g");B.append("g").attr("class","nv-legendWrap"),B.append("g").attr("class","nv-controlsWrap");var V=B.append("g").attr("class","nv-focus");V.append("g").attr("class","nv-background").append("rect"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-stackedWrap"),V.append("g").attr("class","nv-interactive");B.append("g").attr("class","nv-focusWrap");if(m){var Y=v&&"top"===y?I-N:I;if(a.width(Y),q.select(".nv-legendWrap").datum(l).call(a),"bottom"===y){var X=10+(b?12:0);f.bottom=Math.max(a.height()+X,f.bottom);var G=(R=e.utils.availableHeight(p,E,f)-(w?c.height():0))+X;q.select(".nv-legendWrap").attr("transform","translate(0,"+G+")")}else"top"===y&&(d||f.top==a.height()||(f.top=a.height(),R=e.utils.availableHeight(p,E,f)-(w?c.height():0)),q.select(".nv-legendWrap").attr("transform","translate("+(I-Y)+","+-f.top+")"))}else q.select(".nv-legendWrap").selectAll("*").remove();if(v){var U=[{key:P.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=r.style(),style:"stack"},{key:P.stream||"Stream",metaKey:"Stream",disabled:"stream"!=r.style(),style:"stream"},{key:P.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=r.style(),style:"expand"},{key:P.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=r.style(),style:"stack_percent"}];N=T.length/3*260,U=U.filter((function(t){return-1!==T.indexOf(t.metaKey)})),u.width(N).color(["#444","#444","#444"]),q.select(".nv-controlsWrap").datum(U).call(u);var Z=Math.max(u.height(),m&&"top"===y?a.height():0);f.top!=Z&&(f.top=Z,R=e.utils.availableHeight(p,E,f)-(w?c.height():0)),q.select(".nv-controlsWrap").attr("transform","translate(0,"+-f.top+")")}else q.select(".nv-controlsWrap").selectAll("*").remove();H.attr("transform","translate("+f.left+","+f.top+")"),k&&q.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),M&&(s.width(I).height(R).margin({left:f.left,top:f.top}).svgContainer(E).xScale(t),H.select(".nv-interactive").call(s)),q.select(".nv-focus .nv-background rect").attr("width",I).attr("height",R),r.width(I).height(R).color(l.map((function(t,e){return t.color||g(t,e)})).filter((function(t,e){return!l[e].disabled})));var K,$=q.select(".nv-focus .nv-stackedWrap").datum(l.filter((function(t){return!t.disabled})));(b&&i.scale(t)._ticks(e.utils.calcTicksX(I/100,l)).tickSize(-R,0),x)&&(K="wiggle"===r.offset()?0:e.utils.calcTicksY(R/36,l),o.scale(n)._ticks(K).tickSize(-I,0));function J(){b&&q.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+R+")").transition().duration(L).call(i)}function Q(){if(x){if("expand"===r.style()||"stack_percent"===r.style()){var t=o.tickFormat();j&&t===W||(j=t),o.tickFormat(W)}else j&&(o.tickFormat(j),j=null);q.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(o)}}if(w){c.width(I),q.select(".nv-focusWrap").attr("transform","translate(0,"+(R+f.bottom+c.margin().top)+")").datum(l.filter((function(t){return!t.disabled}))).call(c);var tt=c.brush.empty()?c.xDomain():c.brush.extent();null!==tt&&et(tt)}else $.transition().call(r),J(),Q();function et(t){q.select(".nv-focus .nv-stackedWrap").datum(l.filter((function(t){return!t.disabled})).map((function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter((function(e,n){return r.x()(e,n)>=t[0]&&r.x()(e,n)<=t[1]})),disableTooltip:e.disableTooltip}}))).transition().duration(L).call(r),J(),Q()}r.dispatch.on("areaClick.toggle",(function(t){1===l.filter((function(t){return!t.disabled})).length?l.forEach((function(t){t.disabled=!1})):l.forEach((function(e,n){e.disabled=n!=t.seriesIndex})),A.disabled=l.map((function(t){return!!t.disabled})),O.stateChange(A),F.update()})),a.dispatch.on("stateChange",(function(t){for(var e in t)A[e]=t[e];O.stateChange(A),F.update()})),u.dispatch.on("legendClick",(function(t,e){t.disabled&&(U=U.map((function(t){return t.disabled=!0,t})),t.disabled=!1,r.style(t.style),A.style=r.style(),O.stateChange(A),F.update())})),s.dispatch.on("elementMousemove",(function(t){r.clearHighlights();var n,i,o,a=[],u=0,c=!0,f=!1;if(l.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(s,d){i=e.interactiveBisect(s.values,t.pointXValue,F.x());var h=s.values[i],p=F.y()(h,i);if(null!=p&&p>0&&(r.highlightPoint(d,i,!0),f=!0),d!==l.length-1||f||r.highlightPoint(d,i,!0),"undefined"!==typeof h){"undefined"===typeof n&&(n=h),"undefined"===typeof o&&(o=F.xScale()(F.x()(h,i)));var v="expand"==r.style()?h.display.y:F.y()(h,i);a.push({key:s.key,value:v,color:g(s,s.seriesIndex),point:h}),S&&"expand"!=r.style()&&null!=v&&(u+=v,c=!1)}})),a.reverse(),a.length>2){var d=F.yScale().invert(t.mouseY),h=null;a.forEach((function(t,e){d=Math.abs(d);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);d>=n&&d<=r+n&&(h=e)})),null!=h&&(a[h].highlight=!0)}S&&"expand"!=r.style()&&a.length>=2&&!c&&a.push({key:_,value:u,total:!0});var p=F.x()(n,i),v=s.tooltip.valueFormatter();"expand"===r.style()||"stack_percent"===r.style()?(D||(D=v),v=d3.format(".1%")):D&&(v=D,D=null),s.tooltip.valueFormatter(v).data({value:p,series:a})(),s.renderGuideLine(o)})),s.dispatch.on("elementMouseout",(function(t){r.clearHighlights()})),c.dispatch.on("onBrush",(function(t){et(t)})),O.on("changeState",(function(t){"undefined"!==typeof t.disabled&&l.length===t.disabled.length&&(l.forEach((function(e,n){e.disabled=t.disabled[n]})),A.disabled=t.disabled),"undefined"!==typeof t.style&&(r.style(t.style),t.style),F.update()}))})),z.renderEnd("stacked Area chart immediate"),F}return r.dispatch.on("elementMouseover.tooltip",(function(t){t.point.x=r.x()(t.point),t.point.y=r.y()(t.point),l.data(t).hidden(!1)})),r.dispatch.on("elementMouseout.tooltip",(function(t){l.hidden(!0)})),F.dispatch=O,F.stacked=r,F.legend=a,F.controls=u,F.xAxis=i,F.x2Axis=c.xAxis,F.yAxis=o,F.y2Axis=c.yAxis,F.interactiveLayer=s,F.tooltip=l,F.focus=c,F.dispatch=O,F.options=e.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return C},set:function(t){C=t}},noData:{get:function(){return E},set:function(t){E=t}},showControls:{get:function(){return v},set:function(t){v=t}},controlLabels:{get:function(){return P},set:function(t){P=t}},controlOptions:{get:function(){return T},set:function(t){T=t}},showTotalInTooltip:{get:function(){return S},set:function(t){S=t}},totalLabel:{get:function(){return _},set:function(t){_=t}},focusEnable:{get:function(){return w},set:function(t){w=t}},focusHeight:{get:function(){return c.height()},set:function(t){c.height(t)}},brushExtent:{get:function(){return c.brushExtent()},set:function(t){c.brushExtent(t)}},margin:{get:function(){return f},set:function(t){void 0!==t.top&&(f.top=t.top,d=t.top),f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}},focusMargin:{get:function(){return c.margin},set:function(t){c.margin.top=void 0!==t.top?t.top:c.margin.top,c.margin.right=void 0!==t.right?t.right:c.margin.right,c.margin.bottom=void 0!==t.bottom?t.bottom:c.margin.bottom,c.margin.left=void 0!==t.left?t.left:c.margin.left}},duration:{get:function(){return L},set:function(t){L=t,z.reset(L),r.duration(L),i.duration(L),o.duration(L)}},color:{get:function(){return g},set:function(t){g=e.utils.getColor(t),a.color(g),r.color(g),c.color(g)}},x:{get:function(){return r.x()},set:function(t){r.x(t),c.x(t)}},y:{get:function(){return r.y()},set:function(t){r.y(t),c.y(t)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,o.orient(k?"right":"left")}},useInteractiveGuideline:{get:function(){return M},set:function(t){M=!!t,F.interactive(!t),F.useVoronoi(!t),r.scatter.interactive(!t)}}}),e.utils.inheritOptions(F,r),e.utils.initOptions(F),F},e.models.stackedAreaWithFocusChart=function(){return e.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},e.models.sunburst=function(){"use strict";var t,n,r,i,o={top:0,right:0,bottom:0,left:0},a=600,u=600,s="count",l={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},c=Math.floor(1e4*Math.random()),f=null,d=e.utils.defaultColor(),h=!1,p=function(t){return"count"===s?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},g=.02,v=function(t,e){return t.name>e.name},m=function(t,e){return void 0!==t.parent?t.name+"-"+t.parent.name+"-"+e:t.name},y=!0,b=500,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),k=d3.scale.linear().range([0,2*Math.PI]),w=d3.scale.sqrt(),M=d3.layout.partition().sort(v),S={},_=d3.svg.arc().startAngle((function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x)))})).endAngle((function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))})).innerRadius((function(t){return Math.max(0,w(t.y))})).outerRadius((function(t){return Math.max(0,w(t.y+t.dy))}));function A(t){return C(t)>90?180:0}function C(t){return(Math.max(0,Math.min(2*Math.PI,k(t.x)))+Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx))))/2*(180/Math.PI)-90}function E(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x)));return(Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-e)/(2*Math.PI)}function O(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x)));return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-e>g}function N(e,n){var r=d3.interpolate(k.domain(),[t.x,t.x+t.dx]),o=d3.interpolate(w.domain(),[t.y,1]),a=d3.interpolate(w.range(),[t.y?20:0,i]);return 0===n?function(){return _(e)}:function(t){return k.domain(r(t)),w.domain(o(t)).range(a(t)),_(e)}}function T(t){var e=d3.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var r=e(n);return t.x0=r.x,t.dx0=r.dx,t.y0=r.y,t.dy0=r.dy,_(r)}}function P(t){t.forEach((function(t){var e=m(t),n=S[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),function(t){var e=m(t);S[e]||(S[e]={});var n=S[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)}))}function L(e){var n=f.selectAll("text"),r=f.selectAll("path");n.transition().attr("opacity",0),t=e,r.transition().duration(b).attrTween("d",N).each("end",(function(t){t.x>=e.x&&t.x<e.x+e.dx&&(t.depth>=e.depth&&d3.select(this.parentNode).select("text").transition().duration(b).text((function(t){return p(t)})).attr("opacity",(function(t){return O(t)?1:0})).attr("transform",(function(){var n=this.getBBox().width;if(0===t.depth)return"translate("+n/2*-1+",0)";if(t.depth===e.depth)return"translate("+(w(t.y)+5)+",0)";var r=C(t),i=A(t);return 0===i?"rotate("+r+")translate("+(w(t.y)+5)+",0)":"rotate("+r+")translate("+(w(t.y)+n+5)+",0)rotate("+i+")"})))}))}var j=e.utils.renderWatch(x);function D(t){return j.reset(),t.each((function(t){f=d3.select(this),n=e.utils.availableWidth(a,f,o),r=e.utils.availableHeight(u,f,o),i=Math.min(n,r)/2,w.range([0,i]);var g=f.select("g.nvd3.nv-wrap.nv-sunburst");g[0][0]?g.attr("transform","translate("+(n/2+o.left+o.right)+","+(r/2+o.top+o.bottom)+")"):g=f.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+c).attr("transform","translate("+(n/2+o.left+o.right)+","+(r/2+o.top+o.bottom)+")"),f.on("click",(function(t,e){x.chartClick({data:t,index:e,pos:d3.event,id:c})})),M.value(l[s]||l.count);var v=M.nodes(t[0]).reverse();P(v);var k=g.selectAll(".arc-container").data(v,m);k.enter().append("g").attr("class","arc-container").append("path").attr("d",_).style("fill",(function(t){return t.color?t.color:d(y?(t.children?t:t.parent).name:t.name)})).style("stroke","#FFF").on("click",(function(t,e){L(t),x.elementClick({data:t,index:e})})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0).style("opacity",.8),x.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:E(t)})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),x.elementMouseout({data:t})})).on("mousemove",(function(t,e){x.elementMousemove({data:t})})),k.each((function(t){d3.select(this).select("path").transition().duration(b).attrTween("d",T)})),h&&(k.selectAll("text").remove(),k.append("text").text((function(t){return p(t)})).transition().duration(b).attr("opacity",(function(t){return O(t)?1:0})).attr("transform",(function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=C(t),r=A(t);return 0===r?"rotate("+n+")translate("+(w(t.y)+5)+",0)":"rotate("+n+")translate("+(w(t.y)+e+5)+",0)rotate("+r+")"}))),L(v[v.length-1]),k.exit().transition().duration(b).attr("opacity",0).each("end",(function(t){var e=m(t);S[e]=void 0})).remove()})),j.renderEnd("sunburst immediate"),D}return D.dispatch=x,D.options=e.utils.optionsFunc.bind(D),D._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},mode:{get:function(){return s},set:function(t){s=t}},id:{get:function(){return c},set:function(t){c=t}},duration:{get:function(){return b},set:function(t){b=t}},groupColorByParent:{get:function(){return y},set:function(t){y=!!t}},showLabels:{get:function(){return h},set:function(t){h=!!t}},labelFormat:{get:function(){return p},set:function(t){p=t}},labelThreshold:{get:function(){return g},set:function(t){g=t}},sort:{get:function(){return v},set:function(t){v=t}},key:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return d},set:function(t){d=e.utils.getColor(t)}}}),e.utils.initOptions(D),D},e.models.sunburstChart=function(){"use strict";var t=e.models.sunburst(),n=e.models.tooltip(),r={top:30,right:20,bottom:20,left:20},i=e.utils.defaultColor(),o=!1,a=(Math.round(1e5*Math.random()),null),u=null,s=250,l=d3.dispatch("stateChange","changeState","renderEnd"),c=e.utils.renderWatch(l);function f(n){return c.reset(),c.models(t),n.each((function(n){var i=d3.select(this);e.utils.initSVG(i);var o=e.utils.availableWidth(null,i,r),a=e.utils.availableHeight(null,i,r);if(f.update=function(){0===s?i.call(f):i.transition().duration(s).call(f)},f.container=i,!n||!n.length)return e.utils.noData(f,i),f;i.selectAll(".nv-noData").remove(),t.width(o).height(a).margin(r),i.call(t)})),c.renderEnd("sunburstChart immediate"),f}return n.duration(0).headerEnabled(!1).valueFormatter((function(t){return t})),t.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},o||(delete t.percent,delete t.series.percent),n.data(t).hidden(!1)})),t.dispatch.on("elementMouseout.tooltip",(function(t){n.hidden(!0)})),t.dispatch.on("elementMousemove.tooltip",(function(t){n()})),f.dispatch=l,f.sunburst=t,f.tooltip=n,f.options=e.utils.optionsFunc.bind(f),f._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return a},set:function(t){a=t}},showTooltipPercent:{get:function(){return o},set:function(t){o=t}},color:{get:function(){return i},set:function(e){i=e,t.color(i)}},duration:{get:function(){return s},set:function(e){s=e,c.reset(s),t.duration(s)}},margin:{get:function(){return r},set:function(e){r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left,t.margin(r)}}}),e.utils.inheritOptions(f,t),e.utils.initOptions(f),f},e.version="1.8.6"}()},248:function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=((r=n(249))&&r.__esModule?r:{default:r}).default;e.default=i},249:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(0)),i=n(250),o=s(n(257)),a=s(n(259)),u=n(159);function s(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=(0,u.canUseDOM)()&&n(260),b=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?g(t):e}(this,p(e).call(this,t)),m(g(n),"innerSliderRefHandler",(function(t){return n.innerSlider=t})),m(g(n),"slickPrev",(function(){return n.innerSlider.slickPrev()})),m(g(n),"slickNext",(function(){return n.innerSlider.slickNext()})),m(g(n),"slickGoTo",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.innerSlider.slickGoTo(t,e)})),m(g(n),"slickPause",(function(){return n.innerSlider.pause("paused")})),m(g(n),"slickPlay",(function(){return n.innerSlider.autoPlay("play")})),n.state={breakpoint:null},n._responsiveMediaHandlers=[],n}var n,s,f;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,t),n=e,(s=[{key:"media",value:function(t,e){y.register(t,e),this._responsiveMediaHandlers.push({query:t,handler:e})}},{key:"UNSAFE_componentWillMount",value:function(){var t=this;if(this.props.responsive){var e=this.props.responsive.map((function(t){return t.breakpoint}));e.sort((function(t,e){return t-e})),e.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:e[r-1]+1,maxWidth:n}),(0,u.canUseDOM)()&&t.media(i,(function(){t.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:e.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(n,(function(){t.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(t){y.unregister(t.query,t.handler)}))}},{key:"render",value:function(){var t,e,n=this;(t=this.state.breakpoint?"unslick"===(e=this.props.responsive.filter((function(t){return t.breakpoint===n.state.breakpoint})))[0].settings?"unslick":d({},a.default,{},this.props,{},e[0].settings):d({},a.default,{},this.props)).centerMode&&(t.slidesToScroll,t.slidesToScroll=1),t.fade&&(t.slidesToShow,t.slidesToScroll,t.slidesToShow=1,t.slidesToScroll=1);var o=r.default.Children.toArray(this.props.children);o=o.filter((function(t){return"string"===typeof t?!!t.trim():!!t})),t.variableWidth&&(t.rows>1||t.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),t.variableWidth=!1);for(var u=[],s=null,l=0;l<o.length;l+=t.rows*t.slidesPerRow){for(var f=[],h=l;h<l+t.rows*t.slidesPerRow;h+=t.slidesPerRow){for(var p=[],g=h;g<h+t.slidesPerRow&&(t.variableWidth&&o[g].props.style&&(s=o[g].props.style.width),!(g>=o.length));g+=1)p.push(r.default.cloneElement(o[g],{key:100*l+10*h+g,tabIndex:-1,style:{width:"".concat(100/t.slidesPerRow,"%"),display:"inline-block"}}));f.push(r.default.createElement("div",{key:10*l+h},p))}t.variableWidth?u.push(r.default.createElement("div",{key:l,style:{width:s}},f)):u.push(r.default.createElement("div",{key:l},f))}if("unslick"===t){var v="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:v},u)}return u.length<=t.slidesToShow&&(t.unslick=!0),r.default.createElement(i.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},t),u)}}])&&h(n.prototype,s),f&&h(n,f),e}(r.default.Component);e.default=b},250:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InnerSlider=void 0;var r=h(n(0)),i=h(n(27)),o=h(n(251)),a=h(n(252)),u=h(n(158)),s=n(159),l=n(253),c=n(254),f=n(255),d=h(n(256));function h(t){return t&&t.__esModule?t:{default:t}}function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function g(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function v(t){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==v(e)&&"function"!==typeof e?x(t):e}(this,b(e).call(this,t)),w(x(n),"listRefHandler",(function(t){return n.list=t})),w(x(n),"trackRefHandler",(function(t){return n.track=t})),w(x(n),"adaptHeight",(function(){if(n.props.adaptiveHeight&&n.list){var t=n.list.querySelector('[data-index="'.concat(n.state.currentSlide,'"]'));n.list.style.height=(0,s.getHeight)(t)+"px"}})),w(x(n),"UNSAFE_componentWillMount",(function(){if(n.ssrInit(),n.props.onInit&&n.props.onInit(),n.props.lazyLoad){var t=(0,s.getOnDemandLazySlides)(y({},n.props,{},n.state));t.length>0&&(n.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}})),n.props.onLazyLoad&&n.props.onLazyLoad(t))}})),w(x(n),"componentDidMount",(function(){var t=y({listRef:n.list,trackRef:n.track},n.props);n.updateState(t,!0,(function(){n.adaptHeight(),n.props.autoplay&&n.autoPlay("update")})),"progressive"===n.props.lazyLoad&&(n.lazyLoadTimer=setInterval(n.progressiveLazyLoad,1e3)),n.ro=new d.default((function(){n.state.animating?(n.onWindowResized(!1),n.callbackTimers.push(setTimeout((function(){return n.onWindowResized()}),n.props.speed))):n.onWindowResized()})),n.ro.observe(n.list),Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(t){t.onfocus=n.props.pauseOnFocus?n.onSlideFocus:null,t.onblur=n.props.pauseOnFocus?n.onSlideBlur:null})),window&&(window.addEventListener?window.addEventListener("resize",n.onWindowResized):window.attachEvent("onresize",n.onWindowResized))})),w(x(n),"componentWillUnmount",(function(){n.animationEndCallback&&clearTimeout(n.animationEndCallback),n.lazyLoadTimer&&clearInterval(n.lazyLoadTimer),n.callbackTimers.length&&(n.callbackTimers.forEach((function(t){return clearTimeout(t)})),n.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",n.onWindowResized):window.detachEvent("onresize",n.onWindowResized),n.autoplayTimer&&clearInterval(n.autoplayTimer)})),w(x(n),"UNSAFE_componentWillReceiveProps",(function(t){for(var e=y({listRef:n.list,trackRef:n.track},t,{},n.state),i=!1,o=0,a=Object.keys(n.props);o<a.length;o++){var u=a[o];if(!t.hasOwnProperty(u)){i=!0;break}if("object"!==v(t[u])&&"function"!==typeof t[u]&&t[u]!==n.props[u]){i=!0;break}}n.updateState(e,i,(function(){n.state.currentSlide>=r.default.Children.count(t.children)&&n.changeSlide({message:"index",index:r.default.Children.count(t.children)-t.slidesToShow,currentSlide:n.state.currentSlide}),t.autoplay?n.autoPlay("update"):n.pause("paused")}))})),w(x(n),"componentDidUpdate",(function(){if(n.checkImagesLoad(),n.props.onReInit&&n.props.onReInit(),n.props.lazyLoad){var t=(0,s.getOnDemandLazySlides)(y({},n.props,{},n.state));t.length>0&&(n.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}})),n.props.onLazyLoad&&n.props.onLazyLoad(t))}n.adaptHeight()})),w(x(n),"onWindowResized",(function(t){n.debouncedResize&&n.debouncedResize.cancel(),n.debouncedResize=(0,a.default)((function(){return n.resizeWindow(t)}),50),n.debouncedResize()})),w(x(n),"resizeWindow",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(i.default.findDOMNode(n.track)){var e=y({listRef:n.list,trackRef:n.track},n.props,{},n.state);n.updateState(e,t,(function(){n.props.autoplay?n.autoPlay("update"):n.pause("paused")})),n.setState({animating:!1}),clearTimeout(n.animationEndCallback),delete n.animationEndCallback}})),w(x(n),"updateState",(function(t,e,i){var o=(0,s.initializedState)(t);t=y({},t,{},o,{slideIndex:o.currentSlide}),t=y({},t,{left:(0,s.getTrackLeft)(t)});var a=(0,s.getTrackCSS)(t);(e||r.default.Children.count(n.props.children)!==r.default.Children.count(t.children))&&(o.trackStyle=a),n.setState(o,i)})),w(x(n),"ssrInit",(function(){if(n.props.variableWidth){var t=0,e=0,i=[],o=(0,s.getPreClones)(y({},n.props,{},n.state,{slideCount:n.props.children.length})),a=(0,s.getPostClones)(y({},n.props,{},n.state,{slideCount:n.props.children.length}));n.props.children.forEach((function(e){i.push(e.props.style.width),t+=e.props.style.width}));for(var u=0;u<o;u++)e+=i[i.length-1-u],t+=i[i.length-1-u];for(var l=0;l<a;l++)t+=i[l];for(var c=0;c<n.state.currentSlide;c++)e+=i[c];var f={width:t+"px",left:-e+"px"};if(n.props.centerMode){var d="".concat(i[n.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(d,") / 2 ) ")}n.setState({trackStyle:f})}else{var h=r.default.Children.count(n.props.children),p=y({},n.props,{},n.state,{slideCount:h}),g=(0,s.getPreClones)(p)+(0,s.getPostClones)(p)+h,v=100/n.props.slidesToShow*g,m=100/g,b=-m*((0,s.getPreClones)(p)+n.state.currentSlide)*v/100;n.props.centerMode&&(b+=(100-m*v/100)/2);var x={width:v+"%",left:b+"%"};n.setState({slideWidth:m+"%",trackStyle:x})}})),w(x(n),"checkImagesLoad",(function(){var t=document.querySelectorAll(".slick-slide img"),e=t.length,r=0;Array.prototype.forEach.call(t,(function(t){var i=function(){return++r&&r>=e&&n.onWindowResized()};if(t.onclick){var o=t.onclick;t.onclick=function(){o(),t.parentNode.focus()}}else t.onclick=function(){return t.parentNode.focus()};t.onload||(n.props.lazyLoad?t.onload=function(){n.adaptHeight(),n.callbackTimers.push(setTimeout(n.onWindowResized,n.props.speed))}:(t.onload=i,t.onerror=function(){i(),n.props.onLazyLoadError&&n.props.onLazyLoadError()}))}))})),w(x(n),"progressiveLazyLoad",(function(){for(var t=[],e=y({},n.props,{},n.state),r=n.state.currentSlide;r<n.state.slideCount+(0,s.getPostClones)(e);r++)if(n.state.lazyLoadedList.indexOf(r)<0){t.push(r);break}for(var i=n.state.currentSlide-1;i>=-(0,s.getPreClones)(e);i--)if(n.state.lazyLoadedList.indexOf(i)<0){t.push(i);break}t.length>0?(n.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}})),n.props.onLazyLoad&&n.props.onLazyLoad(t)):n.lazyLoadTimer&&(clearInterval(n.lazyLoadTimer),delete n.lazyLoadTimer)})),w(x(n),"slideHandler",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.props,i=r.asNavFor,o=r.beforeChange,a=r.onLazyLoad,u=r.speed,l=r.afterChange,c=n.state.currentSlide,f=(0,s.slideHandler)(y({index:t},n.props,{},n.state,{trackRef:n.track,useCSS:n.props.useCSS&&!e})),d=f.state,h=f.nextState;if(d){o&&o(c,d.currentSlide);var p=d.lazyLoadedList.filter((function(t){return n.state.lazyLoadedList.indexOf(t)<0}));a&&p.length>0&&a(p),n.setState(d,(function(){i&&i.innerSlider.slideHandler(t),h&&(n.animationEndCallback=setTimeout((function(){var t=h.animating,e=g(h,["animating"]);n.setState(e,(function(){n.callbackTimers.push(setTimeout((function(){return n.setState({animating:t})}),10)),l&&l(d.currentSlide),delete n.animationEndCallback}))}),u))}))}})),w(x(n),"changeSlide",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y({},n.props,{},n.state),i=(0,s.changeSlide)(r,t);(0===i||i)&&(!0===e?n.slideHandler(i,e):n.slideHandler(i))})),w(x(n),"clickHandler",(function(t){!1===n.clickable&&(t.stopPropagation(),t.preventDefault()),n.clickable=!0})),w(x(n),"keyHandler",(function(t){var e=(0,s.keyHandler)(t,n.props.accessibility,n.props.rtl);""!==e&&n.changeSlide({message:e})})),w(x(n),"selectHandler",(function(t){n.changeSlide(t)})),w(x(n),"disableBodyScroll",(function(){window.ontouchmove=function(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1}})),w(x(n),"enableBodyScroll",(function(){window.ontouchmove=null})),w(x(n),"swipeStart",(function(t){n.props.verticalSwiping&&n.disableBodyScroll();var e=(0,s.swipeStart)(t,n.props.swipe,n.props.draggable);""!==e&&n.setState(e)})),w(x(n),"swipeMove",(function(t){var e=(0,s.swipeMove)(t,y({},n.props,{},n.state,{trackRef:n.track,listRef:n.list,slideIndex:n.state.currentSlide}));e&&(e.swiping&&(n.clickable=!1),n.setState(e))})),w(x(n),"swipeEnd",(function(t){var e=(0,s.swipeEnd)(t,y({},n.props,{},n.state,{trackRef:n.track,listRef:n.list,slideIndex:n.state.currentSlide}));if(e){var r=e.triggerSlideHandler;delete e.triggerSlideHandler,n.setState(e),void 0!==r&&(n.slideHandler(r),n.props.verticalSwiping&&n.enableBodyScroll())}})),w(x(n),"slickPrev",(function(){n.callbackTimers.push(setTimeout((function(){return n.changeSlide({message:"previous"})}),0))})),w(x(n),"slickNext",(function(){n.callbackTimers.push(setTimeout((function(){return n.changeSlide({message:"next"})}),0))})),w(x(n),"slickGoTo",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=Number(t),isNaN(t))return"";n.callbackTimers.push(setTimeout((function(){return n.changeSlide({message:"index",index:t,currentSlide:n.state.currentSlide},e)}),0))})),w(x(n),"play",(function(){var t;if(n.props.rtl)t=n.state.currentSlide-n.props.slidesToScroll;else{if(!(0,s.canGoNext)(y({},n.props,{},n.state)))return!1;t=n.state.currentSlide+n.props.slidesToScroll}n.slideHandler(t)})),w(x(n),"autoPlay",(function(t){n.autoplayTimer&&clearInterval(n.autoplayTimer);var e=n.state.autoplaying;if("update"===t){if("hovered"===e||"focused"===e||"paused"===e)return}else if("leave"===t){if("paused"===e||"focused"===e)return}else if("blur"===t&&("paused"===e||"hovered"===e))return;n.autoplayTimer=setInterval(n.play,n.props.autoplaySpeed+50),n.setState({autoplaying:"playing"})})),w(x(n),"pause",(function(t){n.autoplayTimer&&(clearInterval(n.autoplayTimer),n.autoplayTimer=null);var e=n.state.autoplaying;"paused"===t?n.setState({autoplaying:"paused"}):"focused"===t?"hovered"!==e&&"playing"!==e||n.setState({autoplaying:"focused"}):"playing"===e&&n.setState({autoplaying:"hovered"})})),w(x(n),"onDotsOver",(function(){return n.props.autoplay&&n.pause("hovered")})),w(x(n),"onDotsLeave",(function(){return n.props.autoplay&&"hovered"===n.state.autoplaying&&n.autoPlay("leave")})),w(x(n),"onTrackOver",(function(){return n.props.autoplay&&n.pause("hovered")})),w(x(n),"onTrackLeave",(function(){return n.props.autoplay&&"hovered"===n.state.autoplaying&&n.autoPlay("leave")})),w(x(n),"onSlideFocus",(function(){return n.props.autoplay&&n.pause("focused")})),w(x(n),"onSlideBlur",(function(){return n.props.autoplay&&"focused"===n.state.autoplaying&&n.autoPlay("blur")})),w(x(n),"render",(function(){var t,e,i,o=(0,u.default)("slick-slider",n.props.className,{"slick-vertical":n.props.vertical,"slick-initialized":!0}),a=y({},n.props,{},n.state),d=(0,s.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding"]),h=n.props.pauseOnHover;if(d=y({},d,{onMouseEnter:h?n.onTrackOver:null,onMouseLeave:h?n.onTrackLeave:null,onMouseOver:h?n.onTrackOver:null,focusOnSelect:n.props.focusOnSelect?n.selectHandler:null}),!0===n.props.dots&&n.state.slideCount>=n.props.slidesToShow){var g=(0,s.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),v=n.props.pauseOnDotsHover;g=y({},g,{clickHandler:n.changeSlide,onMouseEnter:v?n.onDotsLeave:null,onMouseOver:v?n.onDotsOver:null,onMouseLeave:v?n.onDotsLeave:null}),t=r.default.createElement(c.Dots,g)}var m=(0,s.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);m.clickHandler=n.changeSlide,n.props.arrows&&(e=r.default.createElement(f.PrevArrow,m),i=r.default.createElement(f.NextArrow,m));var b=null;n.props.vertical&&(b={height:n.state.listHeight});var x=null;!1===n.props.vertical?!0===n.props.centerMode&&(x={padding:"0px "+n.props.centerPadding}):!0===n.props.centerMode&&(x={padding:n.props.centerPadding+" 0px"});var k=y({},b,{},x),w=n.props.touchMove,M={className:"slick-list",style:k,onClick:n.clickHandler,onMouseDown:w?n.swipeStart:null,onMouseMove:n.state.dragging&&w?n.swipeMove:null,onMouseUp:w?n.swipeEnd:null,onMouseLeave:n.state.dragging&&w?n.swipeEnd:null,onTouchStart:w?n.swipeStart:null,onTouchMove:n.state.dragging&&w?n.swipeMove:null,onTouchEnd:w?n.swipeEnd:null,onTouchCancel:n.state.dragging&&w?n.swipeEnd:null,onKeyDown:n.props.accessibility?n.keyHandler:null},S={className:o,dir:"ltr",style:n.props.style};return n.props.unslick&&(M={className:"slick-list"},S={className:o}),r.default.createElement("div",S,n.props.unslick?"":e,r.default.createElement("div",p({ref:n.listRefHandler},M),r.default.createElement(l.Track,p({ref:n.trackRefHandler},d),n.props.children)),n.props.unslick?"":i,n.props.unslick?"":t)})),n.list=null,n.track=null,n.state=y({},o.default,{currentSlide:n.props.initialSlide,slideCount:r.default.Children.count(n.props.children)}),n.callbackTimers=[],n.clickable=!0,n.debouncedResize=null,n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,t),e}(r.default.Component);e.InnerSlider=M},251:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0};e.default=r},252:function(t,e,n){(function(e){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,l=u||s||Function("return this")(),c=Object.prototype.toString,f=Math.max,d=Math.min,h=function(){return l.Date.now()};function p(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==c.call(t)}(t))return NaN;if(p(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=p(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var u=i.test(t);return u||o.test(t)?a(t.slice(2),u?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var r,i,o,a,u,s,l=0,c=!1,v=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=r,o=i;return r=i=void 0,l=e,a=t.apply(o,n)}function b(t){return l=t,u=setTimeout(k,e),c?y(t):a}function x(t){var n=t-s;return void 0===s||n>=e||n<0||v&&t-l>=o}function k(){var t=h();if(x(t))return w(t);u=setTimeout(k,function(t){var n=e-(t-s);return v?d(n,o-(t-l)):n}(t))}function w(t){return u=void 0,m&&r?y(t):(r=i=void 0,a)}function M(){var t=h(),n=x(t);if(r=arguments,i=this,s=t,n){if(void 0===u)return b(s);if(v)return u=setTimeout(k,e),y(s)}return void 0===u&&(u=setTimeout(k,e)),a}return e=g(e)||0,p(n)&&(c=!!n.leading,o=(v="maxWait"in n)?f(g(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m),M.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=s=i=u=void 0},M.flush=function(){return void 0===u?a:w(h())},M}}).call(this,n(91))},253:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Track=void 0;var r=a(n(0)),i=a(n(158)),o=n(159);function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){var e,n,r,i,o;return r=(o=t.rtl?t.slideCount-1-t.index:t.index)<0||o>=t.slideCount,t.centerMode?(i=Math.floor(t.slidesToShow/2),n=(o-t.currentSlide)%t.slideCount===0,o>t.currentSlide-i-1&&o<=t.currentSlide+i&&(e=!0)):e=t.currentSlide<=o&&o<t.currentSlide+t.slidesToShow,{"slick-slide":!0,"slick-active":e,"slick-center":n,"slick-cloned":r,"slick-current":o===t.currentSlide}},y=function(t,e){return t.key||e},b=function(t){var e,n=[],a=[],u=[],s=r.default.Children.count(t.children),l=(0,o.lazyStartIndex)(t),c=(0,o.lazyEndIndex)(t);return r.default.Children.forEach(t.children,(function(f,d){var h,p={message:"children",index:d,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};h=!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(d)>=0?f:r.default.createElement("div",null);var v=function(t){var e={};return void 0!==t.variableWidth&&!1!==t.variableWidth||(e.width=t.slideWidth),t.fade&&(e.position="relative",t.vertical?e.top=-t.index*parseInt(t.slideHeight):e.left=-t.index*parseInt(t.slideWidth),e.opacity=t.currentSlide===t.index?1:0,e.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase,e.WebkitTransition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase),e}(g({},t,{index:d})),b=h.props.className||"",x=m(g({},t,{index:d}));if(n.push(r.default.cloneElement(h,{key:"original"+y(h,d),"data-index":d,className:(0,i.default)(x,b),tabIndex:"-1","aria-hidden":!x["slick-active"],style:g({outline:"none"},h.props.style||{},{},v),onClick:function(e){h.props&&h.props.onClick&&h.props.onClick(e),t.focusOnSelect&&t.focusOnSelect(p)}})),t.infinite&&!1===t.fade){var k=s-d;k<=(0,o.getPreClones)(t)&&s!==t.slidesToShow&&((e=-k)>=l&&(h=f),x=m(g({},t,{index:e})),a.push(r.default.cloneElement(h,{key:"precloned"+y(h,e),"data-index":e,tabIndex:"-1",className:(0,i.default)(x,b),"aria-hidden":!x["slick-active"],style:g({},h.props.style||{},{},v),onClick:function(e){h.props&&h.props.onClick&&h.props.onClick(e),t.focusOnSelect&&t.focusOnSelect(p)}}))),s!==t.slidesToShow&&((e=s+d)<c&&(h=f),x=m(g({},t,{index:e})),u.push(r.default.cloneElement(h,{key:"postcloned"+y(h,e),"data-index":e,tabIndex:"-1",className:(0,i.default)(x,b),"aria-hidden":!x["slick-active"],style:g({},h.props.style||{},{},v),onClick:function(e){h.props&&h.props.onClick&&h.props.onClick(e),t.focusOnSelect&&t.focusOnSelect(p)}})))}})),t.rtl?a.concat(n,u).reverse():a.concat(n,u)},x=function(t){function e(){return l(this,e),f(this,d(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(i=[{key:"render",value:function(){var t=b(this.props),e=this.props,n={onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave};return r.default.createElement("div",s({className:"slick-track",style:this.props.trackStyle},n),t)}}])&&c(n.prototype,i),o&&c(n,o),e}(r.default.PureComponent);e.Track=x},254:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dots=void 0;var r=o(n(0)),i=o(n(158));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function e(){return l(this,e),f(this,d(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(o=[{key:"clickHandler",value:function(t,e){e.preventDefault(),this.props.clickHandler(t)}},{key:"render",value:function(){var t,e=this,n=(t={slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll,slidesToShow:this.props.slidesToShow,infinite:this.props.infinite}).infinite?Math.ceil(t.slideCount/t.slidesToScroll):Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,o=this.props,a={onMouseEnter:o.onMouseEnter,onMouseOver:o.onMouseOver,onMouseLeave:o.onMouseLeave},l=Array.apply(null,Array(n+1).join("0").split("")).map((function(t,n){var o=n*e.props.slidesToScroll,a=n*e.props.slidesToScroll+(e.props.slidesToScroll-1),u=(0,i.default)({"slick-active":e.props.currentSlide>=o&&e.props.currentSlide<=a}),s={message:"dots",index:n,slidesToScroll:e.props.slidesToScroll,currentSlide:e.props.currentSlide},l=e.clickHandler.bind(e,s);return r.default.createElement("li",{key:n,className:u},r.default.cloneElement(e.props.customPaging(n),{onClick:l}))}));return r.default.cloneElement(this.props.appendDots(l),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({className:this.props.dotsClass},a))}}])&&c(n.prototype,o),a&&c(n,a),e}(r.default.PureComponent);e.Dots=p},255:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextArrow=e.PrevArrow=void 0;var r=a(n(0)),i=a(n(158)),o=n(159);function a(t){return t&&t.__esModule?t:{default:t}}function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function g(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(){return d(this,e),g(this,v(e).apply(this,arguments))}return m(e,t),p(e,[{key:"clickHandler",value:function(t,e){e&&e.preventDefault(),this.props.clickHandler(t,e)}},{key:"render",value:function(){var t={"slick-arrow":!0,"slick-prev":!0},e=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(t["slick-disabled"]=!0,e=null);var n={key:"0","data-role":"none",className:(0,i.default)(t),style:{display:"block"},onClick:e},o={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?r.default.cloneElement(this.props.prevArrow,c({},n,{},o)):r.default.createElement("button",s({key:"0",type:"button"},n)," ","Previous")}}]),e}(r.default.PureComponent);e.PrevArrow=b;var x=function(t){function e(){return d(this,e),g(this,v(e).apply(this,arguments))}return m(e,t),p(e,[{key:"clickHandler",value:function(t,e){e&&e.preventDefault(),this.props.clickHandler(t,e)}},{key:"render",value:function(){var t={"slick-arrow":!0,"slick-next":!0},e=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(t["slick-disabled"]=!0,e=null);var n={key:"1","data-role":"none",className:(0,i.default)(t),style:{display:"block"},onClick:e},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?r.default.cloneElement(this.props.nextArrow,c({},n,{},a)):r.default.createElement("button",s({key:"1",type:"button"},n)," ","Next")}}]),e}(r.default.PureComponent);e.NextArrow=x},256:function(t,e,n){"use strict";n.r(e),function(t){var n=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];t.call(e,i[1],i[0])}},Object.defineProperties(e.prototype,n),e}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,s=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function a(){n&&(n=!1,t()),r&&s()}function u(){o(a)}function s(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(u,e);i=t}return s}(this.refresh.bind(this),20)};s.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},s.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},s.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},s.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=""),a.some((function(t){return!!~e.indexOf(t)}))&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null;var l=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n+=1){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},c=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},f=m(0,0,0,0);function d(t){return parseFloat(t)||0}function h(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e.reduce((function(e,n){return e+d(t["border-"+n+"-width"])}),0)}function p(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return f;var r=c(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=t["padding-"+i];e[i]=d(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,u=d(r.width),s=d(r.height);if("border-box"===r.boxSizing&&(Math.round(u+o)!==e&&(u-=h(r,"left","right")+o),Math.round(s+a)!==n&&(s-=h(r,"top","bottom")+a)),!function(t){return t===c(t).document.documentElement}(t)){var l=Math.round(u+o)-e,p=Math.round(s+a)-n;1!==Math.abs(l)&&(u-=l),1!==Math.abs(p)&&(s-=p)}return m(i.left,i.top,u,s)}var g="undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof c(t).SVGGraphicsElement}:function(t){return t instanceof c(t).SVGElement&&"function"===typeof t.getBBox};function v(t){return r?g(t)?function(t){var e=t.getBBox();return m(0,0,e.width,e.height)}(t):p(t):f}function m(t,e,n,r){return{x:t,y:e,width:n,height:r}}var y=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=t};y.prototype.isActive=function(){var t=v(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},y.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var b=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return l(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);l(this,{target:t,contentRect:n})},x=function(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r};x.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new y(t)),this.controller_.addObserver(this),this.controller_.refresh())}},x.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},x.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},x.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},x.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new b(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},x.prototype.clearActive=function(){this.activeObservations_.splice(0)},x.prototype.hasActive=function(){return this.activeObservations_.length>0};var k="undefined"!==typeof WeakMap?new WeakMap:new n,w=function(t){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=s.getInstance(),n=new x(t,e,this);k.set(this,n)};["observe","unobserve","disconnect"].forEach((function(t){w.prototype[t]=function(){return(e=k.get(this))[t].apply(e,arguments);var e}}));var M="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:w;e.default=M}.call(this,n(91))},257:function(t,e,n){var r=n(258),i=function(t){var e="",n=Object.keys(t);return n.forEach((function(i,o){var a=t[i];(function(t){return/[height|width]$/.test(t)})(i=r(i))&&"number"===typeof a&&(a+="px"),e+=!0===a?i:!1===a?"not "+i:"("+i+": "+a+")",o<n.length-1&&(e+=" and ")})),e};t.exports=function(t){var e="";return"string"===typeof t?t:t instanceof Array?(t.forEach((function(n,r){e+=i(n),r<t.length-1&&(e+=", ")})),e):i(t)}},258:function(t,e){t.exports=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})).toLowerCase()}},259:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r};var o={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return i.default.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return i.default.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};e.default=o},260:function(t,e,n){var r=n(261);t.exports=new r},261:function(t,e,n){var r=n(262),i=n(205),o=i.each,a=i.isFunction,u=i.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}s.prototype={constructor:s,register:function(t,e,n){var i=this.queries,s=n&&this.browserIsIncapable;return i[t]||(i[t]=new r(t,s)),a(e)&&(e={match:e}),u(e)||(e=[e]),o(e,(function(e){a(e)&&(e={match:e}),i[t].addHandler(e)})),this},unregister:function(t,e){var n=this.queries[t];return n&&(e?n.removeHandler(e):(n.clear(),delete this.queries[t])),this}},t.exports=s},262:function(t,e,n){var r=n(263),i=n(205).each;function o(t,e){this.query=t,this.isUnconditional=e,this.handlers=[],this.mql=window.matchMedia(t);var n=this;this.listener=function(t){n.mql=t.currentTarget||t,n.assess()},this.mql.addListener(this.listener)}o.prototype={constuctor:o,addHandler:function(t){var e=new r(t);this.handlers.push(e),this.matches()&&e.on()},removeHandler:function(t){var e=this.handlers;i(e,(function(n,r){if(n.equals(t))return n.destroy(),!e.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(t){t.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";i(this.handlers,(function(e){e[t]()}))}},t.exports=o},263:function(t,e){function n(t){this.options=t,!t.deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},t.exports=n},392:function(t,e,n){"use strict";var r=n(4),i=n(10),o=n(13),a=n.n(o),u=n(0),s=n.n(u),l=(n(49),n(42)),c=n(14),f=n(200),d=n(176),h=["bsPrefix","active","disabled","className","variant","action","as","onClick"],p={variant:void 0,active:!1,disabled:!1},g=s.a.forwardRef((function(t,e){var n=t.bsPrefix,o=t.active,l=t.disabled,f=t.className,p=t.variant,g=t.action,v=t.as,m=t.onClick,y=Object(i.a)(t,h);n=Object(c.a)(n,"list-group-item");var b=Object(u.useCallback)((function(t){if(l)return t.preventDefault(),void t.stopPropagation();m&&m(t)}),[l,m]);return l&&void 0===y.tabIndex&&(y.tabIndex=-1,y["aria-disabled"]=!0),s.a.createElement(d.a,Object(r.a)({ref:e},y,{as:v||(g?y.href?"a":"button":"div"),onClick:b,className:a()(f,n,o&&"active",l&&"disabled",p&&n+"-"+p,g&&n+"-action")}))}));g.defaultProps=p,g.displayName="ListGroupItem";var v=g,m=["className","bsPrefix","variant","horizontal","as"],y={variant:void 0,horizontal:void 0},b=s.a.forwardRef((function(t,e){var n,o=Object(l.b)(t,{activeKey:"onSelect"}),u=o.className,d=o.bsPrefix,h=o.variant,p=o.horizontal,g=o.as,v=void 0===g?"div":g,y=Object(i.a)(o,m),b=Object(c.a)(d,"list-group");return n=p?!0===p?"horizontal":"horizontal-"+p:null,s.a.createElement(f.a,Object(r.a)({ref:e},y,{as:v,className:a()(u,b,h&&b+"-"+h,n&&b+"-"+n)}))}));b.defaultProps=y,b.displayName="ListGroup",b.Item=v;e.a=b}}]);
//# sourceMappingURL=6.dff6fe4a.chunk.js.map